2022-10-28 00:00:25.598  INFO 44199 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:00:25.615  INFO 44199 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:00:25.619  INFO 44199 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:00:30.550  INFO 44267 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 44267 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:00:30.552 DEBUG 44267 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:00:30.554  INFO 44267 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:00:30.605  INFO 44267 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:00:30.605  INFO 44267 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:00:31.505  INFO 44267 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:00:31.566  INFO 44267 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 4 JPA repository interfaces.
2022-10-28 00:00:32.147  INFO 44267 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:00:32.152  INFO 44267 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:00:32.152  INFO 44267 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:00:32.211  INFO 44267 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:00:32.211  INFO 44267 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1606 ms
2022-10-28 00:00:32.338  INFO 44267 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:00:32.653  INFO 44267 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:00:32.720  INFO 44267 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:00:32.748  INFO 44267 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:00:32.820  INFO 44267 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:00:32.886  INFO 44267 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:00:33.427  INFO 44267 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:00:33.432  INFO 44267 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:00:33.859  WARN 44267 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:00:33.998  INFO 44267 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@546690bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3000a8d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ae88e1, org.springframework.security.web.authentication.logout.LogoutFilter@28416295, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2804dc1c, com.example.refugeeshelter.filter.CustomAuthenticationFilter@408415bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49066708, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e314ef8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20078669, org.springframework.security.web.session.SessionManagementFilter@47864885, org.springframework.security.web.access.ExceptionTranslationFilter@4e5ec8de, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57b9b78e]
2022-10-28 00:00:34.363  INFO 44267 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:00:34.409  INFO 44267 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:00:34.426  INFO 44267 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.305 seconds (JVM running for 5.071)
2022-10-28 00:00:34.979  INFO 44267 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:00:34.981  INFO 44267 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:00:34.986  INFO 44267 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 00:00:34.998  INFO 44267 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:00:35.268  INFO 44267 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : field =
2022-10-28 00:01:01.034  INFO 44267 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:01:01.043  INFO 44267 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:01:01.045  INFO 44267 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:01:05.562  INFO 44332 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 44332 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:01:05.563 DEBUG 44332 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:01:05.565  INFO 44332 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:01:05.613  INFO 44332 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:01:05.613  INFO 44332 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:01:06.493  INFO 44332 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:01:06.555  INFO 44332 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 4 JPA repository interfaces.
2022-10-28 00:01:07.128  INFO 44332 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:01:07.133  INFO 44332 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:01:07.134  INFO 44332 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:01:07.193  INFO 44332 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:01:07.193  INFO 44332 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1579 ms
2022-10-28 00:01:07.324  INFO 44332 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:01:07.561  INFO 44332 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:01:07.621  INFO 44332 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:01:07.639  INFO 44332 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:01:07.705  INFO 44332 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:01:07.759  INFO 44332 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:01:08.329  INFO 44332 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:01:08.334  INFO 44332 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:01:08.843  WARN 44332 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:01:08.957  INFO 44332 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3000a8d3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2804dc1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@49066708, org.springframework.security.web.authentication.logout.LogoutFilter@39e3bfbd, com.example.refugeeshelter.filter.CustomAuthorizationFilter@408415bc, com.example.refugeeshelter.filter.CustomAuthenticationFilter@20078669, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7021efd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7424c14e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15f4f48a, org.springframework.security.web.session.SessionManagementFilter@1ae88e1, org.springframework.security.web.access.ExceptionTranslationFilter@47864885, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67f75707]
2022-10-28 00:01:09.343  INFO 44332 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:01:09.385  INFO 44332 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:01:09.399  INFO 44332 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.229 seconds (JVM running for 5.009)
2022-10-28 00:01:09.663  INFO 44332 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:01:09.667  INFO 44332 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:01:09.673  INFO 44332 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 00:01:09.686  INFO 44332 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:01:09.905  INFO 44332 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : field =
2022-10-28 00:01:43.253  INFO 44332 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:01:43.265  INFO 44332 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:01:43.268  INFO 44332 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:02:00.943  INFO 44454 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 44454 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:02:00.944 DEBUG 44454 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:02:00.946  INFO 44454 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:02:00.995  INFO 44454 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:02:00.995  INFO 44454 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:02:01.900  INFO 44454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:02:01.972  INFO 44454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2022-10-28 00:02:02.618  INFO 44454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:02:02.624  INFO 44454 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:02:02.624  INFO 44454 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:02:02.681  INFO 44454 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:02:02.681  INFO 44454 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1685 ms
2022-10-28 00:02:02.811  INFO 44454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:02:03.063  INFO 44454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:02:03.126  INFO 44454 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:02:03.144  INFO 44454 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:02:03.213  INFO 44454 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:02:03.264  INFO 44454 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:02:03.784  INFO 44454 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:02:03.789  INFO 44454 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:02:04.264  WARN 44454 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:02:04.406  INFO 44454 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d7bf9aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7541f180, org.springframework.security.web.context.SecurityContextPersistenceFilter@e102613, org.springframework.security.web.authentication.logout.LogoutFilter@7ab806e4, com.example.refugeeshelter.filter.CustomAuthorizationFilter@e4947b7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@47edf18e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fcf9bb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@283866bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65f9e670, org.springframework.security.web.session.SessionManagementFilter@20e5d585, org.springframework.security.web.access.ExceptionTranslationFilter@3ca22dd5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5daa730]
2022-10-28 00:02:04.785  INFO 44454 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:02:04.829  INFO 44454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:02:04.846  INFO 44454 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.303 seconds (JVM running for 5.232)
2022-10-28 00:02:05.102  INFO 44454 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:02:05.104  INFO 44454 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:02:05.110  INFO 44454 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 00:02:05.121  INFO 44454 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:02:05.410  INFO 44454 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : field =
2022-10-28 00:02:05.411  INFO 44454 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : 10
2022-10-28 00:02:12.057  INFO 44454 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:02:12.109  INFO 44454 --- [http-nio-8081-exec-3] c.e.refugeeshelter.service.RoomsService  : field =
2022-10-28 00:02:12.110  INFO 44454 --- [http-nio-8081-exec-3] c.e.refugeeshelter.service.RoomsService  : 10
2022-10-28 00:03:41.299  INFO 44454 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:03:41.309  INFO 44454 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:03:41.312  INFO 44454 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:03:46.034  INFO 44651 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 44651 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:03:46.035 DEBUG 44651 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:03:46.037  INFO 44651 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:03:46.092  INFO 44651 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:03:46.093  INFO 44651 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:03:46.938  INFO 44651 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:03:46.997  INFO 44651 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2022-10-28 00:03:47.568  INFO 44651 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:03:47.573  INFO 44651 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:03:47.574  INFO 44651 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:03:47.638  INFO 44651 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:03:47.639  INFO 44651 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1546 ms
2022-10-28 00:03:47.763  INFO 44651 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:03:48.002  INFO 44651 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:03:48.068  INFO 44651 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:03:48.088  INFO 44651 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:03:48.157  INFO 44651 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:03:48.215  INFO 44651 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:03:48.664  INFO 44651 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:03:48.669  INFO 44651 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:03:49.086  WARN 44651 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:03:49.213  INFO 44651 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30a81026, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56447f04, org.springframework.security.web.context.SecurityContextPersistenceFilter@559cadfc, org.springframework.security.web.authentication.logout.LogoutFilter@6ba298be, com.example.refugeeshelter.filter.CustomAuthorizationFilter@1460cb51, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1b143a7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71b8d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27dd9f05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b4d2019, org.springframework.security.web.session.SessionManagementFilter@542a5893, org.springframework.security.web.access.ExceptionTranslationFilter@50f847e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1bb1ff6d]
2022-10-28 00:03:49.531  INFO 44651 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:03:49.567  INFO 44651 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:03:49.594  INFO 44651 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.929 seconds (JVM running for 4.713)
2022-10-28 00:03:54.916  INFO 44651 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:03:54.919  INFO 44651 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:03:54.926  INFO 44651 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 00:03:54.938  INFO 44651 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:03:55.167  INFO 44651 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : 0
2022-10-28 00:03:55.767  INFO 44651 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:03:55.814  INFO 44651 --- [http-nio-8081-exec-3] c.e.refugeeshelter.service.RoomsService  : 0
2022-10-28 00:10:58.366  INFO 44651 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:10:58.377  INFO 44651 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:10:58.383  INFO 44651 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:11:03.248  INFO 45415 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 45415 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:11:03.249 DEBUG 45415 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:11:03.251  INFO 45415 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:11:03.299  INFO 45415 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:11:03.299  INFO 45415 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:11:04.096  INFO 45415 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:11:04.190  INFO 45415 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 4 JPA repository interfaces.
2022-10-28 00:11:04.753  INFO 45415 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:11:04.758  INFO 45415 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:11:04.758  INFO 45415 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:11:04.819  INFO 45415 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:11:04.819  INFO 45415 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1519 ms
2022-10-28 00:11:04.906  INFO 45415 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:11:05.175  INFO 45415 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:11:05.240  INFO 45415 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:11:05.262  INFO 45415 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:11:05.352  INFO 45415 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:11:05.418  INFO 45415 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:11:05.935  INFO 45415 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:11:05.940  INFO 45415 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:11:06.406  WARN 45415 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:11:06.529  INFO 45415 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73050d7f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55072de2, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f3eff61, org.springframework.security.web.authentication.logout.LogoutFilter@5ccefdd0, com.example.refugeeshelter.filter.CustomAuthorizationFilter@64c29958, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2a51d42b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b7e9bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47dba70e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71645aeb, org.springframework.security.web.session.SessionManagementFilter@8238670, org.springframework.security.web.access.ExceptionTranslationFilter@7cec8ff3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71452ca7]
2022-10-28 00:11:06.933  INFO 45415 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:11:06.999  INFO 45415 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:11:07.032  INFO 45415 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.16 seconds (JVM running for 4.96)
2022-10-28 00:11:07.210  INFO 45415 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:11:07.213  INFO 45415 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:11:07.218  INFO 45415 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 00:11:07.232  INFO 45415 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:11:07.454  INFO 45415 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : After = 0
2022-10-28 00:13:10.064  INFO 45415 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:13:10.078  INFO 45415 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:13:10.084  INFO 45415 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:13:14.756  INFO 45642 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 45642 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:13:14.757 DEBUG 45642 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:13:14.759  INFO 45642 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:13:14.809  INFO 45642 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:13:14.810  INFO 45642 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:13:15.678  INFO 45642 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:13:15.737  INFO 45642 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2022-10-28 00:13:16.385  INFO 45642 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:13:16.393  INFO 45642 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:13:16.406  INFO 45642 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:13:16.491  INFO 45642 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:13:16.491  INFO 45642 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1681 ms
2022-10-28 00:13:16.619  INFO 45642 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:13:16.876  INFO 45642 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:13:16.937  INFO 45642 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:13:16.958  INFO 45642 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:13:17.028  INFO 45642 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:13:17.083  INFO 45642 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:13:17.600  INFO 45642 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:13:17.605  INFO 45642 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:13:18.067  WARN 45642 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:13:18.201  INFO 45642 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42b2e4b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25b30edc, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b582db1, org.springframework.security.web.authentication.logout.LogoutFilter@31b746ef, com.example.refugeeshelter.filter.CustomAuthorizationFilter@61c0f409, com.example.refugeeshelter.filter.CustomAuthenticationFilter@20501319, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e0cce07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28a8f2ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7512a48f, org.springframework.security.web.session.SessionManagementFilter@3a984b5d, org.springframework.security.web.access.ExceptionTranslationFilter@1d776e1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@314a9235]
2022-10-28 00:13:18.613  INFO 45642 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:13:18.665  INFO 45642 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:13:18.692  INFO 45642 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.313 seconds (JVM running for 5.102)
2022-10-28 00:13:18.870  INFO 45642 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:13:18.872  INFO 45642 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:13:18.878  INFO 45642 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 00:13:18.890  INFO 45642 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:13:19.143 ERROR 45642 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.refugeeshelter.dto.response.RoomsResponse.id to null value
2022-10-28 00:13:25.427  INFO 45642 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:13:25.479 ERROR 45642 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.refugeeshelter.dto.response.RoomsResponse.id to null value
2022-10-28 00:14:19.683  INFO 45642 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:14:19.692  INFO 45642 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:14:19.694  INFO 45642 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:14:24.339  INFO 45775 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 45775 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:14:24.340 DEBUG 45775 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:14:24.342  INFO 45775 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:14:24.403  INFO 45775 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:14:24.404  INFO 45775 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:14:25.416  INFO 45775 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:14:25.484  INFO 45775 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 00:14:26.124  INFO 45775 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:14:26.132  INFO 45775 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:14:26.132  INFO 45775 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:14:26.192  INFO 45775 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:14:26.193  INFO 45775 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1789 ms
2022-10-28 00:14:26.283  INFO 45775 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:14:26.522  INFO 45775 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:14:26.597  INFO 45775 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:14:26.619  INFO 45775 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:14:26.748  INFO 45775 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:14:26.802  INFO 45775 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:14:27.299  INFO 45775 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:14:27.304  INFO 45775 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:14:27.794  WARN 45775 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:14:27.912  INFO 45775 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ae54662, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e283128, org.springframework.security.web.context.SecurityContextPersistenceFilter@7dabb75c, org.springframework.security.web.authentication.logout.LogoutFilter@6cf12124, com.example.refugeeshelter.filter.CustomAuthorizationFilter@12c3bdca, com.example.refugeeshelter.filter.CustomAuthenticationFilter@31b4e49c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38b20757, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8e687cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@152629e, org.springframework.security.web.session.SessionManagementFilter@38607222, org.springframework.security.web.access.ExceptionTranslationFilter@1fd77b28, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f8fa921]
2022-10-28 00:14:28.299  INFO 45775 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:14:28.335  INFO 45775 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:14:28.352  INFO 45775 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.479 seconds (JVM running for 5.262)
2022-10-28 00:14:28.717  INFO 45775 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:14:28.720  INFO 45775 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:14:28.725  INFO 45775 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 00:14:28.739  INFO 45775 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:14:29.035 ERROR 45775 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.refugeeshelter.dto.response.RoomsResponse.id to null value
2022-10-28 00:15:24.676  INFO 45775 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:15:24.686  INFO 45775 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:15:24.689  INFO 45775 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:15:29.320  INFO 45891 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 45891 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:15:29.321 DEBUG 45891 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:15:29.324  INFO 45891 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:15:29.381  INFO 45891 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:15:29.381  INFO 45891 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:15:30.257  INFO 45891 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:15:30.321  INFO 45891 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 4 JPA repository interfaces.
2022-10-28 00:15:30.885  INFO 45891 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:15:30.890  INFO 45891 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:15:30.890  INFO 45891 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:15:30.949  INFO 45891 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:15:30.950  INFO 45891 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1568 ms
2022-10-28 00:15:31.076  INFO 45891 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:15:31.315  INFO 45891 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:15:31.376  INFO 45891 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:15:31.394  INFO 45891 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:15:31.462  INFO 45891 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:15:31.519  INFO 45891 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:15:31.965  INFO 45891 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:15:31.970  INFO 45891 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:15:32.389  WARN 45891 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:15:32.509  INFO 45891 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@648706a8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3442b279, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a51f64, org.springframework.security.web.authentication.logout.LogoutFilter@13cf4e4c, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2637cea7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@187aa435, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50f847e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71b8d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@449443d4, org.springframework.security.web.session.SessionManagementFilter@315351bb, org.springframework.security.web.access.ExceptionTranslationFilter@804e4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ea8d7ce]
2022-10-28 00:15:32.816  INFO 45891 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:15:32.857  INFO 45891 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:15:32.886  INFO 45891 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.917 seconds (JVM running for 4.676)
2022-10-28 00:15:35.021  INFO 45891 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:15:35.024  INFO 45891 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:15:35.030  INFO 45891 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 00:15:35.041  INFO 45891 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:15:35.281 ERROR 45891 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.refugeeshelter.dto.response.RoomsResponse.id to null value
2022-10-28 00:17:55.784  INFO 45891 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:17:55.790  INFO 45891 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:17:55.793  INFO 45891 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:18:00.625  INFO 46151 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 46151 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:18:00.626 DEBUG 46151 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:18:00.628  INFO 46151 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:18:00.682  INFO 46151 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:18:00.683  INFO 46151 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:18:01.638  INFO 46151 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:18:01.699  INFO 46151 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2022-10-28 00:18:02.303  INFO 46151 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:18:02.312  INFO 46151 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:18:02.312  INFO 46151 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:18:02.387  INFO 46151 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:18:02.388  INFO 46151 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1705 ms
2022-10-28 00:18:02.539  INFO 46151 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:18:02.792  INFO 46151 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:18:02.862  INFO 46151 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:18:02.895  INFO 46151 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:18:02.969  INFO 46151 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:18:03.024  INFO 46151 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:18:03.548  INFO 46151 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:18:03.552  INFO 46151 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:18:04.015  WARN 46151 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:18:04.152  INFO 46151 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e8442b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ed2a93b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e1e93b0, org.springframework.security.web.authentication.logout.LogoutFilter@3621fc7f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@722c2f97, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3e299409, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28a8f2ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43dfb144, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@129490f6, org.springframework.security.web.session.SessionManagementFilter@65b6a7c0, org.springframework.security.web.access.ExceptionTranslationFilter@4e0cce07, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c4a5a70]
2022-10-28 00:18:04.521  INFO 46151 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:18:04.565  INFO 46151 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:18:04.582  INFO 46151 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.378 seconds (JVM running for 5.271)
2022-10-28 00:18:04.823  INFO 46151 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:18:04.825  INFO 46151 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:18:04.831  INFO 46151 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 00:18:04.843  INFO 46151 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:18:05.128 ERROR 46151 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set java.lang.Long field com.example.refugeeshelter.dto.response.RoomsResponse.id to null value
2022-10-28 00:23:09.957  INFO 46151 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:23:09.962  INFO 46151 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:23:09.967  INFO 46151 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:23:14.940  INFO 46679 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 46679 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:23:14.941 DEBUG 46679 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:23:14.943  INFO 46679 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:23:14.995  INFO 46679 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:23:14.995  INFO 46679 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:23:15.856  INFO 46679 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:23:15.917  INFO 46679 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2022-10-28 00:23:16.487  INFO 46679 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:23:16.493  INFO 46679 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:23:16.493  INFO 46679 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:23:16.554  INFO 46679 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:23:16.554  INFO 46679 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1558 ms
2022-10-28 00:23:16.678  INFO 46679 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:23:16.972  INFO 46679 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:23:17.035  INFO 46679 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:23:17.055  INFO 46679 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:23:17.122  INFO 46679 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:23:17.180  INFO 46679 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:23:17.683  INFO 46679 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:23:17.689  INFO 46679 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:23:18.151  WARN 46679 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:23:18.266  INFO 46679 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e5de304, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a182a64, org.springframework.security.web.context.SecurityContextPersistenceFilter@1df4cdc9, org.springframework.security.web.authentication.logout.LogoutFilter@5886f041, com.example.refugeeshelter.filter.CustomAuthorizationFilter@9ee9ab7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@6430e09b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1811f2b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e0bda0e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55c46ada, org.springframework.security.web.session.SessionManagementFilter@30a0dee1, org.springframework.security.web.access.ExceptionTranslationFilter@27dd9f05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30a81026]
2022-10-28 00:23:18.638  INFO 46679 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:23:18.674  INFO 46679 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:23:18.685  INFO 46679 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.175 seconds (JVM running for 5.14)
2022-10-28 00:23:19.155  INFO 46679 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:23:19.157  INFO 46679 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:23:19.163  INFO 46679 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 00:23:19.176  INFO 46679 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:23:30.779  INFO 46679 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:23:41.109  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:23:41.156  WARN 46679 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 19]]
2022-10-28 00:23:52.080  INFO 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:23:56.868  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:23:57.619  INFO 46679 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:24:03.782  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:24:04.453  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:24:07.464  INFO 46679 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:28:54.218  INFO 46679 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 00:28:55.218  INFO 46679 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 00:28:55.930  INFO 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:28:55.992  WARN 46679 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:28:55.992 ERROR 46679 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:28:55.994  INFO 46679 --- [http-nio-8081-exec-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:28:56.006 ERROR 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:28:57.279  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 00:28:58.045  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 00:28:58.705  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = DELETE
2022-10-28 00:28:58.715  WARN 46679 --- [http-nio-8081-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 00:29:00.202  INFO 46679 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11 method = DELETE
2022-10-28 00:29:00.953  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/111 method = DELETE
2022-10-28 00:29:02.349  INFO 46679 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/111 method = DELETE
2022-10-28 00:29:02.893  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/111 method = DELETE
2022-10-28 00:29:04.049  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11 method = DELETE
2022-10-28 00:29:04.881  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 00:29:05.858  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 00:29:06.654  INFO 46679 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:29:06.701  WARN 46679 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:29:06.701 ERROR 46679 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:29:06.702  INFO 46679 --- [http-nio-8081-exec-5] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:29:06.708 ERROR 46679 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:29:16.396  INFO 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/4 method = DELETE
2022-10-28 00:29:16.439  WARN 46679 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:29:16.440 ERROR 46679 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(4) is still referenced from table "reservations".
2022-10-28 00:29:16.440  INFO 46679 --- [http-nio-8081-exec-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:29:16.447 ERROR 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:29:17.633  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 00:29:17.670  WARN 46679 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:29:17.671 ERROR 46679 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(5) is still referenced from table "reservations".
2022-10-28 00:29:17.671  INFO 46679 --- [http-nio-8081-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:29:17.675 ERROR 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:29:18.433  INFO 46679 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/6 method = DELETE
2022-10-28 00:29:19.290  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/7 method = DELETE
2022-10-28 00:29:20.343  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/6 method = DELETE
2022-10-28 00:29:21.151  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = DELETE
2022-10-28 00:29:21.160  WARN 46679 --- [http-nio-8081-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 00:29:30.544  INFO 46679 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/7 method = DELETE
2022-10-28 00:29:35.291  INFO 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = DELETE
2022-10-28 00:29:35.307  WARN 46679 --- [http-nio-8081-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 00:29:40.085  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/8 method = DELETE
2022-10-28 00:29:42.822  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/9 method = DELETE
2022-10-28 00:29:44.976  INFO 46679 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:46.130  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:46.858  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:47.288  INFO 46679 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:47.876  INFO 46679 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:48.425  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:29:49.009  INFO 46679 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 00:30:11.680  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:12.211  INFO 46679 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:12.777  INFO 46679 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:17.676  INFO 46679 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11111 method = PATCH
2022-10-28 00:30:17.712 ERROR 46679 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '11111'
2022-10-28 00:30:17.737  WARN 46679 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:18.617  INFO 46679 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11111 method = PATCH
2022-10-28 00:30:18.635 ERROR 46679 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '11111'
2022-10-28 00:30:18.638  WARN 46679 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:25.696  INFO 46679 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:26.343  INFO 46679 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:28.672  INFO 46679 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:30:28.682  INFO 46679 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 00:30:28.686  INFO 46679 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 00:30:34.143  INFO 47469 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 47469 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 00:30:34.144 DEBUG 47469 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 00:30:34.147  INFO 47469 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 00:30:34.193  INFO 47469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 00:30:34.193  INFO 47469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 00:30:35.065  INFO 47469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 00:30:35.138  INFO 47469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 4 JPA repository interfaces.
2022-10-28 00:30:35.753  INFO 47469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 00:30:35.758  INFO 47469 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 00:30:35.759  INFO 47469 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 00:30:35.821  INFO 47469 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 00:30:35.821  INFO 47469 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1627 ms
2022-10-28 00:30:35.986  INFO 47469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 00:30:36.242  INFO 47469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 00:30:36.310  INFO 47469 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 00:30:36.342  INFO 47469 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 00:30:36.434  INFO 47469 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 00:30:36.493  INFO 47469 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 00:30:36.950  INFO 47469 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 00:30:36.954  INFO 47469 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 00:30:37.425  WARN 47469 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 00:30:37.557  INFO 47469 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@102d7bc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9b80aaa, org.springframework.security.web.context.SecurityContextPersistenceFilter@20e5d585, org.springframework.security.web.authentication.logout.LogoutFilter@5bf0fd2e, com.example.refugeeshelter.filter.CustomAuthorizationFilter@7d7bf9aa, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7541f180, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e102613, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b76ea9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e4947b7, org.springframework.security.web.session.SessionManagementFilter@3ca22dd5, org.springframework.security.web.access.ExceptionTranslationFilter@722ba920, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7db98227]
2022-10-28 00:30:37.935  INFO 47469 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 00:30:37.973  INFO 47469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 00:30:37.989  INFO 47469 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.222 seconds (JVM running for 5.324)
2022-10-28 00:30:38.279  INFO 47469 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 00:30:38.281  INFO 47469 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 00:30:38.287  INFO 47469 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 00:30:38.300  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:38.497 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1911'
2022-10-28 00:30:38.536  WARN 47469 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:39.334  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:39.363 ERROR 47469 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1911'
2022-10-28 00:30:39.366  WARN 47469 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:39.858  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1911 method = DELETE
2022-10-28 00:30:39.872 ERROR 47469 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1911'
2022-10-28 00:30:39.877  WARN 47469 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:41.908  INFO 47469 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 00:30:41.922 ERROR 47469 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 00:30:41.924  WARN 47469 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:42.824  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 00:30:42.848 ERROR 47469 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 00:30:42.852  WARN 47469 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:43.575  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:30:43.703  WARN 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:30:43.704 ERROR 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:30:43.705  INFO 47469 --- [http-nio-8081-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:30:43.721 ERROR 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:30:45.653  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/4 method = DELETE
2022-10-28 00:30:45.696  WARN 47469 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:30:45.697 ERROR 47469 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(4) is still referenced from table "reservations".
2022-10-28 00:30:45.698  INFO 47469 --- [http-nio-8081-exec-8] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:30:45.702 ERROR 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:30:46.440  INFO 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 00:30:46.487  WARN 47469 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:30:46.489 ERROR 47469 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(5) is still referenced from table "reservations".
2022-10-28 00:30:46.489  INFO 47469 --- [http-nio-8081-exec-9] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:30:46.494 ERROR 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:30:47.166  INFO 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = DELETE
2022-10-28 00:30:47.177  WARN 47469 --- [http-nio-8081-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 00:30:48.144  INFO 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/6 method = DELETE
2022-10-28 00:30:48.181 ERROR 47469 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '6'
2022-10-28 00:30:48.185  WARN 47469 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:49.292  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/7 method = DELETE
2022-10-28 00:30:49.320 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '7'
2022-10-28 00:30:49.322  WARN 47469 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:50.042  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = DELETE
2022-10-28 00:30:50.054  WARN 47469 --- [http-nio-8081-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 00:30:50.747  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms8 method = DELETE
2022-10-28 00:30:51.994  INFO 47469 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/8 method = DELETE
2022-10-28 00:30:52.009 ERROR 47469 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '8'
2022-10-28 00:30:52.013  WARN 47469 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:53.166  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/9 method = DELETE
2022-10-28 00:30:53.184 ERROR 47469 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '9'
2022-10-28 00:30:53.188  WARN 47469 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:30:55.077  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/10 method = DELETE
2022-10-28 00:30:57.338  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/10 method = DELETE
2022-10-28 00:30:57.361 ERROR 47469 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '10'
2022-10-28 00:30:57.366  WARN 47469 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:00.490  INFO 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11 method = DELETE
2022-10-28 00:31:00.505 ERROR 47469 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '11'
2022-10-28 00:31:00.507  WARN 47469 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:01.326  INFO 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/12 method = DELETE
2022-10-28 00:31:01.352 ERROR 47469 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '12'
2022-10-28 00:31:01.355  WARN 47469 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:02.036  INFO 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/13 method = DELETE
2022-10-28 00:31:02.051 ERROR 47469 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '13'
2022-10-28 00:31:02.054  WARN 47469 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:02.754  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/14 method = DELETE
2022-10-28 00:31:02.781 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '14'
2022-10-28 00:31:02.784  WARN 47469 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:03.438  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/15 method = DELETE
2022-10-28 00:31:03.450 ERROR 47469 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '15'
2022-10-28 00:31:03.456  WARN 47469 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:04.043  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/16 method = DELETE
2022-10-28 00:31:05.819  INFO 47469 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/17 method = DELETE
2022-10-28 00:31:07.820  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/18 method = DELETE
2022-10-28 00:31:07.846 ERROR 47469 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '18'
2022-10-28 00:31:07.851  WARN 47469 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:18.707  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PATCH
2022-10-28 00:31:18.790 ERROR 47469 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 00:31:18.798  WARN 47469 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:20.305  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = PATCH
2022-10-28 00:31:20.330 ERROR 47469 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 00:31:20.332  WARN 47469 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:22.340  INFO 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/21 method = PATCH
2022-10-28 00:31:27.557  INFO 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = PUT
2022-10-28 00:31:27.613 ERROR 47469 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 00:31:27.618  WARN 47469 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:28.964  INFO 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 00:31:36.516  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 00:31:36.555 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id id: '20'
2022-10-28 00:31:36.557  WARN 47469 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:40.824  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 00:31:50.114  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/34/rooms method = GET
2022-10-28 00:31:50.135 ERROR 47469 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id id: '34'
2022-10-28 00:31:50.139  WARN 47469 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:31:53.414  INFO 47469 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 00:32:03.621  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 00:32:03.626  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 00:32:07.229  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 00:32:07.229  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 00:32:16.957  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:17.011  WARN 47469 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:17.012 ERROR 47469 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:17.013  INFO 47469 --- [http-nio-8081-exec-8] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:17.018 ERROR 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:17.814  INFO 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:17.876  WARN 47469 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:17.876 ERROR 47469 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:17.876  INFO 47469 --- [http-nio-8081-exec-9] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:17.882 ERROR 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:32.471  INFO 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:32.513  WARN 47469 --- [http-nio-8081-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:32.516 ERROR 47469 --- [http-nio-8081-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:32.517  INFO 47469 --- [http-nio-8081-exec-10] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:32.524 ERROR 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:32.796  INFO 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:32.843  WARN 47469 --- [http-nio-8081-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:32.844 ERROR 47469 --- [http-nio-8081-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:32.844  INFO 47469 --- [http-nio-8081-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:32.849 ERROR 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:33.192  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:33.223  WARN 47469 --- [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:33.223 ERROR 47469 --- [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:33.224  INFO 47469 --- [http-nio-8081-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:33.228 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:33.693  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:33.739  WARN 47469 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:33.742 ERROR 47469 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:33.742  INFO 47469 --- [http-nio-8081-exec-3] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:33.748 ERROR 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:32:38.317  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:32:38.352  WARN 47469 --- [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:32:38.353 ERROR 47469 --- [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:32:38.353  INFO 47469 --- [http-nio-8081-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:32:38.358 ERROR 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:33:57.916  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:33:57.945  WARN 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:33:57.946 ERROR 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:33:57.946  INFO 47469 --- [http-nio-8081-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:33:57.950 ERROR 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:34:12.927  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 00:34:12.945 ERROR 47469 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 00:34:12.950  WARN 47469 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:14.196  INFO 47469 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/12 method = DELETE
2022-10-28 00:34:14.210 ERROR 47469 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '12'
2022-10-28 00:34:14.213  WARN 47469 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:15.035  INFO 47469 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/13 method = DELETE
2022-10-28 00:34:15.048 ERROR 47469 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '13'
2022-10-28 00:34:15.049  WARN 47469 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:15.593  INFO 47469 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/14 method = DELETE
2022-10-28 00:34:15.617 ERROR 47469 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '14'
2022-10-28 00:34:15.620  WARN 47469 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:16.792  INFO 47469 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/15 method = DELETE
2022-10-28 00:34:16.803 ERROR 47469 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '15'
2022-10-28 00:34:16.805  WARN 47469 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:17.658  INFO 47469 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/16 method = DELETE
2022-10-28 00:34:17.681 ERROR 47469 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '16'
2022-10-28 00:34:17.683  WARN 47469 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:18.195  INFO 47469 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/17 method = DELETE
2022-10-28 00:34:18.227 ERROR 47469 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '17'
2022-10-28 00:34:18.232  WARN 47469 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:18.745  INFO 47469 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/18 method = DELETE
2022-10-28 00:34:18.781 ERROR 47469 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '18'
2022-10-28 00:34:18.783  WARN 47469 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 00:34:20.515  INFO 47469 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = DELETE
2022-10-28 00:35:04.890  INFO 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 00:35:04.968  WARN 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 00:35:04.968 ERROR 47469 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 00:35:04.969  INFO 47469 --- [http-nio-8081-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 00:35:04.971 ERROR 47469 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 00:35:31.388  INFO 47469 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 00:58:59.216  WARN 47469 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m52s770ms).
2022-10-28 01:12:56.338  INFO 47469 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:12:56.348  INFO 47469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:12:56.369  INFO 47469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:13:01.769  INFO 51356 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 51356 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:13:01.770 DEBUG 51356 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:13:01.772  INFO 51356 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:13:01.820  INFO 51356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:13:01.820  INFO 51356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:13:02.721  INFO 51356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:13:02.801  INFO 51356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2022-10-28 01:13:03.414  INFO 51356 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:13:03.420  INFO 51356 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:13:03.421  INFO 51356 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:13:03.515  INFO 51356 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:13:03.515  INFO 51356 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1694 ms
2022-10-28 01:13:03.621  INFO 51356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:13:03.857  INFO 51356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:13:03.933  INFO 51356 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:13:03.954  INFO 51356 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:13:04.024  INFO 51356 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:13:04.082  INFO 51356 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:13:04.542  INFO 51356 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:13:04.548  INFO 51356 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:13:04.995  WARN 51356 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:13:05.117  INFO 51356 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e299409, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@129490f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@24c15799, org.springframework.security.web.authentication.logout.LogoutFilter@73d3ae0c, com.example.refugeeshelter.filter.CustomAuthorizationFilter@69f468ee, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7ab7a2d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@350b7b4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@88ba6f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8ccf853, org.springframework.security.web.session.SessionManagementFilter@28a8f2ad, org.springframework.security.web.access.ExceptionTranslationFilter@4e1e93b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c85ba82]
2022-10-28 01:13:05.392  INFO 51356 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:13:05.429  INFO 51356 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:13:05.458  INFO 51356 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.148 seconds (JVM running for 4.967)
2022-10-28 01:13:06.455  INFO 51356 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:13:06.456  INFO 51356 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:13:06.459  INFO 51356 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-10-28 01:13:06.469  INFO 51356 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 01:13:06.470  INFO 51356 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:13:12.721  INFO 51356 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/31 method = DELETE
2022-10-28 01:13:12.866  INFO 51356 --- [http-nio-8081-exec-3] c.e.refugeeshelter.service.RoomsService  : is present = true
2022-10-28 01:13:18.382  INFO 51356 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:13:18.435  INFO 51356 --- [http-nio-8081-exec-4] c.e.refugeeshelter.service.RoomsService  : is present = true
2022-10-28 01:13:18.449  WARN 51356 --- [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 01:13:18.449 ERROR 51356 --- [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "rooms" violates foreign key constraint "reservations_room_id_fkey" on table "reservations"
  : Key (id)=(3) is still referenced from table "reservations".
2022-10-28 01:13:18.451  INFO 51356 --- [http-nio-8081-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 01:13:18.474 ERROR 51356 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [reservations_room_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 01:14:34.394  INFO 51356 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:14:34.406  INFO 51356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:14:34.412  INFO 51356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:14:39.039  INFO 51531 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 51531 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:14:39.040 DEBUG 51531 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:14:39.044  INFO 51531 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:14:39.089  INFO 51531 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:14:39.089  INFO 51531 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:14:39.875  INFO 51531 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:14:39.958  INFO 51531 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 4 JPA repository interfaces.
2022-10-28 01:14:40.514  INFO 51531 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:14:40.520  INFO 51531 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:14:40.520  INFO 51531 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:14:40.577  INFO 51531 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:14:40.577  INFO 51531 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1487 ms
2022-10-28 01:14:40.661  INFO 51531 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:14:40.896  INFO 51531 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:14:40.954  INFO 51531 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:14:40.972  INFO 51531 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:14:41.036  INFO 51531 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:14:41.092  INFO 51531 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:14:41.586  INFO 51531 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:14:41.592  INFO 51531 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:14:42.019  WARN 51531 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:14:42.135  INFO 51531 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@761edbb4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28ce0207, org.springframework.security.web.context.SecurityContextPersistenceFilter@7114d741, org.springframework.security.web.authentication.logout.LogoutFilter@6dd042e5, com.example.refugeeshelter.filter.CustomAuthorizationFilter@50065fb, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2076348c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d9a8b5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@746d4225, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20b5984d, org.springframework.security.web.session.SessionManagementFilter@6e76d2da, org.springframework.security.web.access.ExceptionTranslationFilter@3cbd1f11, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@393d542e]
2022-10-28 01:14:42.425  INFO 51531 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:14:42.472  INFO 51531 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:14:42.488  INFO 51531 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.881 seconds (JVM running for 4.763)
2022-10-28 01:14:47.401  INFO 51531 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:14:47.411  INFO 51531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:14:47.413  INFO 51531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:14:52.124  INFO 51557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 51557 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:14:52.125 DEBUG 51557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:14:52.128  INFO 51557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:14:52.177  INFO 51557 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:14:52.178  INFO 51557 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:14:53.008  INFO 51557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:14:53.071  INFO 51557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 4 JPA repository interfaces.
2022-10-28 01:14:53.667  INFO 51557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:14:53.673  INFO 51557 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:14:53.673  INFO 51557 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:14:53.764  INFO 51557 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:14:53.764  INFO 51557 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1585 ms
2022-10-28 01:14:53.860  INFO 51557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:14:54.087  INFO 51557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:14:54.150  INFO 51557 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:14:54.169  INFO 51557 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:14:54.239  INFO 51557 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:14:54.293  INFO 51557 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:14:54.760  INFO 51557 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:14:54.765  INFO 51557 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:14:55.198  WARN 51557 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:14:55.314  INFO 51557 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71304496, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@482a5a83, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c5c1ce4, org.springframework.security.web.authentication.logout.LogoutFilter@162a362a, com.example.refugeeshelter.filter.CustomAuthorizationFilter@556efb25, com.example.refugeeshelter.filter.CustomAuthenticationFilter@66a372c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cfd52ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43bf2b41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15448e73, org.springframework.security.web.session.SessionManagementFilter@7a3fb5ea, org.springframework.security.web.access.ExceptionTranslationFilter@15412e5d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16a743d5]
2022-10-28 01:14:55.615  INFO 51557 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:14:55.683  INFO 51557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:14:55.715  INFO 51557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.987 seconds (JVM running for 4.883)
2022-10-28 01:14:57.698  INFO 51557 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:14:57.699  INFO 51557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:14:57.702  INFO 51557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-10-28 01:14:57.711  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:14:58.116 ERROR 51557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:14:58.156  WARN 51557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:00.947  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:00.991 ERROR 51557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:00.993  WARN 51557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:06.056  INFO 51557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:06.095 ERROR 51557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:06.098  WARN 51557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:06.723  INFO 51557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:06.787 ERROR 51557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:06.788  WARN 51557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:07.228  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:07.281 ERROR 51557 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:07.285  WARN 51557 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:07.664  INFO 51557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:07.724 ERROR 51557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:07.729  WARN 51557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:08.101  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:08.148 ERROR 51557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:08.152  WARN 51557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:08.626  INFO 51557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:08.684 ERROR 51557 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:08.687  WARN 51557 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:10.627  INFO 51557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:10.675 ERROR 51557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:10.678  WARN 51557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:11.198  INFO 51557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:11.259 ERROR 51557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:11.261  WARN 51557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:11.844  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:11.883 ERROR 51557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:11.884  WARN 51557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:13.614  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/300 method = DELETE
2022-10-28 01:15:13.632 ERROR 51557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '300'
2022-10-28 01:15:13.636  WARN 51557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:15:15.305  INFO 51557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:15.344 ERROR 51557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:15.347  WARN 51557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:16.680  INFO 51557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/30 method = DELETE
2022-10-28 01:15:18.132  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/31 method = DELETE
2022-10-28 01:15:18.149 ERROR 51557 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '31'
2022-10-28 01:15:18.151  WARN 51557 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:15:19.422  INFO 51557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/31 method = DELETE
2022-10-28 01:15:19.442 ERROR 51557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '31'
2022-10-28 01:15:19.445  WARN 51557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:15:20.424  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:20.475 ERROR 51557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:20.479  WARN 51557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:20.970  INFO 51557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:21.021 ERROR 51557 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:21.027  WARN 51557 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:21.519  INFO 51557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:21.572 ERROR 51557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:21.575  WARN 51557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:21.864  INFO 51557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:21.908 ERROR 51557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:21.912  WARN 51557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:22.342  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:22.386 ERROR 51557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:22.388  WARN 51557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:22.794  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:22.835 ERROR 51557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:22.840  WARN 51557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:23.208  INFO 51557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:23.249 ERROR 51557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:23.250  WARN 51557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:23.669  INFO 51557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:23.711 ERROR 51557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:23.713  WARN 51557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:24.073  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:24.104 ERROR 51557 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:24.107  WARN 51557 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:24.572  INFO 51557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:24.606 ERROR 51557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:24.611  WARN 51557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:27.019  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:27.061 ERROR 51557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:27.066  WARN 51557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:27.352  INFO 51557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:27.398 ERROR 51557 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:27.401  WARN 51557 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:27.733  INFO 51557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:27.786 ERROR 51557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:27.789  WARN 51557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:15:28.312  INFO 51557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 01:15:28.347 ERROR 51557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 01:15:28.350  WARN 51557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 01:16:01.587  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 01:16:01.589  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:16:09.452  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 01:16:09.453  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:16:11.718  INFO 51557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 01:17:51.231  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:17:52.029  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:17:52.667  INFO 51557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:17:53.389  INFO 51557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:17:53.886  INFO 51557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:17:57.237  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 01:17:57.265 ERROR 51557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 01:17:57.269  WARN 51557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:17:57.874  INFO 51557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 01:17:57.898 ERROR 51557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 01:17:57.902  WARN 51557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:17:58.432  INFO 51557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 01:17:58.449 ERROR 51557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 01:17:58.451  WARN 51557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:17:58.980  INFO 51557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 01:17:58.995 ERROR 51557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 01:17:58.998  WARN 51557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 01:18:23.394  INFO 51557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 01:18:23.395  INFO 51557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:18:23.911  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 01:18:23.911  INFO 51557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:18:24.293  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 01:18:24.299  INFO 51557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:18:28.680  INFO 51557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 01:18:29.381  INFO 51557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 01:19:10.545  INFO 51557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 01:19:19.594  INFO 51557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:28:26.009  INFO 51557 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:28:26.020  INFO 51557 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:28:26.029  INFO 51557 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:28:31.605  INFO 53036 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 53036 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:28:31.606 DEBUG 53036 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:28:31.609  INFO 53036 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:28:31.659  INFO 53036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:28:31.660  INFO 53036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:28:32.662  INFO 53036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:28:32.730  INFO 53036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 4 JPA repository interfaces.
2022-10-28 01:28:33.396  INFO 53036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:28:33.401  INFO 53036 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:28:33.402  INFO 53036 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:28:33.465  INFO 53036 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:28:33.465  INFO 53036 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1805 ms
2022-10-28 01:28:33.595  INFO 53036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:28:33.856  INFO 53036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:28:33.919  INFO 53036 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:28:33.941  INFO 53036 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:28:34.011  INFO 53036 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:28:34.072  INFO 53036 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:28:34.575  INFO 53036 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:28:34.584  INFO 53036 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:28:35.059  WARN 53036 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:28:35.202  INFO 53036 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71452ca7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3396a2b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@2eef7729, org.springframework.security.web.authentication.logout.LogoutFilter@1d94c41f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@7eb05875, com.example.refugeeshelter.filter.CustomAuthenticationFilter@851041, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b1d29f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cec8ff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@587d34e2, org.springframework.security.web.session.SessionManagementFilter@7b219184, org.springframework.security.web.access.ExceptionTranslationFilter@681a26bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69c09893]
2022-10-28 01:28:35.624  INFO 53036 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:28:35.666  INFO 53036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:28:35.687  INFO 53036 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.511 seconds (JVM running for 5.383)
2022-10-28 01:28:35.872  INFO 53036 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:28:35.874  INFO 53036 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:28:35.880  INFO 53036 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 01:28:35.893  INFO 53036 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:28:36.110 ERROR 53036 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:28:49.560  INFO 53036 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:28:49.585 ERROR 53036 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:29:19.718  INFO 53036 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:29:19.734  INFO 53036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:29:19.739  INFO 53036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:29:24.128  INFO 53142 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 53142 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:29:24.129 DEBUG 53142 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:29:24.134  INFO 53142 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:29:24.204  INFO 53142 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:29:24.204  INFO 53142 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:29:25.244  INFO 53142 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:29:25.314  INFO 53142 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 01:29:25.917  INFO 53142 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:29:25.923  INFO 53142 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:29:25.923  INFO 53142 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:29:25.992  INFO 53142 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:29:25.993  INFO 53142 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1788 ms
2022-10-28 01:29:26.139  INFO 53142 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:29:26.381  INFO 53142 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:29:26.448  INFO 53142 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:29:26.467  INFO 53142 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:29:26.531  INFO 53142 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:29:26.587  INFO 53142 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:29:27.044  INFO 53142 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:29:27.049  INFO 53142 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:29:27.566  WARN 53142 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:29:27.683  INFO 53142 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@482a5a83, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@556efb25, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b6a3c8e, org.springframework.security.web.authentication.logout.LogoutFilter@3fd80a53, com.example.refugeeshelter.filter.CustomAuthorizationFilter@66a372c5, com.example.refugeeshelter.filter.CustomAuthenticationFilter@15448e73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@435a1063, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c0ebf05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f20301a, org.springframework.security.web.session.SessionManagementFilter@73e971, org.springframework.security.web.access.ExceptionTranslationFilter@45a04a33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59d1b30c]
2022-10-28 01:29:28.069  INFO 53142 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:29:28.107  INFO 53142 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:29:28.119  INFO 53142 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.427 seconds (JVM running for 5.286)
2022-10-28 01:29:28.535  INFO 53142 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:29:28.537  INFO 53142 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:29:28.543  INFO 53142 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 01:29:28.556  INFO 53142 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:29:28.762 ERROR 53142 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:29:40.525  INFO 53142 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:29:40.568  INFO 53142 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:29:40.586  INFO 53142 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:29:45.451  INFO 53182 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 53182 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:29:45.452 DEBUG 53182 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:29:45.454  INFO 53182 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:29:45.503  INFO 53182 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:29:45.503  INFO 53182 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:29:46.340  INFO 53182 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:29:46.401  INFO 53182 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2022-10-28 01:29:46.960  INFO 53182 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:29:46.965  INFO 53182 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:29:46.965  INFO 53182 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:29:47.023  INFO 53182 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:29:47.023  INFO 53182 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1520 ms
2022-10-28 01:29:47.148  INFO 53182 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:29:47.384  INFO 53182 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:29:47.445  INFO 53182 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:29:47.463  INFO 53182 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:29:47.530  INFO 53182 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:29:47.587  INFO 53182 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:29:48.029  INFO 53182 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:29:48.034  INFO 53182 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:29:48.525  WARN 53182 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:29:48.718  INFO 53182 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6430e09b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55c46ada, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c22538c, org.springframework.security.web.authentication.logout.LogoutFilter@410975d7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@ed4310c, com.example.refugeeshelter.filter.CustomAuthenticationFilter@73123943, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a6c2fd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f38e015, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10c53b82, org.springframework.security.web.session.SessionManagementFilter@2e70664a, org.springframework.security.web.access.ExceptionTranslationFilter@561a45b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b143a7d]
2022-10-28 01:29:49.034  INFO 53182 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:29:49.098  INFO 53182 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:29:49.117  INFO 53182 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.057 seconds (JVM running for 4.821)
2022-10-28 01:29:49.513  INFO 53182 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:29:49.516  INFO 53182 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:29:49.522  INFO 53182 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 01:29:49.536  INFO 53182 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:29:49.715 ERROR 53182 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:32:23.746  INFO 53182 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:32:23.758  INFO 53182 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:32:23.762  INFO 53182 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:32:28.967  INFO 53483 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 53483 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:32:28.968 DEBUG 53483 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:32:28.970  INFO 53483 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:32:29.019  INFO 53483 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:32:29.020  INFO 53483 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:32:29.986  INFO 53483 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:32:30.055  INFO 53483 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 01:32:30.683  INFO 53483 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:32:30.689  INFO 53483 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:32:30.690  INFO 53483 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:32:30.754  INFO 53483 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:32:30.754  INFO 53483 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1734 ms
2022-10-28 01:32:30.896  INFO 53483 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:32:31.159  INFO 53483 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:32:31.225  INFO 53483 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:32:31.246  INFO 53483 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:32:31.306  INFO 53483 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:32:31.359  INFO 53483 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:32:31.858  INFO 53483 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:32:31.863  INFO 53483 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:32:32.302  WARN 53483 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:32:32.439  INFO 53483 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65c15401, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36143924, org.springframework.security.web.context.SecurityContextPersistenceFilter@1587fcb7, org.springframework.security.web.authentication.logout.LogoutFilter@56bd3f55, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2f21ef94, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5ebec5b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5963c9b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bc35d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31b0f33b, org.springframework.security.web.session.SessionManagementFilter@1c8380a9, org.springframework.security.web.access.ExceptionTranslationFilter@5b652121, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e50798]
2022-10-28 01:32:32.893  INFO 53483 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:32:32.937  INFO 53483 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:32:32.954  INFO 53483 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.375 seconds (JVM running for 5.146)
2022-10-28 01:32:50.298  INFO 53483 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:32:50.301  INFO 53483 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:32:50.308  INFO 53483 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 01:32:50.322  INFO 53483 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:32:50.520  INFO 53483 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : Current user = 
2022-10-28 01:40:15.181  INFO 53483 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:40:15.201  INFO 53483 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:40:15.207  INFO 53483 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:40:19.984  INFO 54326 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 54326 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:40:19.986 DEBUG 54326 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:40:19.988  INFO 54326 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:40:20.136  INFO 54326 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:40:20.137  INFO 54326 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:40:21.001  INFO 54326 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:40:21.082  INFO 54326 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 4 JPA repository interfaces.
2022-10-28 01:40:21.698  INFO 54326 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:40:21.704  INFO 54326 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:40:21.704  INFO 54326 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:40:21.770  INFO 54326 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:40:21.771  INFO 54326 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1633 ms
2022-10-28 01:40:21.902  INFO 54326 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:40:22.165  INFO 54326 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:40:22.233  INFO 54326 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:40:22.253  INFO 54326 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:40:22.316  INFO 54326 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:40:22.370  INFO 54326 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:40:22.934  INFO 54326 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:40:22.943  INFO 54326 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:40:23.401  WARN 54326 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:40:23.543  INFO 54326 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44c3a189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f6ccb2e, org.springframework.security.web.context.SecurityContextPersistenceFilter@cf828ee, org.springframework.security.web.authentication.logout.LogoutFilter@1fab21e5, com.example.refugeeshelter.filter.CustomAuthorizationFilter@71ddc599, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2ede9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@491b9caf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8129ca1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5938e8fe, org.springframework.security.web.session.SessionManagementFilter@1de5d77d, org.springframework.security.web.access.ExceptionTranslationFilter@2a163cdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b6acdd9]
2022-10-28 01:40:23.916  INFO 54326 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:40:23.961  INFO 54326 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:40:23.977  INFO 54326 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.442 seconds (JVM running for 5.394)
2022-10-28 01:40:24.556  INFO 54326 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:40:24.557  INFO 54326 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:40:24.561  INFO 54326 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 01:40:24.574  INFO 54326 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:40:24.912  INFO 54326 --- [http-nio-8081-exec-1] c.e.refugeeshelter.service.RoomsService  : Current user = akrik
2022-10-28 01:45:16.145  INFO 54326 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:45:16.158  INFO 54326 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:45:16.162  INFO 54326 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:45:21.355  INFO 54858 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 54858 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:45:21.357 DEBUG 54858 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:45:21.360  INFO 54858 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:45:21.434  INFO 54858 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:45:21.434  INFO 54858 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:45:22.360  INFO 54858 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:45:22.428  INFO 54858 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 01:45:23.062  INFO 54858 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:45:23.068  INFO 54858 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:45:23.069  INFO 54858 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:45:23.131  INFO 54858 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:45:23.131  INFO 54858 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1697 ms
2022-10-28 01:45:23.263  INFO 54858 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:45:23.528  INFO 54858 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:45:23.597  INFO 54858 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:45:23.615  INFO 54858 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:45:23.676  INFO 54858 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:45:23.750  INFO 54858 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:45:24.282  INFO 54858 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:45:24.287  INFO 54858 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:45:24.725  WARN 54858 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:45:24.853  INFO 54858 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eefec56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@473d933e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f2e0faa, org.springframework.security.web.authentication.logout.LogoutFilter@5963c9b1, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2189144f, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1376d05c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c431ec4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fa15c08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26a1338, org.springframework.security.web.session.SessionManagementFilter@2fd7d074, org.springframework.security.web.access.ExceptionTranslationFilter@f9423fd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@346d39ea]
2022-10-28 01:45:25.230  INFO 54858 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:45:25.268  INFO 54858 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:45:25.285  INFO 54858 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.34 seconds (JVM running for 5.219)
2022-10-28 01:46:40.198  INFO 54858 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:46:40.204  INFO 54858 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:46:40.209  INFO 54858 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 01:46:40.221  INFO 54858 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:46:40.411  INFO 54858 --- [http-nio-8081-exec-1] c.e.refugeeshelter.service.RoomsService  : Current user = null
2022-10-28 01:48:08.555  INFO 54858 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:48:08.560  INFO 54858 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:48:08.563  INFO 54858 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:48:13.731  INFO 55156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 55156 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:48:13.732 DEBUG 55156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:48:13.734  INFO 55156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:48:13.800  INFO 55156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:48:13.800  INFO 55156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:48:14.782  INFO 55156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:48:14.851  INFO 55156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 01:48:15.515  INFO 55156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:48:15.521  INFO 55156 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:48:15.521  INFO 55156 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:48:15.587  INFO 55156 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:48:15.587  INFO 55156 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1786 ms
2022-10-28 01:48:15.725  INFO 55156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:48:15.963  INFO 55156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:48:16.041  INFO 55156 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:48:16.069  INFO 55156 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:48:16.165  INFO 55156 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:48:16.226  INFO 55156 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:48:16.710  INFO 55156 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:48:16.714  INFO 55156 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:48:17.154  WARN 55156 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:48:17.276  INFO 55156 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@473d933e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2189144f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d863d70, org.springframework.security.web.authentication.logout.LogoutFilter@737aa484, com.example.refugeeshelter.filter.CustomAuthorizationFilter@1376d05c, com.example.refugeeshelter.filter.CustomAuthenticationFilter@26a1338, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@676ec854, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e24196, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29e5d428, org.springframework.security.web.session.SessionManagementFilter@110b4dbd, org.springframework.security.web.access.ExceptionTranslationFilter@1e538f30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@92eb164]
2022-10-28 01:48:17.658  INFO 55156 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:48:17.700  INFO 55156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:48:17.712  INFO 55156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.456 seconds (JVM running for 5.268)
2022-10-28 01:48:18.172  INFO 55156 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:48:18.173  INFO 55156 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:48:18.177  INFO 55156 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 01:48:18.284  INFO 55156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:48:18.505 ERROR 55156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:48:24.814  INFO 55156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:48:24.838 ERROR 55156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:48:31.730  INFO 55156 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:48:31.744 ERROR 55156 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:48:40.149  INFO 55156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:48:40.159  INFO 55156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:48:40.163  INFO 55156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:48:44.619  INFO 55220 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 55220 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:48:44.620 DEBUG 55220 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:48:44.623  INFO 55220 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:48:44.673  INFO 55220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:48:44.673  INFO 55220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:48:45.536  INFO 55220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:48:45.605  INFO 55220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 01:48:46.223  INFO 55220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:48:46.229  INFO 55220 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:48:46.229  INFO 55220 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:48:46.315  INFO 55220 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:48:46.315  INFO 55220 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1641 ms
2022-10-28 01:48:46.467  INFO 55220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:48:46.705  INFO 55220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:48:46.770  INFO 55220 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:48:46.788  INFO 55220 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:48:46.848  INFO 55220 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:48:46.916  INFO 55220 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:48:47.506  INFO 55220 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:48:47.512  INFO 55220 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:48:48.037  WARN 55220 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:48:48.156  INFO 55220 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50fb8a49, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fd3397a, org.springframework.security.web.context.SecurityContextPersistenceFilter@750e34a7, org.springframework.security.web.authentication.logout.LogoutFilter@149cfd31, com.example.refugeeshelter.filter.CustomAuthorizationFilter@57066f62, com.example.refugeeshelter.filter.CustomAuthenticationFilter@495a034d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46ac0251, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@214e4b04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45ff61ed, org.springframework.security.web.session.SessionManagementFilter@12977c2a, org.springframework.security.web.access.ExceptionTranslationFilter@4511c949, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d651471]
2022-10-28 01:48:48.513  INFO 55220 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:48:48.551  INFO 55220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:48:48.566  INFO 55220 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.342 seconds (JVM running for 5.11)
2022-10-28 01:48:49.766  INFO 55220 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:48:49.769  INFO 55220 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:48:49.774  INFO 55220 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 01:48:49.787  INFO 55220 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:48:49.988 ERROR 55220 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 01:48:55.562  INFO 55220 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:48:55.569  INFO 55220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:48:55.617  INFO 55220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:49:00.191  INFO 55248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 55248 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:49:00.191 DEBUG 55248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:49:00.193  INFO 55248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:49:00.241  INFO 55248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:49:00.242  INFO 55248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:49:01.072  INFO 55248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:49:01.177  INFO 55248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 4 JPA repository interfaces.
2022-10-28 01:49:01.832  INFO 55248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:49:01.837  INFO 55248 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:49:01.837  INFO 55248 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:49:01.932  INFO 55248 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:49:01.932  INFO 55248 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1690 ms
2022-10-28 01:49:02.061  INFO 55248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:49:02.317  INFO 55248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:49:02.382  INFO 55248 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:49:02.400  INFO 55248 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:49:02.459  INFO 55248 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:49:02.513  INFO 55248 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:49:03.005  INFO 55248 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:49:03.009  INFO 55248 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:49:03.557  WARN 55248 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:49:03.695  INFO 55248 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c53f6d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65b11049, org.springframework.security.web.context.SecurityContextPersistenceFilter@674a8fa2, org.springframework.security.web.authentication.logout.LogoutFilter@41372823, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5e5de304, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1a182a64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@561a45b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a6c2fd8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9ee9ab7, org.springframework.security.web.session.SessionManagementFilter@6350a18c, org.springframework.security.web.access.ExceptionTranslationFilter@3d8fbb1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65e4f045]
2022-10-28 01:49:04.060  INFO 55248 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:49:04.107  INFO 55248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:49:04.132  INFO 55248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.328 seconds (JVM running for 5.118)
2022-10-28 01:49:04.688  INFO 55248 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:49:04.688  INFO 55248 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:49:04.692  INFO 55248 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 01:49:04.702  INFO 55248 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:49:05.001  INFO 55248 --- [http-nio-8081-exec-2] c.e.refugeeshelter.service.RoomsService  : user = akrik
2022-10-28 01:49:27.754  INFO 55248 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:49:27.780  INFO 55248 --- [http-nio-8081-exec-3] c.e.refugeeshelter.service.RoomsService  : user = user1
2022-10-28 01:50:10.154  INFO 55248 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 01:50:10.159  INFO 55248 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:50:10.229  INFO 55248 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Saving user null to the database
2022-10-28 01:50:10.359  INFO 55248 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Patch user 5
2022-10-28 01:50:10.361  INFO 55248 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 01:50:21.715  INFO 55248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 01:50:21.717  INFO 55248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 01:50:21.721  INFO 55248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 01:50:21.722  INFO 55248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 01:50:21.864  INFO 55248 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 01:50:37.189  INFO 55248 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:50:37.202  INFO 55248 --- [http-nio-8081-exec-6] c.e.refugeeshelter.service.RoomsService  : user = user
2022-10-28 01:57:54.348  INFO 55248 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:57:54.367  INFO 55248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 01:57:54.375  INFO 55248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 01:58:53.834  INFO 56280 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 56280 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 01:58:53.836 DEBUG 56280 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 01:58:53.837  INFO 56280 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:58:53.888  INFO 56280 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 01:58:53.888  INFO 56280 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 01:58:54.938  INFO 56280 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:58:55.047  INFO 56280 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 4 JPA repository interfaces.
2022-10-28 01:58:55.738  INFO 56280 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 01:58:55.745  INFO 56280 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 01:58:55.746  INFO 56280 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 01:58:55.821  INFO 56280 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 01:58:55.821  INFO 56280 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1932 ms
2022-10-28 01:58:55.926  INFO 56280 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 01:58:56.194  INFO 56280 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 01:58:56.263  INFO 56280 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:58:56.283  INFO 56280 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 01:58:56.360  INFO 56280 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:58:56.428  INFO 56280 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 01:58:56.979  INFO 56280 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:58:56.984  INFO 56280 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:58:57.489  WARN 56280 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:58:57.631  INFO 56280 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40279637, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65f64a5f, org.springframework.security.web.context.SecurityContextPersistenceFilter@109282f7, org.springframework.security.web.authentication.logout.LogoutFilter@4bc35d, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3757760a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3014b05c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fa15c08, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@441470b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c7e1e47, org.springframework.security.web.session.SessionManagementFilter@28f2d84c, org.springframework.security.web.access.ExceptionTranslationFilter@2c431ec4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d714fc4]
2022-10-28 01:58:58.032  INFO 56280 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 01:58:58.074  INFO 56280 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 01:58:58.085  INFO 56280 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.708 seconds (JVM running for 5.538)
2022-10-28 01:58:58.484  INFO 56280 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 01:58:58.487  INFO 56280 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 01:58:58.493  INFO 56280 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 01:58:58.510  INFO 56280 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:58:58.855 ERROR 56280 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:58:58.882  WARN 56280 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:00.171  INFO 56280 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:00.235 ERROR 56280 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:00.241  WARN 56280 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:00.673  INFO 56280 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:00.728 ERROR 56280 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:00.733  WARN 56280 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:01.103  INFO 56280 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:01.162 ERROR 56280 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:01.165  WARN 56280 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:01.563  INFO 56280 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:01.611 ERROR 56280 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:01.614  WARN 56280 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:03.512  INFO 56280 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:03.567 ERROR 56280 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:03.573  WARN 56280 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:06.999  INFO 56280 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:07.001  INFO 56280 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 01:59:07.547  INFO 56280 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:07.547  INFO 56280 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 01:59:08.024  INFO 56280 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:08.025  INFO 56280 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 01:59:10.779  INFO 56280 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:10.832 ERROR 56280 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:10.838  WARN 56280 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:11.362  INFO 56280 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:11.422 ERROR 56280 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:11.426  WARN 56280 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:12.935  INFO 56280 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:12.981 ERROR 56280 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:12.983  WARN 56280 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:13.754  INFO 56280 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:13.799 ERROR 56280 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:13.802  WARN 56280 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:14.532  INFO 56280 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:16.029  INFO 56280 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:16.539  INFO 56280 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:16.922  INFO 56280 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:17.288  INFO 56280 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:17.625  INFO 56280 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:18.684  INFO 56280 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:18.730 ERROR 56280 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:18.736  WARN 56280 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:19.583  INFO 56280 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:19.625 ERROR 56280 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:19.630  WARN 56280 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:20.337  INFO 56280 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:20.396 ERROR 56280 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:20.399  WARN 56280 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:21.027  INFO 56280 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:21.071 ERROR 56280 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:21.074  WARN 56280 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:22.434  INFO 56280 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:22.775  INFO 56280 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:27.525  INFO 56280 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:27.579 ERROR 56280 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:27.584  WARN 56280 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:29.889  INFO 56280 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:30.597  INFO 56280 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:32.536  INFO 56280 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 01:59:32.582 ERROR 56280 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 01:59:32.587  WARN 56280 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 01:59:34.510  INFO 56280 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 02:01:26.047  INFO 56280 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:01:26.061  INFO 56280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 02:01:26.067  INFO 56280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:00:28.087  INFO 86166 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 86166 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:00:28.088 DEBUG 86166 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:00:28.091  INFO 86166 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:00:28.161  INFO 86166 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:00:28.161  INFO 86166 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:00:29.203  INFO 86166 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:00:29.280  INFO 86166 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2022-10-28 11:00:30.043  INFO 86166 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:00:30.049  INFO 86166 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:00:30.049  INFO 86166 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:00:30.133  INFO 86166 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:00:30.133  INFO 86166 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1969 ms
2022-10-28 11:00:30.260  INFO 86166 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:00:30.536  INFO 86166 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:00:30.607  INFO 86166 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:00:30.636  INFO 86166 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:00:30.756  INFO 86166 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:00:30.874  INFO 86166 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:00:31.717  INFO 86166 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:00:31.724  INFO 86166 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:00:32.257  WARN 86166 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:00:32.416  INFO 86166 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59d1b30c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46031df7, org.springframework.security.web.context.SecurityContextPersistenceFilter@49082728, org.springframework.security.web.authentication.logout.LogoutFilter@3cf062e1, com.example.refugeeshelter.filter.CustomAuthorizationFilter@64638556, com.example.refugeeshelter.filter.CustomAuthenticationFilter@48f6dbe4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@782112e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45a04a33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c6b4825, org.springframework.security.web.session.SessionManagementFilter@4422eb98, org.springframework.security.web.access.ExceptionTranslationFilter@6a44396, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36406a0]
2022-10-28 11:00:32.814  INFO 86166 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:00:32.854  INFO 86166 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:00:32.870  INFO 86166 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 5.25 seconds (JVM running for 6.185)
2022-10-28 11:00:33.502  INFO 86166 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:00:33.505  INFO 86166 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:00:33.510  INFO 86166 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 11:00:33.523  INFO 86166 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 11:00:33.524  INFO 86166 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:24:57.845  INFO 86166 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:24:57.856  INFO 86166 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:24:57.861  INFO 86166 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:25:03.436  INFO 88762 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 88762 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:25:03.437 DEBUG 88762 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:25:03.440  INFO 88762 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:25:03.493  INFO 88762 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:25:03.493  INFO 88762 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:25:04.372  INFO 88762 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:25:04.442  INFO 88762 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 11:25:05.073  INFO 88762 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:25:05.099  INFO 88762 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:25:05.099  INFO 88762 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:25:05.151  INFO 88762 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:25:05.152  INFO 88762 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1658 ms
2022-10-28 11:25:05.284  INFO 88762 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:25:05.525  INFO 88762 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:25:05.601  INFO 88762 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:25:05.619  INFO 88762 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:25:05.683  INFO 88762 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:25:05.742  INFO 88762 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:25:06.195  INFO 88762 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:25:06.200  INFO 88762 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:25:06.618  WARN 88762 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:25:06.733  INFO 88762 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57066f62, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@495a034d, org.springframework.security.web.context.SecurityContextPersistenceFilter@f36d0a1, org.springframework.security.web.authentication.logout.LogoutFilter@17a91d42, com.example.refugeeshelter.filter.CustomAuthorizationFilter@45ff61ed, com.example.refugeeshelter.filter.CustomAuthenticationFilter@230198c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7eb2a4ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20d1bc0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47988ebc, org.springframework.security.web.session.SessionManagementFilter@6f7345b9, org.springframework.security.web.access.ExceptionTranslationFilter@3e1ee9ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e4d88f4]
2022-10-28 11:25:07.000  INFO 88762 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:25:07.035  INFO 88762 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:25:07.063  INFO 88762 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.046 seconds (JVM running for 5.041)
2022-10-28 11:25:12.702  INFO 88762 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:25:12.703  INFO 88762 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:25:12.707  INFO 88762 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 11:25:12.719  INFO 88762 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 11:25:12.720  INFO 88762 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:25:18.023  INFO 88762 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:25:25.420  INFO 88762 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:25:25.981  INFO 88762 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:25:26.049 ERROR 88762 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:25:26.060  WARN 88762 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:25:26.776  INFO 88762 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:25:26.822 ERROR 88762 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:25:26.824  WARN 88762 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:25:28.371  INFO 88762 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:25:35.547  INFO 88762 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:25:35.549  INFO 88762 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:25:35.553  INFO 88762 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:25:35.553  INFO 88762 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:25:35.701  INFO 88762 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:25:35.800 ERROR 88762 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: com.example.refugeeshelter.security.UserPrincipal cannot be cast to org.springframework.security.core.userdetails.User
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.successfulAuthentication(CustomAuthenticationFilter.java:48) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 11:28:47.036  INFO 88762 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:28:47.049  INFO 88762 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:28:47.054  INFO 88762 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:28:51.798  INFO 89145 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 89145 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:28:51.800 DEBUG 89145 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:28:51.804  INFO 89145 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:28:51.865  INFO 89145 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:28:51.865  INFO 89145 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:28:52.879  INFO 89145 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:28:52.959  INFO 89145 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2022-10-28 11:28:53.579  INFO 89145 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:28:53.586  INFO 89145 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:28:53.586  INFO 89145 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:28:53.643  INFO 89145 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:28:53.643  INFO 89145 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1777 ms
2022-10-28 11:28:53.770  INFO 89145 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:28:54.018  INFO 89145 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:28:54.099  INFO 89145 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:28:54.121  INFO 89145 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:28:54.192  INFO 89145 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:28:54.253  INFO 89145 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:28:54.727  INFO 89145 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:28:54.734  INFO 89145 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:28:55.242  WARN 89145 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:28:55.379  INFO 89145 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55c46ada, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ed4310c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c22538c, org.springframework.security.web.authentication.logout.LogoutFilter@410975d7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@73123943, com.example.refugeeshelter.filter.CustomAuthenticationFilter@10c53b82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a6c2fd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f38e015, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66a101fa, org.springframework.security.web.session.SessionManagementFilter@2e70664a, org.springframework.security.web.access.ExceptionTranslationFilter@561a45b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b4d2019]
2022-10-28 11:28:55.753  INFO 89145 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:28:55.796  INFO 89145 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:28:55.810  INFO 89145 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.54 seconds (JVM running for 5.365)
2022-10-28 11:28:55.998  INFO 89145 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:28:56.000  INFO 89145 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:28:56.007  INFO 89145 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 11:28:56.022  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:28:56.023  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:28:56.026  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:28:56.026  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:28:56.264  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:28:56.364  INFO 89145 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : HERE
2022-10-28 11:28:56.369 ERROR 89145 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: com.example.refugeeshelter.security.UserPrincipal cannot be cast to org.springframework.security.core.userdetails.User
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.successfulAuthentication(CustomAuthenticationFilter.java:48) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 11:35:41.013  INFO 89145 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:35:41.027  INFO 89145 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:35:41.032  INFO 89145 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:35:45.918  INFO 89842 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 89842 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:35:45.919 DEBUG 89842 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:35:45.922  INFO 89842 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:35:45.975  INFO 89842 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:35:45.976  INFO 89842 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:35:46.901  INFO 89842 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:35:46.967  INFO 89842 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2022-10-28 11:35:47.636  INFO 89842 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:35:47.642  INFO 89842 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:35:47.643  INFO 89842 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:35:47.709  INFO 89842 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:35:47.709  INFO 89842 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1733 ms
2022-10-28 11:35:47.840  INFO 89842 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:35:48.106  INFO 89842 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:35:48.175  INFO 89842 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:35:48.197  INFO 89842 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:35:48.258  INFO 89842 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:35:48.317  INFO 89842 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:35:48.809  INFO 89842 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:35:48.828  INFO 89842 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:35:49.389  WARN 89842 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:35:49.517  INFO 89842 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@349e03e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c53f6d6, org.springframework.security.web.context.SecurityContextPersistenceFilter@27dd9f05, org.springframework.security.web.authentication.logout.LogoutFilter@4ea77efc, com.example.refugeeshelter.filter.CustomAuthorizationFilter@65b11049, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5e5de304, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30a0dee1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27035f44, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a182a64, org.springframework.security.web.session.SessionManagementFilter@a3ba0da, org.springframework.security.web.access.ExceptionTranslationFilter@4d113b18, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@449443d4]
2022-10-28 11:35:49.903  INFO 89842 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:35:49.939  INFO 89842 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:35:49.949  INFO 89842 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.55 seconds (JVM running for 5.447)
2022-10-28 11:35:50.405  INFO 89842 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:35:50.407  INFO 89842 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:35:50.413  INFO 89842 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:35:50.425  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:35:50.425  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:35:50.428  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:35:50.428  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:35:50.658  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:36:00.235  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:36:00.237  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:00.238  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : user1, user
2022-10-28 11:36:00.238  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user1, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:36:00.253 ERROR 89842 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 11:36:07.666  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:36:07.668  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:07.670  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:36:07.671  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:36:07.705  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:36:13.213  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:36:13.213  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:13.214  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:36:13.215  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:36:13.239  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:36:13.762  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:36:13.763  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:13.763  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:36:13.763  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:36:13.800  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:36:14.193  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:36:14.194  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:14.194  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:36:14.195  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:36:14.228  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:36:31.014  INFO 89842 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:32.269  INFO 89842 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:32.735  INFO 89842 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:33.154  INFO 89842 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:33.533  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:33.924  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:36.544  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:36.550 ERROR 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The input is not a valid base 64 encoded string.
2022-10-28 11:36:39.888  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:40.413  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:40.783  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:41.200  INFO 89842 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:41.628  INFO 89842 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:42.054  INFO 89842 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:43.850  INFO 89842 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:43.934 ERROR 89842 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:36:43.948  WARN 89842 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:36:44.229  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:44.283 ERROR 89842 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:36:44.288  WARN 89842 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:36:44.665  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:44.704 ERROR 89842 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:36:44.709  WARN 89842 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:36:45.087  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:45.129 ERROR 89842 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 11:36:45.133  WARN 89842 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 11:36:47.186  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:47.642  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:48.093  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:48.515  INFO 89842 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:48.974  INFO 89842 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:36:55.952  INFO 89842 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 11:36:55.954  INFO 89842 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:36:59.739  INFO 89842 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 11:36:59.740  INFO 89842 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:37:00.395  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 11:37:00.398  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:37:00.796  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 11:37:00.806  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:37:03.821  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:04.447  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:04.923  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:05.404  INFO 89842 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:06.016  INFO 89842 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:12.658  INFO 89842 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 11:37:15.036  INFO 89842 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 11:37:19.864  INFO 89842 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/rooms method = GET
2022-10-28 11:37:21.150  INFO 89842 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/rooms method = GET
2022-10-28 11:37:22.355  INFO 89842 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/333/rooms method = GET
2022-10-28 11:37:22.381 ERROR 89842 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id id: '333'
2022-10-28 11:37:22.385  WARN 89842 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 11:37:23.560  INFO 89842 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/rooms method = GET
2022-10-28 11:37:24.743  INFO 89842 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 11:37:36.640  INFO 89842 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 11:40:15.835  INFO 89842 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:40:15.849  INFO 89842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:40:15.853  INFO 89842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:40:21.672  INFO 90330 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 90330 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:40:21.674 DEBUG 90330 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:40:21.677  INFO 90330 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:40:21.723  INFO 90330 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:40:21.723  INFO 90330 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:40:22.726  INFO 90330 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:40:22.793  INFO 90330 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2022-10-28 11:40:23.403  INFO 90330 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:40:23.410  INFO 90330 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:40:23.410  INFO 90330 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:40:23.492  INFO 90330 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:40:23.500  INFO 90330 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1776 ms
2022-10-28 11:40:23.639  INFO 90330 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:40:23.889  INFO 90330 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:40:23.976  INFO 90330 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:40:24.037  INFO 90330 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:40:24.123  INFO 90330 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:40:24.178  INFO 90330 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:40:24.652  INFO 90330 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:40:24.658  INFO 90330 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:40:25.122  WARN 90330 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:40:25.255  INFO 90330 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40584c2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17a76e1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f6f881f, org.springframework.security.web.authentication.logout.LogoutFilter@248df383, com.example.refugeeshelter.filter.CustomAuthorizationFilter@6cd22864, com.example.refugeeshelter.filter.CustomAuthenticationFilter@381a6550, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dad3468, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38b30b02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a215f6c, org.springframework.security.web.session.SessionManagementFilter@7cf61d76, org.springframework.security.web.access.ExceptionTranslationFilter@4971dac7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4de0eac6]
2022-10-28 11:40:25.632  INFO 90330 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:40:25.682  INFO 90330 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:40:25.695  INFO 90330 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.445 seconds (JVM running for 5.371)
2022-10-28 11:40:26.243  INFO 90330 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:40:26.246  INFO 90330 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:40:26.251  INFO 90330 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 11:40:26.264  INFO 90330 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:40:26.472 ERROR 90330 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 11:40:28.492  INFO 90330 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:40:28.517 ERROR 90330 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 11:41:09.000  INFO 90330 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:41:09.013  INFO 90330 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:41:09.017  INFO 90330 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:41:13.839  INFO 90434 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 90434 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:41:13.840 DEBUG 90434 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:41:13.842  INFO 90434 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:41:13.891  INFO 90434 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:41:13.891  INFO 90434 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:41:14.925  INFO 90434 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:41:15.041  INFO 90434 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 4 JPA repository interfaces.
2022-10-28 11:41:15.667  INFO 90434 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:41:15.673  INFO 90434 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:41:15.673  INFO 90434 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:41:15.736  INFO 90434 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:41:15.736  INFO 90434 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1844 ms
2022-10-28 11:41:15.830  INFO 90434 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:41:16.128  INFO 90434 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:41:16.206  INFO 90434 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:41:16.226  INFO 90434 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:41:16.296  INFO 90434 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:41:16.359  INFO 90434 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:41:16.908  INFO 90434 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:41:16.913  INFO 90434 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:41:17.430  WARN 90434 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:41:17.573  INFO 90434 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64c29958, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a51d42b, org.springframework.security.web.context.SecurityContextPersistenceFilter@12b3ed9b, org.springframework.security.web.authentication.logout.LogoutFilter@598e7289, com.example.refugeeshelter.filter.CustomAuthorizationFilter@71645aeb, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1d601118, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1af5d27b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58f40ea4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d9853b5, org.springframework.security.web.session.SessionManagementFilter@37356d63, org.springframework.security.web.access.ExceptionTranslationFilter@7289f73a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7eb05875]
2022-10-28 11:41:17.966  INFO 90434 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:41:18.013  INFO 90434 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:41:18.047  INFO 90434 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.61 seconds (JVM running for 5.402)
2022-10-28 11:41:18.633  INFO 90434 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:41:18.635  INFO 90434 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:41:18.641  INFO 90434 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:41:18.654  INFO 90434 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:41:50.121  INFO 90434 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:41:50.123  INFO 90434 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:41:50.125  INFO 90434 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:41:54.520  INFO 90504 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 90504 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:41:54.521 DEBUG 90504 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:41:54.524  INFO 90504 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:41:54.570  INFO 90504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:41:54.571  INFO 90504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:41:55.402  INFO 90504 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:41:55.467  INFO 90504 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 11:41:56.011  INFO 90504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:41:56.017  INFO 90504 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:41:56.017  INFO 90504 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:41:56.071  INFO 90504 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:41:56.072  INFO 90504 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1501 ms
2022-10-28 11:41:56.199  INFO 90504 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:41:56.435  INFO 90504 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:41:56.500  INFO 90504 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:41:56.520  INFO 90504 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:41:56.583  INFO 90504 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:41:56.636  INFO 90504 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:41:57.093  INFO 90504 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:41:57.098  INFO 90504 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:41:57.518  WARN 90504 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:41:57.628  INFO 90504 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f396bff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c720a, org.springframework.security.web.context.SecurityContextPersistenceFilter@31bb4e71, org.springframework.security.web.authentication.logout.LogoutFilter@eee19b6, com.example.refugeeshelter.filter.CustomAuthorizationFilter@7b6b9e7f, com.example.refugeeshelter.filter.CustomAuthenticationFilter@27798404, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a286132, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@420be4aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@536b6587, org.springframework.security.web.session.SessionManagementFilter@4b1c24ce, org.springframework.security.web.access.ExceptionTranslationFilter@3296b163, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f2401b9]
2022-10-28 11:41:57.916  INFO 90504 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:41:57.951  INFO 90504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:41:57.977  INFO 90504 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.837 seconds (JVM running for 4.605)
2022-10-28 11:42:02.997  INFO 90504 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:42:03.000  INFO 90504 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:42:03.006  INFO 90504 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:42:03.018  INFO 90504 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:42:03.197 ERROR 90504 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 11:42:14.446  INFO 90504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:42:14.455  INFO 90504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:42:14.458  INFO 90504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:42:19.234  INFO 90551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 90551 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:42:19.235 DEBUG 90551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:42:19.238  INFO 90551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:42:19.312  INFO 90551 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:42:19.313  INFO 90551 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:42:20.327  INFO 90551 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:42:20.394  INFO 90551 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 11:42:21.102  INFO 90551 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:42:21.107  INFO 90551 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:42:21.108  INFO 90551 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:42:21.165  INFO 90551 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:42:21.165  INFO 90551 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1852 ms
2022-10-28 11:42:21.292  INFO 90551 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:42:21.527  INFO 90551 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:42:21.596  INFO 90551 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:42:21.617  INFO 90551 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:42:21.680  INFO 90551 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:42:21.733  INFO 90551 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:42:22.197  INFO 90551 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:42:22.203  INFO 90551 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:42:22.653  WARN 90551 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:42:22.792  INFO 90551 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71304496, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@482a5a83, org.springframework.security.web.context.SecurityContextPersistenceFilter@73e971, org.springframework.security.web.authentication.logout.LogoutFilter@6c77423a, com.example.refugeeshelter.filter.CustomAuthorizationFilter@556efb25, com.example.refugeeshelter.filter.CustomAuthenticationFilter@66a372c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b6a3c8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@100fc58f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15448e73, org.springframework.security.web.session.SessionManagementFilter@45a04a33, org.springframework.security.web.access.ExceptionTranslationFilter@75fbd29, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16a743d5]
2022-10-28 11:42:23.162  INFO 90551 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:42:23.205  INFO 90551 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:42:23.220  INFO 90551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.437 seconds (JVM running for 5.246)
2022-10-28 11:42:23.819  INFO 90551 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:42:23.821  INFO 90551 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:42:23.827  INFO 90551 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:42:23.842  INFO 90551 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:42:24.065 ERROR 90551 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 11:51:52.973  INFO 90551 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:51:52.985  INFO 90551 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:51:52.990  INFO 90551 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:51:58.242  INFO 91558 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 91558 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:51:58.244 DEBUG 91558 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:51:58.246  INFO 91558 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:51:58.312  INFO 91558 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:51:58.312  INFO 91558 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:51:59.354  INFO 91558 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:51:59.432  INFO 91558 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 4 JPA repository interfaces.
2022-10-28 11:52:00.115  INFO 91558 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:52:00.123  INFO 91558 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:52:00.124  INFO 91558 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:52:00.197  INFO 91558 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:52:00.198  INFO 91558 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1886 ms
2022-10-28 11:52:00.349  INFO 91558 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:52:00.592  INFO 91558 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:52:00.664  INFO 91558 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:52:00.688  INFO 91558 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:52:00.764  INFO 91558 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:52:00.860  INFO 91558 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:52:01.365  INFO 91558 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:52:01.371  INFO 91558 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:52:01.821  WARN 91558 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:52:01.954  INFO 91558 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71304496, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@482a5a83, org.springframework.security.web.context.SecurityContextPersistenceFilter@73e971, org.springframework.security.web.authentication.logout.LogoutFilter@6c77423a, com.example.refugeeshelter.filter.CustomAuthorizationFilter@556efb25, com.example.refugeeshelter.filter.CustomAuthenticationFilter@66a372c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b6a3c8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@100fc58f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15448e73, org.springframework.security.web.session.SessionManagementFilter@45a04a33, org.springframework.security.web.access.ExceptionTranslationFilter@75fbd29, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16a743d5]
2022-10-28 11:52:02.302  INFO 91558 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:52:02.342  INFO 91558 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:52:02.357  INFO 91558 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.668 seconds (JVM running for 5.442)
2022-10-28 11:52:05.023  INFO 91558 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:52:05.026  INFO 91558 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:52:05.032  INFO 91558 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:52:05.047  INFO 91558 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:52:05.105  INFO 91558 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 11:52:05.261 ERROR 91558 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NullPointerException
2022-10-28 11:52:39.141  INFO 91558 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:52:39.144  INFO 91558 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:52:39.147  INFO 91558 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:52:44.382  INFO 91640 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 91640 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:52:44.383 DEBUG 91640 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:52:44.385  INFO 91640 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:52:44.446  INFO 91640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:52:44.447  INFO 91640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:52:45.463  INFO 91640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:52:45.540  INFO 91640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2022-10-28 11:52:46.150  INFO 91640 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:52:46.156  INFO 91640 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:52:46.156  INFO 91640 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:52:46.220  INFO 91640 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:52:46.220  INFO 91640 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1773 ms
2022-10-28 11:52:46.348  INFO 91640 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:52:46.621  INFO 91640 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:52:46.729  INFO 91640 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:52:46.749  INFO 91640 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:52:46.815  INFO 91640 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:52:46.872  INFO 91640 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:52:47.356  INFO 91640 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:52:47.360  INFO 91640 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:52:47.829  WARN 91640 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:52:47.967  INFO 91640 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66a372c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15448e73, org.springframework.security.web.context.SecurityContextPersistenceFilter@435a1063, org.springframework.security.web.authentication.logout.LogoutFilter@2f6b7e97, com.example.refugeeshelter.filter.CustomAuthorizationFilter@f20301a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2d354508, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35194af1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7909b1b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50fd2f31, org.springframework.security.web.session.SessionManagementFilter@5b6a3c8e, org.springframework.security.web.access.ExceptionTranslationFilter@73e971, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64638556]
2022-10-28 11:52:48.334  INFO 91640 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:52:48.377  INFO 91640 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:52:48.393  INFO 91640 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.451 seconds (JVM running for 5.357)
2022-10-28 11:52:48.641  INFO 91640 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:52:48.644  INFO 91640 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:52:48.650  INFO 91640 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:52:48.664  INFO 91640 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:52:48.716  INFO 91640 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 11:53:53.186  INFO 91640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:53:53.200  INFO 91640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 11:53:53.204  INFO 91640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 11:53:57.710  INFO 91766 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 91766 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 11:53:57.711 DEBUG 91766 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 11:53:57.713  INFO 91766 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 11:53:57.766  INFO 91766 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 11:53:57.766  INFO 91766 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 11:53:58.609  INFO 91766 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 11:53:58.673  INFO 91766 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 11:53:59.226  INFO 91766 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 11:53:59.231  INFO 91766 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 11:53:59.232  INFO 91766 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 11:53:59.289  INFO 91766 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 11:53:59.289  INFO 91766 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1522 ms
2022-10-28 11:53:59.409  INFO 91766 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 11:53:59.649  INFO 91766 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 11:53:59.718  INFO 91766 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 11:53:59.736  INFO 91766 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 11:53:59.798  INFO 91766 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 11:53:59.853  INFO 91766 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 11:54:00.360  INFO 91766 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 11:54:00.366  INFO 91766 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 11:54:00.817  WARN 91766 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 11:54:00.993  INFO 91766 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b89cbf0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b2c00c8, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f52cfd, org.springframework.security.web.authentication.logout.LogoutFilter@6bdbc147, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3b1dc365, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5d11b68b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bed1ee7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a2011, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68722092, org.springframework.security.web.session.SessionManagementFilter@1c342211, org.springframework.security.web.access.ExceptionTranslationFilter@15c2329, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31b4e49c]
2022-10-28 11:54:01.315  INFO 91766 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 11:54:01.389  INFO 91766 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 11:54:01.412  INFO 91766 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.067 seconds (JVM running for 4.825)
2022-10-28 11:54:01.911  INFO 91766 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 11:54:01.914  INFO 91766 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 11:54:01.921  INFO 91766 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 11:54:01.931  INFO 91766 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:54:01.979  INFO 91766 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 11:54:20.666  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 11:54:20.669  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 11:54:20.673  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 11:54:20.674  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 11:54:20.827  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User found in the database user $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 11:54:20.924  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : before JWT creatge = 5 user
2022-10-28 11:54:31.405  INFO 91766 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:54:31.409  INFO 91766 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 11:54:39.400  INFO 91766 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:54:39.404  INFO 91766 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 11:54:39.904  INFO 91766 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 11:54:39.907  INFO 91766 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 12:02:56.573  INFO 91766 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:02:56.591  INFO 91766 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 12:02:58.651  INFO 91766 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34 method = GET
2022-10-28 12:02:58.652  INFO 91766 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:03:00.268  INFO 91766 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/34111 method = GET
2022-10-28 12:03:00.270  INFO 91766 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:03:00.324 ERROR 91766 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '34111'
2022-10-28 12:03:00.338  WARN 91766 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:03:02.473  INFO 91766 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = GET
2022-10-28 12:03:02.475  INFO 91766 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:03:04.526  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 12:03:04.527  INFO 91766 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:03:13.536  INFO 91766 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 12:03:13.548  INFO 91766 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:03:18.378  INFO 91766 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 12:03:18.382  INFO 91766 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:03:18.770  INFO 91766 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 12:03:18.773  INFO 91766 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:03:19.197  INFO 91766 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 12:03:19.212  INFO 91766 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:03:19.554  INFO 91766 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 12:03:19.557  INFO 91766 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:08:12.572  INFO 91766 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:08:12.590  INFO 91766 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 12:08:12.597  INFO 91766 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 12:11:08.172  INFO 93553 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 93553 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 12:11:08.173 DEBUG 93553 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 12:11:08.176  INFO 93553 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 12:11:08.222  INFO 93553 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 12:11:08.222  INFO 93553 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 12:11:09.057  INFO 93553 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 12:11:09.131  INFO 93553 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 4 JPA repository interfaces.
2022-10-28 12:11:09.723  INFO 93553 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 12:11:09.728  INFO 93553 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 12:11:09.728  INFO 93553 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 12:11:09.804  INFO 93553 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 12:11:09.804  INFO 93553 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1581 ms
2022-10-28 12:11:09.935  INFO 93553 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 12:11:10.182  INFO 93553 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 12:11:10.251  INFO 93553 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 12:11:10.271  INFO 93553 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 12:11:10.331  INFO 93553 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 12:11:10.387  INFO 93553 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 12:11:10.830  INFO 93553 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 12:11:10.835  INFO 93553 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:11:11.273  WARN 93553 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 12:11:11.396  INFO 93553 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c0d9118, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18df01c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@215ae5a4, org.springframework.security.web.authentication.logout.LogoutFilter@280f0779, com.example.refugeeshelter.filter.CustomAuthorizationFilter@13eeb095, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7b89cbf0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@205006b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5001c993, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b2c00c8, org.springframework.security.web.session.SessionManagementFilter@8e687cd, org.springframework.security.web.access.ExceptionTranslationFilter@222050c6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ae54662]
2022-10-28 12:11:11.688  INFO 93553 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 12:11:11.748  INFO 93553 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 12:11:11.767  INFO 93553 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.989 seconds (JVM running for 4.787)
2022-10-28 12:11:29.055  INFO 93553 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 12:11:29.058  INFO 93553 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 12:11:29.065  INFO 93553 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 12:11:29.077  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:29.133  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 12:11:33.328  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:33.334  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 12:11:33.925  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:33.932  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 12:11:42.144  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 12:11:42.148  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:11:42.152  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : akrik, akrik1234
2022-10-28 12:11:42.154  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=akrik, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 12:11:42.403  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database akrik $2a$10$NoRqTHgJnBCQa9njTunq9eux7nbJrD4.OacHv9n1QZ5EXNuM.5Hqm
2022-10-28 12:11:51.416  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:51.421  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:11:55.682  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:55.686  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:11:56.132  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:11:56.135  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:11:59.402  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/dd method = POST
2022-10-28 12:11:59.407  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:11:59.417  WARN 93553 --- [http-nio-8081-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-10-28 12:12:01.558  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:01.567  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:02.074  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:02.081  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:02.394  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:02.398  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:15.831  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:15.833  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:12:16.865  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:16.867  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:12:17.309  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:17.309  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:12:21.864  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:21.868  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:22.452  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:22.455  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:22.905  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:22.908  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:24.904  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:24.909  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:25.313  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:25.322  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:25.723  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:25.726  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:26.113  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:26.115  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:35.916  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:35.922  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:36.226  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:36.229  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:53.331  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:53.334  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:53.768  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:53.770  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:54.253  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:54.256  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:12:54.671  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:12:54.676  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:13:02.500  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:13:02.504  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:13:02.613  WARN 93553 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [javax.validation.ConstraintViolationException: Validation failed for classes [com.example.refugeeshelter.entities.Rooms] during persist time for groups [javax.validation.groups.Default, ]<EOL>List of constraint violations:[<EOL>?ConstraintViolationImpl{interpolatedMessage='Longitude should not be a null', propertyPath=longitude, rootBeanClass=class com.example.refugeeshelter.entities.Rooms, messageTemplate='Longitude should not be a null'}<EOL>]]
2022-10-28 12:13:08.951  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:13:08.955  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:13:08.981  WARN 93553 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Double` from String "11dfadfsdfs": not a valid `Double` value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Double` from String "11dfadfsdfs": not a valid `Double` value<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 4, column: 18] (through reference chain: com.example.refugeeshelter.dto.response.RoomsResponse["longitude"])]
2022-10-28 12:13:13.495  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:13:13.502  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:13:26.981  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/108 method = GET
2022-10-28 12:13:26.983  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:13:35.157  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 12:13:35.174  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:13:42.360  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 12:13:42.362  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:13:48.104  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/108 method = GET
2022-10-28 12:13:48.111  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:13:51.691  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 12:13:51.703  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:14:21.128  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:14:21.131  INFO 93553 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:14:21.174 ERROR 93553 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:14:21.189  WARN 93553 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:14:21.767  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:14:21.772  INFO 93553 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:14:21.799 ERROR 93553 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:14:21.801  WARN 93553 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:15:11.135  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:11.144  INFO 93553 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:15:11.650  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:11.650  INFO 93553 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:15:12.040  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:12.041  INFO 93553 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:15:12.418  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:12.419  INFO 93553 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 12:15:14.264  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:14.275  INFO 93553 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:15:14.311 ERROR 93553 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:15:14.314  WARN 93553 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:15:14.634  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:14.637  INFO 93553 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:15:14.650 ERROR 93553 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:15:14.653  WARN 93553 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:15:15.076  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:15.081  INFO 93553 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:15:15.091 ERROR 93553 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:15:15.093  WARN 93553 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:15:15.466  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:15:15.468  INFO 93553 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:15:15.482 ERROR 93553 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:15:15.485  WARN 93553 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:21:05.511  INFO 93553 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:21:05.526  INFO 93553 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 12:21:05.532  INFO 93553 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 12:21:10.167  INFO 94596 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 94596 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 12:21:10.167 DEBUG 94596 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 12:21:10.169  INFO 94596 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 12:21:10.216  INFO 94596 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 12:21:10.216  INFO 94596 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 12:21:11.070  INFO 94596 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 12:21:11.133  INFO 94596 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 4 JPA repository interfaces.
2022-10-28 12:21:11.696  INFO 94596 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 12:21:11.702  INFO 94596 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 12:21:11.702  INFO 94596 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 12:21:11.762  INFO 94596 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 12:21:11.762  INFO 94596 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1545 ms
2022-10-28 12:21:11.885  INFO 94596 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 12:21:12.136  INFO 94596 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 12:21:12.205  INFO 94596 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 12:21:12.223  INFO 94596 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 12:21:12.284  INFO 94596 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 12:21:12.336  INFO 94596 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 12:21:12.853  INFO 94596 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 12:21:12.860  INFO 94596 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:21:13.293  WARN 94596 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 12:21:13.417  INFO 94596 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@722c2f97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e299409, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ef8c4e5, org.springframework.security.web.authentication.logout.LogoutFilter@4a286132, com.example.refugeeshelter.filter.CustomAuthorizationFilter@129490f6, com.example.refugeeshelter.filter.CustomAuthenticationFilter@69f468ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ad9c727, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@366074ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ab7a2d0, org.springframework.security.web.session.SessionManagementFilter@7870c2c4, org.springframework.security.web.access.ExceptionTranslationFilter@66ca0598, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@347e192a]
2022-10-28 12:21:13.710  INFO 94596 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 12:21:13.767  INFO 94596 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 12:21:13.788  INFO 94596 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.039 seconds (JVM running for 4.842)
2022-10-28 12:21:26.033  INFO 94596 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 12:21:26.036  INFO 94596 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 12:21:26.043  INFO 94596 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 12:21:26.061  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20222 method = PUT
2022-10-28 12:21:26.115  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:26.276 ERROR 94596 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20222'
2022-10-28 12:21:26.299  WARN 94596 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:21:28.948  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = PUT
2022-10-28 12:21:28.952  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:28.974 ERROR 94596 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 12:21:28.979  WARN 94596 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:21:29.861  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/21 method = PUT
2022-10-28 12:21:29.869  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:36.197  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 12:21:36.201  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:21:48.764  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:48.773  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:48.817 ERROR 94596 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:48.819  WARN 94596 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:50.145  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:50.147  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:50.192 ERROR 94596 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:50.198  WARN 94596 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:50.625  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:50.629  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:50.675 ERROR 94596 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:50.679  WARN 94596 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:51.036  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:51.040  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:51.085 ERROR 94596 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:51.089  WARN 94596 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:51.468  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:51.472  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:51.516 ERROR 94596 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:51.522  WARN 94596 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:51.874  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:51.878  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:51.920 ERROR 94596 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:51.922  WARN 94596 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:56.613  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:56.615  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:56.648 ERROR 94596 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:56.652  WARN 94596 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:56.998  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:57.006  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:57.034 ERROR 94596 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:57.036  WARN 94596 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:57.378  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:57.384  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:57.421 ERROR 94596 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:57.425  WARN 94596 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:57.772  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:57.777  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:57.813 ERROR 94596 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:57.818  WARN 94596 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:58.126  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:58.130  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:58.162 ERROR 94596 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:58.165  WARN 94596 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:58.509  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:58.516  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:58.557 ERROR 94596 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:58.559  WARN 94596 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:58.805  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:58.807  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:58.845 ERROR 94596 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:58.849  WARN 94596 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:21:59.210  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:21:59.212  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:21:59.254 ERROR 94596 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:21:59.259  WARN 94596 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:22:00.779  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:22:00.782  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:00.829 ERROR 94596 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:22:00.836  WARN 94596 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:22:01.138  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:22:01.140  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:01.172 ERROR 94596 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:22:01.174  WARN 94596 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:22:01.543  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:22:01.553  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:01.591 ERROR 94596 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:22:01.595  WARN 94596 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:22:02.627  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = PUT
2022-10-28 12:22:02.642  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:02.679 ERROR 94596 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:22:02.683  WARN 94596 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:22:04.389  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/21 method = PUT
2022-10-28 12:22:04.393  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:09.505  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:09.510  INFO 94596 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:10.092  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:10.096  INFO 94596 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:10.483  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:10.492  INFO 94596 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:10.957  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:10.959  INFO 94596 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:15.205  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:15.207  INFO 94596 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:17.909  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1091 method = PUT
2022-10-28 12:22:17.911  INFO 94596 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:17.928 ERROR 94596 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1091'
2022-10-28 12:22:17.931  WARN 94596 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:22:19.363  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:22:19.368  INFO 94596 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:21.986  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/10911 method = PUT
2022-10-28 12:22:21.991  INFO 94596 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:22.003 ERROR 94596 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '10911'
2022-10-28 12:22:22.006  WARN 94596 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:22:22.956  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1091 method = PUT
2022-10-28 12:22:22.958  INFO 94596 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:22.971 ERROR 94596 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1091'
2022-10-28 12:22:22.973  WARN 94596 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:22:24.618  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PUT
2022-10-28 12:22:24.620  INFO 94596 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:22:24.653 ERROR 94596 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:22:24.655  WARN 94596 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:23:23.688  INFO 94596 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:23:23.699  INFO 94596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 12:23:23.703  INFO 94596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 12:23:28.379  INFO 94838 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 94838 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 12:23:28.380 DEBUG 94838 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 12:23:28.382  INFO 94838 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 12:23:28.430  INFO 94838 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 12:23:28.430  INFO 94838 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 12:23:29.258  INFO 94838 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 12:23:29.325  INFO 94838 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 12:23:29.886  INFO 94838 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 12:23:29.891  INFO 94838 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 12:23:29.891  INFO 94838 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 12:23:29.945  INFO 94838 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 12:23:29.945  INFO 94838 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1514 ms
2022-10-28 12:23:30.076  INFO 94838 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 12:23:30.307  INFO 94838 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 12:23:30.375  INFO 94838 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 12:23:30.393  INFO 94838 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 12:23:30.454  INFO 94838 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 12:23:30.512  INFO 94838 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 12:23:30.958  INFO 94838 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 12:23:30.962  INFO 94838 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:23:31.386  WARN 94838 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 12:23:31.522  INFO 94838 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69f468ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab7a2d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ad9c727, org.springframework.security.web.authentication.logout.LogoutFilter@1870aec1, com.example.refugeeshelter.filter.CustomAuthorizationFilter@8ccf853, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3ee9da9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d0c4ee3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29d259c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@749066b7, org.springframework.security.web.session.SessionManagementFilter@1ef8c4e5, org.springframework.security.web.access.ExceptionTranslationFilter@7870c2c4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25b30edc]
2022-10-28 12:23:31.828  INFO 94838 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 12:23:31.863  INFO 94838 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 12:23:31.889  INFO 94838 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.893 seconds (JVM running for 4.656)
2022-10-28 12:23:34.185  INFO 94838 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 12:23:34.189  INFO 94838 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 12:23:34.195  INFO 94838 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 12:23:34.206  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:23:34.272  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:23:35.141  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:23:35.153  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:23:38.130  INFO 94838 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:23:38.133  INFO 94838 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:23:44.096  INFO 94838 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:23:44.099  INFO 94838 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:23:44.128  WARN 94838 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid numeric value: Leading zeroes not allowed; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid numeric value: Leading zeroes not allowed<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 4, column: 23]]
2022-10-28 12:23:52.270  INFO 94838 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PUT
2022-10-28 12:23:52.286  INFO 94838 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:23:56.398  INFO 94838 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:23:56.402  INFO 94838 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:23:56.446 ERROR 94838 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:23:57.351  INFO 94838 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:23:57.354  INFO 94838 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:23:57.373 ERROR 94838 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:23:57.841  INFO 94838 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:23:57.845  INFO 94838 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:23:57.850 ERROR 94838 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:23:58.304  INFO 94838 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:23:58.308  INFO 94838 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:23:58.332 ERROR 94838 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:24:11.918  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:11.921  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:11.975 ERROR 94838 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:11.997  WARN 94838 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:12.540  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:12.553  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:12.598 ERROR 94838 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:12.603  WARN 94838 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:13.024  INFO 94838 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:13.033  INFO 94838 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:13.072 ERROR 94838 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:13.074  WARN 94838 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:13.447  INFO 94838 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:13.449  INFO 94838 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:13.486 ERROR 94838 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:13.490  WARN 94838 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:14.076  INFO 94838 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:14.086  INFO 94838 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:14.123 ERROR 94838 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:14.126  WARN 94838 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:14.546  INFO 94838 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:14.548  INFO 94838 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:14.585 ERROR 94838 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:14.593  WARN 94838 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:15.518  INFO 94838 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = PATCH
2022-10-28 12:24:15.523  INFO 94838 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:15.563 ERROR 94838 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:15.566  WARN 94838 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:16.806  INFO 94838 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = PATCH
2022-10-28 12:24:16.809  INFO 94838 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:16.855 ERROR 94838 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:16.862  WARN 94838 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:18.218  INFO 94838 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/52323 method = PATCH
2022-10-28 12:24:18.222  INFO 94838 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:18.249 ERROR 94838 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '52323'
2022-10-28 12:24:18.254  WARN 94838 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:24:20.907  INFO 94838 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = PATCH
2022-10-28 12:24:20.910  INFO 94838 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:20.941 ERROR 94838 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:24:20.946  WARN 94838 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:24:24.603  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PATCH
2022-10-28 12:24:24.605  INFO 94838 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:24:31.811  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PATCH
2022-10-28 12:24:31.813  INFO 94838 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:27:27.031  INFO 94838 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:27:27.042  INFO 94838 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 12:27:27.048  INFO 94838 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 12:27:32.400  INFO 95246 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 95246 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 12:27:32.407 DEBUG 95246 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 12:27:32.409  INFO 95246 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 12:27:32.466  INFO 95246 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 12:27:32.469  INFO 95246 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 12:27:33.531  INFO 95246 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 12:27:33.622  INFO 95246 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 4 JPA repository interfaces.
2022-10-28 12:27:34.316  INFO 95246 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 12:27:34.321  INFO 95246 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 12:27:34.321  INFO 95246 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 12:27:34.388  INFO 95246 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 12:27:34.388  INFO 95246 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1918 ms
2022-10-28 12:27:34.566  INFO 95246 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 12:27:34.812  INFO 95246 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 12:27:34.892  INFO 95246 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 12:27:34.915  INFO 95246 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 12:27:35.002  INFO 95246 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 12:27:35.075  INFO 95246 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 12:27:35.593  INFO 95246 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 12:27:35.599  INFO 95246 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 12:27:36.042  WARN 95246 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 12:27:36.165  INFO 95246 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50fb8a49, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fd3397a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f7345b9, org.springframework.security.web.authentication.logout.LogoutFilter@19209074, com.example.refugeeshelter.filter.CustomAuthorizationFilter@57066f62, com.example.refugeeshelter.filter.CustomAuthenticationFilter@495a034d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f36d0a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ab2347a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45ff61ed, org.springframework.security.web.session.SessionManagementFilter@3e1ee9ac, org.springframework.security.web.access.ExceptionTranslationFilter@2fe6a027, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d651471]
2022-10-28 12:27:36.517  INFO 95246 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 12:27:36.553  INFO 95246 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 12:27:36.569  INFO 95246 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.629 seconds (JVM running for 5.572)
2022-10-28 12:27:36.909  INFO 95246 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 12:27:36.914  INFO 95246 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 12:27:36.920  INFO 95246 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 12:27:36.933  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = PATCH
2022-10-28 12:27:36.983  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:27:40.296  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:40.309  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:40.330 ERROR 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:27:41.089  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:41.092  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:41.114 ERROR 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:27:41.482  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:41.491  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:41.503 ERROR 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:27:41.947  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:41.963  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:41.973 ERROR 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:27:42.387  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:42.391  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:42.401 ERROR 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:27:42.834  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:27:42.836  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 12:27:42.843 ERROR 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 12:28:02.017  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:02.020  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:02.096 ERROR 95246 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:02.112  WARN 95246 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:03.570  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:03.574  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:03.624 ERROR 95246 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:03.628  WARN 95246 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:05.064  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 12:28:05.067  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:05.110 ERROR 95246 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:05.116  WARN 95246 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:05.721  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 12:28:05.725  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:05.763 ERROR 95246 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:05.765  WARN 95246 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:06.162  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 12:28:06.168  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:06.205 ERROR 95246 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:06.208  WARN 95246 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:06.597  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 12:28:06.606  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:06.649 ERROR 95246 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:06.652  WARN 95246 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:07.038  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/5 method = DELETE
2022-10-28 12:28:07.041  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:07.085 ERROR 95246 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:07.089  WARN 95246 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:10.474  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = DELETE
2022-10-28 12:28:10.478  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:12.514  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1090 method = DELETE
2022-10-28 12:28:12.525  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:12.556 ERROR 95246 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1090'
2022-10-28 12:28:12.561  WARN 95246 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:14.622  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = DELETE
2022-10-28 12:28:14.633  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:14.675 ERROR 95246 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '109'
2022-10-28 12:28:14.678  WARN 95246 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:15.558  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = DELETE
2022-10-28 12:28:15.561  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:15.581 ERROR 95246 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '109'
2022-10-28 12:28:15.585  WARN 95246 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:17.199  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/108 method = DELETE
2022-10-28 12:28:17.201  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:17.762  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/108 method = DELETE
2022-10-28 12:28:17.764  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:17.777 ERROR 95246 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '108'
2022-10-28 12:28:17.780  WARN 95246 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:18.123  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/108 method = DELETE
2022-10-28 12:28:18.127  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:18.138 ERROR 95246 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '108'
2022-10-28 12:28:18.140  WARN 95246 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:19.499  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/107 method = DELETE
2022-10-28 12:28:19.502  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:19.902  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/107 method = DELETE
2022-10-28 12:28:19.904  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:19.916 ERROR 95246 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '107'
2022-10-28 12:28:19.920  WARN 95246 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:21.659  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/105 method = DELETE
2022-10-28 12:28:21.665  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:22.477  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/106 method = DELETE
2022-10-28 12:28:22.479  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:26.154  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1199 method = DELETE
2022-10-28 12:28:26.156  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:26.184 ERROR 95246 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1199'
2022-10-28 12:28:26.190  WARN 95246 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:28.049  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 12:28:28.050  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:28.062 ERROR 95246 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 12:28:28.065  WARN 95246 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:28:30.262  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:30.265  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:30.306 ERROR 95246 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:30.308  WARN 95246 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:30.866  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:30.869  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:30.909 ERROR 95246 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:30.912  WARN 95246 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:31.392  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:31.396  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:31.432 ERROR 95246 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:31.437  WARN 95246 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:31.742  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:31.746  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:31.794 ERROR 95246 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:31.795  WARN 95246 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:32.142  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:32.148  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:32.188 ERROR 95246 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:32.190  WARN 95246 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:32.562  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:32.565  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:32.602 ERROR 95246 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:32.607  WARN 95246 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:32.923  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:32.929  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:32.969 ERROR 95246 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:32.976  WARN 95246 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:33.325  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:28:33.338  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:28:33.370 ERROR 95246 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:28:33.371  WARN 95246 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:28:37.105  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 12:28:37.105  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:37:24.271  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:37:24.289  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 12:37:24.332 ERROR 95246 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:37:24.336  WARN 95246 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:37:28.831  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = GET
2022-10-28 12:37:28.831  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:40:10.624  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 12:40:10.625  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:40:10.631  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 12:40:10.632  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 12:40:10.799  INFO 95246 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 12:40:20.618  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:40:20.629  INFO 95246 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:20.696 ERROR 95246 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 12:40:20.703  WARN 95246 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 12:40:21.539  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:40:21.558  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:21.616 ERROR 95246 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 12:40:21.619  WARN 95246 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 12:40:21.894  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:40:21.896  INFO 95246 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:21.931 ERROR 95246 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 12:40:21.932  WARN 95246 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 12:40:26.502  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/109 method = DELETE
2022-10-28 12:40:26.509  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:26.518 ERROR 95246 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '109'
2022-10-28 12:40:26.520  WARN 95246 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:40:29.003  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 12:40:29.005  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:29.018 ERROR 95246 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 12:40:29.021  WARN 95246 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:40:30.775  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/120 method = DELETE
2022-10-28 12:40:30.778  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:30.788 ERROR 95246 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '120'
2022-10-28 12:40:30.790  WARN 95246 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:40:34.249  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/100 method = DELETE
2022-10-28 12:40:34.253  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:34.290 ERROR 95246 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 12:40:34.292  WARN 95246 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 12:40:37.204  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1001 method = DELETE
2022-10-28 12:40:37.210  INFO 95246 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:37.227 ERROR 95246 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1001'
2022-10-28 12:40:37.231  WARN 95246 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 12:40:41.884  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 12:40:41.891  INFO 95246 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 12:40:41.934 ERROR 95246 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 12:40:41.936  WARN 95246 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 12:44:12.562  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/11111 method = GET
2022-10-28 12:44:12.564  INFO 95246 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:44:17.170  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 12:44:17.170  INFO 95246 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:44:18.102  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 12:44:18.107  INFO 95246 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:44:18.570  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 12:44:18.573  INFO 95246 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 12:44:38.019  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 12:44:38.020  INFO 95246 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:04:23.951  INFO 95246 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:04:23.960  INFO 95246 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:04:23.972  INFO 95246 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:04:30.064  INFO 99050 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 99050 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:04:30.065 DEBUG 99050 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:04:30.067  INFO 99050 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:04:30.121  INFO 99050 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:04:30.121  INFO 99050 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:04:30.951  INFO 99050 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:04:31.018  INFO 99050 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 13:04:31.576  INFO 99050 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:04:31.582  INFO 99050 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:04:31.582  INFO 99050 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:04:31.642  INFO 99050 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:04:31.642  INFO 99050 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1520 ms
2022-10-28 13:04:31.771  INFO 99050 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:04:32.025  INFO 99050 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:04:32.092  INFO 99050 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:04:32.113  INFO 99050 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:04:32.173  INFO 99050 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:04:32.224  INFO 99050 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:04:32.687  INFO 99050 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:04:32.692  INFO 99050 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:04:33.132  WARN 99050 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:04:33.248  INFO 99050 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ba3bcc3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d69cac7, org.springframework.security.web.context.SecurityContextPersistenceFilter@19154531, org.springframework.security.web.authentication.logout.LogoutFilter@4d18400, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5a69b704, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5f13e8cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e54fe40, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@410e3d76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19100248, org.springframework.security.web.session.SessionManagementFilter@5a61dba5, org.springframework.security.web.access.ExceptionTranslationFilter@100ad4c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4675bfdd]
2022-10-28 13:04:33.539  INFO 99050 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:04:33.580  INFO 99050 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:04:33.608  INFO 99050 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.918 seconds (JVM running for 4.668)
2022-10-28 13:04:49.618  INFO 99050 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:04:49.621  INFO 99050 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:04:49.629  INFO 99050 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2022-10-28 13:04:49.643  INFO 99050 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:04:49.644  INFO 99050 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:05:04.718  INFO 99050 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:05:04.729  INFO 99050 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:05:04.732  INFO 99050 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:05:09.072  INFO 99124 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 99124 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:05:09.073 DEBUG 99124 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:05:09.075  INFO 99124 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:05:09.120  INFO 99124 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:05:09.120  INFO 99124 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:05:10.223  INFO 99124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:05:10.290  INFO 99124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 13:05:10.915  INFO 99124 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:05:10.921  INFO 99124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:05:10.921  INFO 99124 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:05:11.011  INFO 99124 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:05:11.011  INFO 99124 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1889 ms
2022-10-28 13:05:11.185  INFO 99124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:05:11.445  INFO 99124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:05:11.528  INFO 99124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:05:11.549  INFO 99124 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:05:11.617  INFO 99124 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:05:11.673  INFO 99124 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:05:12.152  INFO 99124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:05:12.157  INFO 99124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:05:12.687  WARN 99124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:05:12.834  INFO 99124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f4216ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73a6af8d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1096a92d, org.springframework.security.web.authentication.logout.LogoutFilter@597247a3, com.example.refugeeshelter.filter.CustomAuthorizationFilter@71b1317f, com.example.refugeeshelter.filter.CustomAuthenticationFilter@ed118e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@193fe768, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b626364, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@210988f4, org.springframework.security.web.session.SessionManagementFilter@4a1b021a, org.springframework.security.web.access.ExceptionTranslationFilter@7137cc02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@231af555]
2022-10-28 13:05:13.216  INFO 99124 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:05:13.259  INFO 99124 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:05:13.273  INFO 99124 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.636 seconds (JVM running for 5.485)
2022-10-28 13:05:13.788  INFO 99124 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:05:13.790  INFO 99124 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:05:13.797  INFO 99124 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 13:05:13.814  INFO 99124 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:05:13.814  INFO 99124 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:16.489  INFO 99124 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:06:16.499  INFO 99124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:06:16.503  INFO 99124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:06:20.663  INFO 99242 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 99242 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:06:20.664 DEBUG 99242 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:06:20.666  INFO 99242 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:06:20.715  INFO 99242 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:06:20.716  INFO 99242 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:06:21.583  INFO 99242 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:06:21.648  INFO 99242 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2022-10-28 13:06:22.220  INFO 99242 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:06:22.225  INFO 99242 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:06:22.226  INFO 99242 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:06:22.306  INFO 99242 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:06:22.307  INFO 99242 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1591 ms
2022-10-28 13:06:22.410  INFO 99242 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:06:22.636  INFO 99242 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:06:22.703  INFO 99242 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:06:22.723  INFO 99242 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:06:22.782  INFO 99242 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:06:22.836  INFO 99242 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:06:23.286  INFO 99242 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:06:23.291  INFO 99242 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:06:23.754  WARN 99242 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:06:23.912  INFO 99242 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66a372c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15448e73, org.springframework.security.web.context.SecurityContextPersistenceFilter@5cfd52ec, org.springframework.security.web.authentication.logout.LogoutFilter@795b9514, com.example.refugeeshelter.filter.CustomAuthorizationFilter@f20301a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2d354508, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f1d9fd0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17c42d7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50fd2f31, org.springframework.security.web.session.SessionManagementFilter@1c5c1ce4, org.springframework.security.web.access.ExceptionTranslationFilter@7a3fb5ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64638556]
2022-10-28 13:06:24.254  INFO 99242 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:06:24.291  INFO 99242 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:06:24.307  INFO 99242 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.019 seconds (JVM running for 4.79)
2022-10-28 13:06:30.109  INFO 99242 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:06:30.113  INFO 99242 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:06:30.120  INFO 99242 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2022-10-28 13:06:30.132  INFO 99242 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:06:30.133  INFO 99242 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:31.289  INFO 99242 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:06:31.291  INFO 99242 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:32.051  INFO 99242 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:06:32.052  INFO 99242 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:32.565  INFO 99242 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:06:32.566  INFO 99242 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:33.007  INFO 99242 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:06:33.009  INFO 99242 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:06:55.860  INFO 99242 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:06:55.872  INFO 99242 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:06:55.875  INFO 99242 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:07:00.024  INFO 99315 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 99315 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:07:00.025 DEBUG 99315 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:07:00.026  INFO 99315 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:07:00.072  INFO 99315 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:07:00.072  INFO 99315 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:07:00.908  INFO 99315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:07:00.973  INFO 99315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 13:07:01.523  INFO 99315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:07:01.528  INFO 99315 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:07:01.529  INFO 99315 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:07:01.606  INFO 99315 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:07:01.607  INFO 99315 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1535 ms
2022-10-28 13:07:01.708  INFO 99315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:07:01.939  INFO 99315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:07:02.005  INFO 99315 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:07:02.025  INFO 99315 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:07:02.087  INFO 99315 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:07:02.145  INFO 99315 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:07:02.627  INFO 99315 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:07:02.631  INFO 99315 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:07:03.251  WARN 99315 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:07:03.392  INFO 99315 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31c221, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@292ba4d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@83caff9, org.springframework.security.web.authentication.logout.LogoutFilter@5a800df7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@db78dd8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@79d2a32b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a0337e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7320bc1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777c46fa, org.springframework.security.web.session.SessionManagementFilter@19d739f, org.springframework.security.web.access.ExceptionTranslationFilter@111db61f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c6c21e4]
2022-10-28 13:07:03.792  INFO 99315 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:07:03.847  INFO 99315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:07:03.862  INFO 99315 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.23 seconds (JVM running for 4.979)
2022-10-28 13:07:04.415  INFO 99315 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:07:04.417  INFO 99315 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:07:04.423  INFO 99315 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 13:07:04.437  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:04.438  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:05.309  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:05.310  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:05.777  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:05.778  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:06.221  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:06.224  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:06.732  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:06.734  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:07.174  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:07.175  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:07.688  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:07.691  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:08.097  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:08.103  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:08.493  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:08.500  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:11.480  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:11.481  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:11.947  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:11.948  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:19.473  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3111 method = GET
2022-10-28 13:07:19.474  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:19.536 ERROR 99315 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3111'
2022-10-28 13:07:19.544  WARN 99315 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 13:07:20.211  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3111 method = GET
2022-10-28 13:07:20.212  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:20.231 ERROR 99315 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3111'
2022-10-28 13:07:20.239  WARN 99315 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 13:07:20.701  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3111 method = GET
2022-10-28 13:07:20.701  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:20.717 ERROR 99315 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3111'
2022-10-28 13:07:20.720  WARN 99315 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 13:07:21.093  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3111 method = GET
2022-10-28 13:07:21.094  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:21.107 ERROR 99315 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3111'
2022-10-28 13:07:21.110  WARN 99315 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 13:07:23.776  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:07:23.778  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:53.504  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 13:07:53.505  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:59.329  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 13:07:59.333  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:07:59.733  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 13:07:59.735  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:00.128  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 13:08:00.130  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:02.954  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/111 method = GET
2022-10-28 13:08:02.955  INFO 99315 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:02.980 ERROR 99315 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '111'
2022-10-28 13:08:02.985  WARN 99315 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 13:08:04.939  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 13:08:04.939  INFO 99315 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:05.933  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = GET
2022-10-28 13:08:05.934  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:06.633  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = GET
2022-10-28 13:08:06.633  INFO 99315 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:08.806  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:08:08.807  INFO 99315 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:19.425  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:08:19.426  INFO 99315 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:19.856  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:08:19.856  INFO 99315 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:25.686  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:08:25.687  INFO 99315 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:26.089  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:08:26.089  INFO 99315 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:08:27.953  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:08:27.955  INFO 99315 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:18:34.208  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:18:34.215  INFO 99315 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:22:50.929  INFO 99315 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:22:50.941  INFO 99315 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:22:50.946  INFO 99315 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:22:56.077  INFO 1165 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 1165 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:22:56.078 DEBUG 1165 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:22:56.083  INFO 1165 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:22:56.136  INFO 1165 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:22:56.136  INFO 1165 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:22:57.249  INFO 1165 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:22:57.318  INFO 1165 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 13:22:57.959  INFO 1165 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:22:57.967  INFO 1165 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:22:57.967  INFO 1165 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:22:58.079  INFO 1165 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:22:58.079  INFO 1165 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1942 ms
2022-10-28 13:22:58.231  INFO 1165 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:22:58.472  INFO 1165 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:22:58.543  INFO 1165 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:22:58.562  INFO 1165 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:22:58.642  INFO 1165 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:22:58.711  INFO 1165 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:22:59.237  INFO 1165 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:22:59.244  INFO 1165 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:22:59.728  WARN 1165 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:22:59.850  INFO 1165 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@551dfc32, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f99961b, org.springframework.security.web.context.SecurityContextPersistenceFilter@62816e55, org.springframework.security.web.authentication.logout.LogoutFilter@273fc987, com.example.refugeeshelter.filter.CustomAuthorizationFilter@7b035ed7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@64c415c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f0c209c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46cb72bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e02990e, org.springframework.security.web.session.SessionManagementFilter@51914c4a, org.springframework.security.web.access.ExceptionTranslationFilter@4231d9a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@732d7631]
2022-10-28 13:23:00.247  INFO 1165 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:23:00.280  INFO 1165 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:23:00.290  INFO 1165 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.685 seconds (JVM running for 5.543)
2022-10-28 13:23:00.892  INFO 1165 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:23:00.894  INFO 1165 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:23:00.899  INFO 1165 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 13:23:00.910  INFO 1165 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/reservations method = GET
2022-10-28 13:23:00.979  INFO 1165 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:23:05.701  INFO 1165 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/reservations method = GET
2022-10-28 13:23:05.711  INFO 1165 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:23:06.482  INFO 1165 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/reservations method = GET
2022-10-28 13:23:06.498  INFO 1165 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:23:12.410  INFO 1165 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:23:12.414  INFO 1165 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:26:43.341  INFO 1165 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:26:43.346  INFO 1165 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:26:43.349  INFO 1165 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:26:48.431  INFO 1577 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 1577 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:26:48.432 DEBUG 1577 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:26:48.438  INFO 1577 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:26:48.485  INFO 1577 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:26:48.485  INFO 1577 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:26:49.333  INFO 1577 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:26:49.402  INFO 1577 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 13:26:50.092  INFO 1577 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:26:50.099  INFO 1577 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:26:50.099  INFO 1577 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:26:50.153  INFO 1577 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:26:50.154  INFO 1577 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1668 ms
2022-10-28 13:26:50.297  INFO 1577 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:26:50.566  INFO 1577 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:26:50.748  INFO 1577 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:26:50.786  INFO 1577 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:26:50.950  INFO 1577 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:26:51.010  INFO 1577 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:26:51.438  INFO 1577 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:26:51.443  INFO 1577 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:26:51.866  WARN 1577 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:26:52.002  INFO 1577 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31c221, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@292ba4d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@83caff9, org.springframework.security.web.authentication.logout.LogoutFilter@5a800df7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@db78dd8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@79d2a32b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a0337e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7320bc1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777c46fa, org.springframework.security.web.session.SessionManagementFilter@19d739f, org.springframework.security.web.access.ExceptionTranslationFilter@111db61f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c6c21e4]
2022-10-28 13:26:52.400  INFO 1577 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:26:52.438  INFO 1577 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:26:52.469  INFO 1577 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.406 seconds (JVM running for 5.154)
2022-10-28 13:26:52.791  INFO 1577 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:26:52.794  INFO 1577 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:26:52.796  INFO 1577 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-10-28 13:26:52.806  INFO 1577 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:26:52.978  INFO 1577 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:26:53.308  WARN 1577 --- [http-nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'reservationFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'reservationFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0])]
2022-10-28 13:26:54.158  INFO 1577 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:26:54.172  INFO 1577 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:26:54.234  WARN 1577 --- [http-nio-8081-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'reservationFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'reservationFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0])]
2022-10-28 13:26:54.621  INFO 1577 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:26:54.629  INFO 1577 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:26:54.702  WARN 1577 --- [http-nio-8081-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'reservationFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'reservationFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0])]
2022-10-28 13:26:55.083  INFO 1577 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:26:55.086  INFO 1577 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:26:55.150  WARN 1577 --- [http-nio-8081-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'reservationFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'reservationFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0])]
2022-10-28 13:27:02.581  INFO 1577 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:27:02.594  INFO 1577 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:27:02.599  INFO 1577 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:27:06.648  INFO 1622 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 1622 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:27:06.649 DEBUG 1622 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:27:06.654  INFO 1622 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:27:06.708  INFO 1622 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:27:06.708  INFO 1622 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:27:07.732  INFO 1622 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:27:07.809  INFO 1622 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2022-10-28 13:27:08.497  INFO 1622 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:27:08.503  INFO 1622 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:27:08.503  INFO 1622 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:27:08.578  INFO 1622 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:27:08.579  INFO 1622 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1870 ms
2022-10-28 13:27:08.717  INFO 1622 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:27:08.972  INFO 1622 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:27:09.052  INFO 1622 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:27:09.072  INFO 1622 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:27:09.138  INFO 1622 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:27:09.193  INFO 1622 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:27:09.734  INFO 1622 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:27:09.739  INFO 1622 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:27:10.188  WARN 1622 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:27:10.322  INFO 1622 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2076348c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20b5984d, org.springframework.security.web.context.SecurityContextPersistenceFilter@20193930, org.springframework.security.web.authentication.logout.LogoutFilter@236d9994, com.example.refugeeshelter.filter.CustomAuthorizationFilter@78336866, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7e9ae526, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@111db61f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a0337e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f596c2d, org.springframework.security.web.session.SessionManagementFilter@75227721, org.springframework.security.web.access.ExceptionTranslationFilter@25851177, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17ea3e77]
2022-10-28 13:27:10.712  INFO 1622 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:27:10.749  INFO 1622 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:27:10.762  INFO 1622 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.589 seconds (JVM running for 5.584)
2022-10-28 13:27:11.350  INFO 1622 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:27:11.352  INFO 1622 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:27:11.357  INFO 1622 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 13:27:11.369  INFO 1622 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:27:11.416  INFO 1622 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:27:11.749  WARN 1622 --- [http-nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'roomsFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'roomsFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0]->com.example.refugeeshelter.dto.response.ReservationResponse["rooms"])]
2022-10-28 13:32:51.562  INFO 1622 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:32:51.573  INFO 1622 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:32:51.578  INFO 1622 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:32:56.414  INFO 2228 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 2228 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:32:56.417 DEBUG 2228 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:32:56.419  INFO 2228 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:32:56.466  INFO 2228 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:32:56.466  INFO 2228 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:32:57.486  INFO 2228 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:32:57.563  INFO 2228 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.
2022-10-28 13:32:58.203  INFO 2228 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:32:58.209  INFO 2228 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:32:58.210  INFO 2228 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:32:58.280  INFO 2228 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:32:58.280  INFO 2228 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1813 ms
2022-10-28 13:32:58.419  INFO 2228 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:32:58.711  INFO 2228 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:32:58.780  INFO 2228 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:32:58.798  INFO 2228 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:32:58.865  INFO 2228 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:32:58.930  INFO 2228 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:32:59.418  INFO 2228 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:32:59.423  INFO 2228 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:32:59.895  WARN 2228 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:33:00.109  INFO 2228 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b6858a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e280011, org.springframework.security.web.context.SecurityContextPersistenceFilter@34f9c536, org.springframework.security.web.authentication.logout.LogoutFilter@397e0c2f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3ae79a10, com.example.refugeeshelter.filter.CustomAuthenticationFilter@64b04ea6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4660991b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25f92e80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@509e0d6f, org.springframework.security.web.session.SessionManagementFilter@75c5b68e, org.springframework.security.web.access.ExceptionTranslationFilter@71882ebd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30da0529]
2022-10-28 13:33:00.488  INFO 2228 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:33:00.527  INFO 2228 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:33:00.544  INFO 2228 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.497 seconds (JVM running for 5.279)
2022-10-28 13:33:01.273  INFO 2228 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:33:01.276  INFO 2228 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:33:01.282  INFO 2228 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 13:33:01.296  INFO 2228 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:33:01.353  INFO 2228 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:33:01.688  WARN 2228 --- [http-nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'roomsFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'roomsFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0]->com.example.refugeeshelter.dto.response.ReservationResponse["rooms"])]
2022-10-28 13:40:26.315  INFO 2228 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:40:26.331  INFO 2228 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:40:26.390  WARN 2228 --- [http-nio-8081-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'roomsFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'roomsFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0]->com.example.refugeeshelter.dto.response.ReservationResponse["rooms"])]
2022-10-28 13:40:27.080  INFO 2228 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:40:27.092  INFO 2228 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:40:27.155  WARN 2228 --- [http-nio-8081-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No filter configured with id 'roomsFilter' (type java.lang.String); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No filter configured with id 'roomsFilter' (type java.lang.String) (through reference chain: java.util.ArrayList[0]->com.example.refugeeshelter.dto.response.ReservationResponse["rooms"])]
2022-10-28 13:42:56.624  INFO 2228 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:42:56.641  INFO 2228 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:42:56.646  INFO 2228 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:43:01.577  INFO 3256 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3256 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:43:01.579 DEBUG 3256 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:43:01.582  INFO 3256 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:43:01.641  INFO 3256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:43:01.641  INFO 3256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:43:02.518  INFO 3256 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:43:02.586  INFO 3256 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 4 JPA repository interfaces.
2022-10-28 13:43:03.148  INFO 3256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:43:03.154  INFO 3256 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:43:03.154  INFO 3256 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:43:03.220  INFO 3256 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:43:03.221  INFO 3256 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1579 ms
2022-10-28 13:43:03.352  INFO 3256 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:43:03.597  INFO 3256 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:43:03.744  INFO 3256 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:43:03.766  INFO 3256 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:43:03.843  INFO 3256 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:43:03.906  INFO 3256 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:43:04.352  INFO 3256 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:43:04.357  INFO 3256 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:43:04.796  WARN 3256 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:43:04.917  INFO 3256 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ed2a93b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@722c2f97, org.springframework.security.web.context.SecurityContextPersistenceFilter@28a8f2ad, org.springframework.security.web.authentication.logout.LogoutFilter@603803af, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3e299409, com.example.refugeeshelter.filter.CustomAuthenticationFilter@129490f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24c15799, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39945e6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69f468ee, org.springframework.security.web.session.SessionManagementFilter@4e1e93b0, org.springframework.security.web.access.ExceptionTranslationFilter@65b6a7c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ec334b6]
2022-10-28 13:43:05.282  INFO 3256 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:43:05.317  INFO 3256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:43:05.328  INFO 3256 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.151 seconds (JVM running for 4.919)
2022-10-28 13:43:05.777  INFO 3256 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:43:05.787  INFO 3256 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:43:05.801  INFO 3256 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2022-10-28 13:43:05.827  INFO 3256 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:43:05.828  INFO 3256 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:43:10.868  INFO 3256 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:43:10.869  INFO 3256 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:43:14.216  INFO 3256 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:43:14.286  INFO 3256 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:43:37.690  INFO 3256 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:43:37.698  INFO 3256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:43:37.700  INFO 3256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:43:42.076  INFO 3331 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3331 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:43:42.077 DEBUG 3331 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:43:42.079  INFO 3331 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:43:42.131  INFO 3331 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:43:42.132  INFO 3331 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:43:42.979  INFO 3331 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:43:43.046  INFO 3331 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 13:43:43.636  INFO 3331 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:43:43.643  INFO 3331 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:43:43.643  INFO 3331 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:43:43.706  INFO 3331 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:43:43.706  INFO 3331 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1574 ms
2022-10-28 13:43:43.847  INFO 3331 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:43:44.090  INFO 3331 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:43:44.159  INFO 3331 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:43:44.178  INFO 3331 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:43:44.242  INFO 3331 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:43:44.297  INFO 3331 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:43:44.786  INFO 3331 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:43:44.792  INFO 3331 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:43:45.248  WARN 3331 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:43:45.370  INFO 3331 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3014b05c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c7e1e47, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e24196, org.springframework.security.web.authentication.logout.LogoutFilter@63e3ef8e, com.example.refugeeshelter.filter.CustomAuthorizationFilter@1b8d0125, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1766c378, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78956b0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e2a313e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e50798, org.springframework.security.web.session.SessionManagementFilter@12fd4d9, org.springframework.security.web.access.ExceptionTranslationFilter@24930d9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@27c95db]
2022-10-28 13:43:45.739  INFO 3331 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:43:45.780  INFO 3331 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:43:45.797  INFO 3331 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.085 seconds (JVM running for 4.836)
2022-10-28 13:43:46.499  INFO 3331 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:43:46.501  INFO 3331 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:43:46.505  INFO 3331 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 13:43:46.515  INFO 3331 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 13:43:46.515  INFO 3331 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:43:49.275  INFO 3331 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 13:43:49.276  INFO 3331 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 13:43:51.222  INFO 3331 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:43:51.296  INFO 3331 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:44:18.731  INFO 3331 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:44:18.742  INFO 3331 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:44:18.745  INFO 3331 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:44:22.931  INFO 3409 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3409 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:44:22.932 DEBUG 3409 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:44:22.936  INFO 3409 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:44:22.988  INFO 3409 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:44:22.989  INFO 3409 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:44:23.803  INFO 3409 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:44:23.868  INFO 3409 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 13:44:24.419  INFO 3409 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:44:24.424  INFO 3409 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:44:24.425  INFO 3409 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:44:24.481  INFO 3409 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:44:24.482  INFO 3409 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1493 ms
2022-10-28 13:44:24.607  INFO 3409 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:44:24.844  INFO 3409 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:44:24.919  INFO 3409 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:44:24.938  INFO 3409 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:44:25.003  INFO 3409 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:44:25.062  INFO 3409 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:44:25.533  INFO 3409 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:44:25.538  INFO 3409 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:44:25.975  WARN 3409 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:44:26.092  INFO 3409 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31c221, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@292ba4d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@83caff9, org.springframework.security.web.authentication.logout.LogoutFilter@5a800df7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@db78dd8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@79d2a32b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a0337e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7320bc1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777c46fa, org.springframework.security.web.session.SessionManagementFilter@19d739f, org.springframework.security.web.access.ExceptionTranslationFilter@111db61f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c6c21e4]
2022-10-28 13:44:26.427  INFO 3409 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:44:26.460  INFO 3409 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:44:26.486  INFO 3409 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.926 seconds (JVM running for 4.673)
2022-10-28 13:44:38.209  INFO 3409 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:44:38.211  INFO 3409 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:44:38.217  INFO 3409 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 13:44:38.226  INFO 3409 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:44:38.274  INFO 3409 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:44:39.276  INFO 3409 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:44:39.281  INFO 3409 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:15.960  INFO 3409 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:46:15.969  INFO 3409 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:46:15.974  INFO 3409 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:46:20.132  INFO 3601 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3601 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:46:20.133 DEBUG 3601 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:46:20.134  INFO 3601 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:46:20.192  INFO 3601 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:46:20.193  INFO 3601 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:46:21.041  INFO 3601 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:46:21.105  INFO 3601 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 4 JPA repository interfaces.
2022-10-28 13:46:21.661  INFO 3601 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:46:21.666  INFO 3601 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:46:21.666  INFO 3601 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:46:21.720  INFO 3601 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:46:21.721  INFO 3601 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1528 ms
2022-10-28 13:46:21.842  INFO 3601 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:46:22.077  INFO 3601 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:46:22.146  INFO 3601 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:46:22.166  INFO 3601 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:46:22.225  INFO 3601 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:46:22.276  INFO 3601 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:46:22.724  INFO 3601 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:46:22.728  INFO 3601 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:46:23.153  WARN 3601 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:46:23.263  INFO 3601 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13eeb095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b89cbf0, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f52cfd, org.springframework.security.web.authentication.logout.LogoutFilter@6bdbc147, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5b2c00c8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3b1dc365, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bed1ee7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a2011, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d11b68b, org.springframework.security.web.session.SessionManagementFilter@1c342211, org.springframework.security.web.access.ExceptionTranslationFilter@15c2329, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c3bdca]
2022-10-28 13:46:23.543  INFO 3601 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:46:23.579  INFO 3601 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:46:23.606  INFO 3601 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.851 seconds (JVM running for 4.6)
2022-10-28 13:46:26.026  INFO 3601 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:46:26.028  INFO 3601 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:46:26.034  INFO 3601 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 13:46:26.045  INFO 3601 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:26.101  INFO 3601 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:27.863  INFO 3601 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:27.872  INFO 3601 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:28.578  INFO 3601 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:28.582  INFO 3601 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:29.188  INFO 3601 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:29.191  INFO 3601 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:29.828  INFO 3601 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:29.832  INFO 3601 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:30.339  INFO 3601 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:30.342  INFO 3601 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:30.919  INFO 3601 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:30.921  INFO 3601 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:31.440  INFO 3601 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:31.446  INFO 3601 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:31.966  INFO 3601 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:46:31.970  INFO 3601 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:46:54.041  INFO 3601 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:46:54.054  INFO 3601 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:46:54.058  INFO 3601 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:46:57.925  INFO 3666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3666 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:46:57.926 DEBUG 3666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:46:57.928  INFO 3666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:46:58.009  INFO 3666 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:46:58.009  INFO 3666 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:46:59.197  INFO 3666 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:46:59.268  INFO 3666 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 4 JPA repository interfaces.
2022-10-28 13:46:59.985  INFO 3666 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:46:59.991  INFO 3666 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:46:59.991  INFO 3666 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:47:00.053  INFO 3666 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:47:00.053  INFO 3666 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2041 ms
2022-10-28 13:47:00.201  INFO 3666 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:47:00.454  INFO 3666 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:47:00.524  INFO 3666 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:47:00.542  INFO 3666 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:47:00.609  INFO 3666 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:47:00.670  INFO 3666 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:47:01.211  INFO 3666 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:47:01.216  INFO 3666 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:47:01.665  WARN 3666 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:47:01.824  INFO 3666 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e41ad69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@600f4f45, org.springframework.security.web.context.SecurityContextPersistenceFilter@61a0ffda, org.springframework.security.web.authentication.logout.LogoutFilter@df40881, com.example.refugeeshelter.filter.CustomAuthorizationFilter@4f671415, com.example.refugeeshelter.filter.CustomAuthenticationFilter@4c098e2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ab2347a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d0ae70c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ff04826, org.springframework.security.web.session.SessionManagementFilter@7eb2a4ab, org.springframework.security.web.access.ExceptionTranslationFilter@f36d0a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6104836d]
2022-10-28 13:47:02.212  INFO 3666 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:47:02.301  INFO 3666 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:47:02.314  INFO 3666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.789 seconds (JVM running for 5.593)
2022-10-28 13:47:02.717  INFO 3666 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:47:02.720  INFO 3666 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:47:02.725  INFO 3666 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 13:47:02.739  INFO 3666 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:02.791  INFO 3666 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:18.543  INFO 3666 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:47:18.551  INFO 3666 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 13:47:18.554  INFO 3666 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 13:47:22.323  INFO 3729 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 3729 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 13:47:22.323 DEBUG 3729 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 13:47:22.326  INFO 3729 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 13:47:22.376  INFO 3729 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 13:47:22.376  INFO 3729 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 13:47:23.222  INFO 3729 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 13:47:23.282  INFO 3729 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2022-10-28 13:47:23.881  INFO 3729 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 13:47:23.888  INFO 3729 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 13:47:23.889  INFO 3729 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 13:47:23.951  INFO 3729 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 13:47:23.951  INFO 3729 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1574 ms
2022-10-28 13:47:24.076  INFO 3729 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 13:47:24.309  INFO 3729 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 13:47:24.383  INFO 3729 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 13:47:24.405  INFO 3729 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 13:47:24.500  INFO 3729 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 13:47:24.619  INFO 3729 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 13:47:25.120  INFO 3729 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 13:47:25.125  INFO 3729 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 13:47:25.657  WARN 3729 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 13:47:25.829  INFO 3729 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5645eb45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f4a27af, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a2011, org.springframework.security.web.authentication.logout.LogoutFilter@6c550be, com.example.refugeeshelter.filter.CustomAuthorizationFilter@66588ea5, com.example.refugeeshelter.filter.CustomAuthenticationFilter@65ecb508, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a4f5a2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26a95f54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c8a6533, org.springframework.security.web.session.SessionManagementFilter@33f8ff52, org.springframework.security.web.access.ExceptionTranslationFilter@42d397dd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cb886ee]
2022-10-28 13:47:26.214  INFO 3729 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 13:47:26.257  INFO 3729 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 13:47:26.277  INFO 3729 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.332 seconds (JVM running for 5.12)
2022-10-28 13:47:26.842  INFO 3729 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 13:47:26.844  INFO 3729 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 13:47:26.850  INFO 3729 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 13:47:26.866  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:26.917  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:27.948  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:27.952  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:28.641  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:28.655  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:29.620  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:29.623  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:30.069  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:30.072  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:30.508  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:30.511  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:30.908  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:30.914  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:31.328  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:31.331  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:31.731  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:31.735  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:32.186  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:32.191  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:47:32.650  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:47:32.655  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:23.340  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:23.345  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:23.771  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:23.778  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:24.144  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:24.156  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:24.489  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:24.492  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:26.475  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:26.478  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:26.889  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:26.892  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:27.382  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:27.386  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:27.760  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:27.764  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:28.209  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:28.213  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:28.581  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:28.585  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:28.985  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:28.988  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:29.390  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:29.393  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:29.793  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:29.796  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:30.223  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:30.225  INFO 3729 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:30.575  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:30.577  INFO 3729 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:31.014  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:31.015  INFO 3729 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:31.442  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:31.445  INFO 3729 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:31.875  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:31.877  INFO 3729 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:32.271  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:32.276  INFO 3729 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:32.690  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:32.693  INFO 3729 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:33.097  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:33.100  INFO 3729 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:49:36.863  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:49:36.871  INFO 3729 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 13:50:36.961  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 13:50:36.966  INFO 3729 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:01:07.539  INFO 3729 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:01:07.555  INFO 3729 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:01:07.561  INFO 3729 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:01:12.536  INFO 5198 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 5198 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:01:12.537 DEBUG 5198 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:01:12.539  INFO 5198 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:01:12.585  INFO 5198 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:01:12.585  INFO 5198 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:01:13.453  INFO 5198 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:01:13.520  INFO 5198 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 4 JPA repository interfaces.
2022-10-28 14:01:14.082  INFO 5198 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:01:14.088  INFO 5198 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:01:14.088  INFO 5198 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:01:14.151  INFO 5198 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:01:14.151  INFO 5198 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1566 ms
2022-10-28 14:01:14.275  INFO 5198 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:01:14.517  INFO 5198 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:01:14.585  INFO 5198 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:01:14.603  INFO 5198 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:01:14.662  INFO 5198 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:01:14.715  INFO 5198 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:01:15.151  INFO 5198 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:01:15.156  INFO 5198 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:01:15.608  WARN 5198 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:01:15.725  INFO 5198 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64c415c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e02990e, org.springframework.security.web.context.SecurityContextPersistenceFilter@6274d9f5, org.springframework.security.web.authentication.logout.LogoutFilter@11fb777b, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2d58e59b, com.example.refugeeshelter.filter.CustomAuthenticationFilter@4c4ce301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ece8419, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49489f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8e2d515, org.springframework.security.web.session.SessionManagementFilter@2f0c209c, org.springframework.security.web.access.ExceptionTranslationFilter@62816e55, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3000a8d3]
2022-10-28 14:01:16.009  INFO 5198 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:01:16.067  INFO 5198 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:01:16.092  INFO 5198 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.937 seconds (JVM running for 4.745)
2022-10-28 14:01:28.993  INFO 5198 --- [http-nio-8081-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 14:01:28.996  INFO 5198 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 14:01:29.002  INFO 5198 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 14:01:29.013  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 14:01:29.070  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:01:47.635  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/1 method = POST
2022-10-28 14:01:47.642  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:01:47.767 ERROR 5198 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 14:01:47.782  WARN 5198 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:01:50.109  INFO 5198 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/3 method = POST
2022-10-28 14:01:50.117  INFO 5198 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:01:58.143  INFO 5198 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/4 method = POST
2022-10-28 14:01:58.156  INFO 5198 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:02:24.296  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/reservations method = GET
2022-10-28 14:02:24.304  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:02:28.116  INFO 5198 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/43/reservations method = GET
2022-10-28 14:02:28.118  INFO 5198 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:02:28.141 ERROR 5198 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id id: '43'
2022-10-28 14:02:28.144  WARN 5198 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:02:31.596  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/reservations method = GET
2022-10-28 14:02:31.598  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:03:07.987  INFO 5198 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/reservations method = GET
2022-10-28 14:03:07.992  INFO 5198 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:03:13.599  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/4 method = POST
2022-10-28 14:03:13.602  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:03:15.358  INFO 5198 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/4222 method = POST
2022-10-28 14:03:15.365  INFO 5198 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:03:15.413 ERROR 5198 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '4222'
2022-10-28 14:03:15.416  WARN 5198 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:03:16.317  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/4222 method = POST
2022-10-28 14:03:16.322  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:03:16.374 ERROR 5198 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '4222'
2022-10-28 14:03:16.377  WARN 5198 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:03:19.295  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/4 method = POST
2022-10-28 14:03:19.316  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:16:12.178  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 14:16:12.182  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 14:16:22.800  INFO 5198 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 14:16:22.812  INFO 5198 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:16:22.872 ERROR 5198 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 3, because this room was reserved
2022-10-28 14:16:22.875  WARN 5198 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 14:16:28.080  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 14:16:28.081  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 14:16:32.983  INFO 5198 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 14:16:32.984  INFO 5198 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 14:17:00.164  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:00.171  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:17:04.990  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:05.005  INFO 5198 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 14:17:15.467  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:15.476  INFO 5198 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:16.252  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:16.255  INFO 5198 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:20.295  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:20.297  INFO 5198 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:20.854  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:20.856  INFO 5198 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:26.108  INFO 5198 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:17:26.121  INFO 5198 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:17:26.127  INFO 5198 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:17:32.897  INFO 6878 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 6878 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:17:32.898 DEBUG 6878 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:17:32.901  INFO 6878 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:17:32.961  INFO 6878 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:17:32.962  INFO 6878 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:17:34.059  INFO 6878 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:17:34.153  INFO 6878 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2022-10-28 14:17:34.783  INFO 6878 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:17:34.789  INFO 6878 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:17:34.790  INFO 6878 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:17:34.859  INFO 6878 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:17:34.864  INFO 6878 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1902 ms
2022-10-28 14:17:35.006  INFO 6878 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:17:35.312  INFO 6878 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:17:35.391  INFO 6878 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:17:35.412  INFO 6878 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:17:35.501  INFO 6878 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:17:35.574  INFO 6878 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:17:36.076  INFO 6878 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:17:36.088  INFO 6878 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:17:36.617  WARN 6878 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:17:36.758  INFO 6878 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c7e1e47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b8d0125, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e24196, org.springframework.security.web.authentication.logout.LogoutFilter@63e3ef8e, com.example.refugeeshelter.filter.CustomAuthorizationFilter@1766c378, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2e50798, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78956b0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e2a313e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed5ada5, org.springframework.security.web.session.SessionManagementFilter@12fd4d9, org.springframework.security.web.access.ExceptionTranslationFilter@24930d9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15e4e53f]
2022-10-28 14:17:37.121  INFO 6878 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:17:37.167  INFO 6878 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:17:37.179  INFO 6878 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.82 seconds (JVM running for 5.663)
2022-10-28 14:17:37.412  INFO 6878 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 14:17:37.415  INFO 6878 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 14:17:37.421  INFO 6878 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 14:17:37.435  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:37.495  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:37.654 ERROR 6878 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '199'
2022-10-28 14:17:37.694  WARN 6878 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:38.896  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:38.907  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:38.928 ERROR 6878 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '199'
2022-10-28 14:17:38.932  WARN 6878 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:39.514  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:39.517  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:39.544 ERROR 6878 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '199'
2022-10-28 14:17:39.547  WARN 6878 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:40.050  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/199 method = DELETE
2022-10-28 14:17:40.064  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:40.087 ERROR 6878 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '199'
2022-10-28 14:17:40.089  WARN 6878 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:42.042  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = DELETE
2022-10-28 14:17:42.045  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:43.895  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = DELETE
2022-10-28 14:17:43.898  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:43.932 ERROR 6878 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 14:17:43.939  WARN 6878 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 14:17:44.824  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = DELETE
2022-10-28 14:17:44.828  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:45.529  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/4 method = DELETE
2022-10-28 14:17:45.531  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:45.582 ERROR 6878 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 14:17:45.585  WARN 6878 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 14:17:46.361  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/5 method = DELETE
2022-10-28 14:17:46.364  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:46.932  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/6 method = DELETE
2022-10-28 14:17:46.935  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:47.779  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/6 method = DELETE
2022-10-28 14:17:47.800  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:47.819 ERROR 6878 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '6'
2022-10-28 14:17:47.821  WARN 6878 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:48.551  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/8 method = DELETE
2022-10-28 14:17:48.557  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:49.141  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:17:49.143  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:49.157 ERROR 6878 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '9'
2022-10-28 14:17:49.159  WARN 6878 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:17:49.858  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = DELETE
2022-10-28 14:17:49.862  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:49.871  WARN 6878 --- [http-nio-8081-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 14:17:51.927  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:17:51.941  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:17:51.967 ERROR 6878 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:17:51.972  WARN 6878 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:18:51.219  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 14:18:51.220  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 14:19:13.307  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:13.327  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:13.353 ERROR 6878 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:13.356  WARN 6878 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:13.786  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:13.793  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:13.805 ERROR 6878 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:13.812  WARN 6878 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:14.355  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:14.358  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:14.370 ERROR 6878 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:14.372  WARN 6878 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:46.922  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:46.931  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:46.945 ERROR 6878 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:46.949  WARN 6878 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:47.356  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:47.359  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:47.374 ERROR 6878 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:47.378  WARN 6878 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:51.010  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:51.013  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:51.025 ERROR 6878 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:51.028  WARN 6878 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:51.392  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:51.395  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:51.410 ERROR 6878 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:51.412  WARN 6878 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:51.866  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:51.869  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:51.880 ERROR 6878 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:51.883  WARN 6878 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:53.811  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = DELETE
2022-10-28 14:19:53.813  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:53.828 ERROR 6878 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '1'
2022-10-28 14:19:53.831  WARN 6878 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:54.512  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = DELETE
2022-10-28 14:19:54.517  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:54.527 ERROR 6878 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '1'
2022-10-28 14:19:54.531  WARN 6878 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:56.179  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:56.183  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:56.198 ERROR 6878 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:56.202  WARN 6878 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:57.282  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:57.284  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:57.295 ERROR 6878 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:57.297  WARN 6878 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:57.922  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:57.927  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:57.939 ERROR 6878 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:57.941  WARN 6878 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:58.454  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:58.456  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:58.465 ERROR 6878 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:58.467  WARN 6878 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:19:58.862  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:19:58.867  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:19:58.878 ERROR 6878 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:19:58.880  WARN 6878 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:20:01.741  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:20:01.746  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:20:01.762 ERROR 6878 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:20:01.765  WARN 6878 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:20:02.035  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 14:20:02.038  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:20:02.045 ERROR 6878 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 14:20:02.047  WARN 6878 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:26:47.941  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 14:26:47.945  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 14:26:52.408  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 14:26:52.424  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:27:12.679  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/110 method = POST
2022-10-28 14:27:12.689  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:24.611  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:27:24.616  INFO 6878 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:24.671 ERROR 6878 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 14:27:24.679  WARN 6878 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 14:27:36.686  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:27:36.701  INFO 6878 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:27:36.797 ERROR 6878 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 110, because this room was reserved
2022-10-28 14:27:36.799  WARN 6878 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 14:27:49.358  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:27:49.360  INFO 6878 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:51.261  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:27:51.263  INFO 6878 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:51.275 ERROR 6878 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '9'
2022-10-28 14:27:51.277  WARN 6878 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:27:51.799  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:27:51.801  INFO 6878 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:51.811 ERROR 6878 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '9'
2022-10-28 14:27:51.817  WARN 6878 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:27:52.251  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:27:52.258  INFO 6878 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:27:52.269 ERROR 6878 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '9'
2022-10-28 14:27:52.271  WARN 6878 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:27:59.192  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:27:59.196  INFO 6878 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:28:00.877  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:28:00.879  INFO 6878 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:28:00.892 ERROR 6878 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 14:28:00.894  WARN 6878 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:28:01.539  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:28:01.541  INFO 6878 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:28:01.553 ERROR 6878 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 14:28:01.556  WARN 6878 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:28:02.035  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/110 method = DELETE
2022-10-28 14:28:02.042  INFO 6878 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 14:28:02.054 ERROR 6878 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 14:28:02.056  WARN 6878 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:51:08.234  INFO 6878 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:51:08.252  INFO 6878 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:51:08.268  INFO 6878 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:51:14.862  INFO 10372 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 10372 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:51:14.865 DEBUG 10372 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:51:14.868  INFO 10372 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:51:14.915  INFO 10372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:51:14.916  INFO 10372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:51:15.757  INFO 10372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:51:15.835  INFO 10372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 4 JPA repository interfaces.
2022-10-28 14:51:16.402  INFO 10372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:51:16.408  INFO 10372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:51:16.408  INFO 10372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:51:16.466  INFO 10372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:51:16.466  INFO 10372 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1550 ms
2022-10-28 14:51:16.589  INFO 10372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:51:16.827  INFO 10372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:51:16.895  INFO 10372 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:51:16.915  INFO 10372 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:51:16.982  INFO 10372 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:51:17.038  INFO 10372 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:51:17.478  INFO 10372 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:51:17.482  INFO 10372 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:51:17.928  WARN 10372 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:51:18.039  INFO 10372 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13eeb095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b89cbf0, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f52cfd, org.springframework.security.web.authentication.logout.LogoutFilter@6bdbc147, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5b2c00c8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3b1dc365, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bed1ee7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a2011, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d11b68b, org.springframework.security.web.session.SessionManagementFilter@1c342211, org.springframework.security.web.access.ExceptionTranslationFilter@15c2329, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c3bdca]
2022-10-28 14:51:18.324  INFO 10372 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:51:18.360  INFO 10372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:51:18.388  INFO 10372 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.894 seconds (JVM running for 4.659)
2022-10-28 14:53:49.260  INFO 10372 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:53:49.274  INFO 10372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:53:49.279  INFO 10372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:53:56.418  INFO 10666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 10666 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:53:56.419 DEBUG 10666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:53:56.421  INFO 10666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:53:56.466  INFO 10666 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:53:56.467  INFO 10666 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:53:57.561  INFO 10666 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:53:57.631  INFO 10666 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 14:53:58.205  INFO 10666 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:53:58.210  INFO 10666 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:53:58.210  INFO 10666 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:53:58.270  INFO 10666 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:53:58.270  INFO 10666 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1802 ms
2022-10-28 14:53:58.397  INFO 10666 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:53:58.624  INFO 10666 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:53:58.692  INFO 10666 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:53:58.712  INFO 10666 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:53:58.780  INFO 10666 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:53:58.843  INFO 10666 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:53:59.301  INFO 10666 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:53:59.306  INFO 10666 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:53:59.730  WARN 10666 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:53:59.854  INFO 10666 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26fa3130, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6873734, org.springframework.security.web.context.SecurityContextPersistenceFilter@6bac93d6, org.springframework.security.web.authentication.logout.LogoutFilter@1df95fa8, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2ebcf918, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1823fedf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bc35d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a3ad15a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f272f5a, org.springframework.security.web.session.SessionManagementFilter@59329c18, org.springframework.security.web.access.ExceptionTranslationFilter@5963c9b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5526568d]
2022-10-28 14:54:00.205  INFO 10666 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:54:00.244  INFO 10666 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:54:00.255  INFO 10666 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.232 seconds (JVM running for 5.06)
2022-10-28 14:54:10.787  INFO 10666 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 14:54:10.789  INFO 10666 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 14:54:10.796  INFO 10666 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 14:54:10.811  INFO 10666 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/9 method = DELETE
2022-10-28 14:54:10.879  INFO 10666 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:54:11.008 ERROR 10666 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '9'
2022-10-28 14:54:11.048  WARN 10666 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:54:14.360  INFO 10666 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/rooms/110 method = POST
2022-10-28 14:54:14.364  INFO 10666 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:54:18.948  INFO 10666 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:54:18.959  INFO 10666 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:54:19.064 ERROR 10666 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:54:26.817  INFO 10666 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:54:26.823  INFO 10666 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:54:26.869 ERROR 10666 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:56:05.256  INFO 10666 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:56:05.267  INFO 10666 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:56:05.271  INFO 10666 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:56:11.296  INFO 10898 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 10898 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:56:11.297 DEBUG 10898 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:56:11.301  INFO 10898 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:56:11.350  INFO 10898 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:56:11.350  INFO 10898 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:56:12.179  INFO 10898 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:56:12.245  INFO 10898 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2022-10-28 14:56:12.811  INFO 10898 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:56:12.816  INFO 10898 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:56:12.817  INFO 10898 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:56:12.870  INFO 10898 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:56:12.871  INFO 10898 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1520 ms
2022-10-28 14:56:12.998  INFO 10898 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:56:13.236  INFO 10898 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:56:13.307  INFO 10898 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:56:13.328  INFO 10898 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:56:13.389  INFO 10898 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:56:13.444  INFO 10898 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:56:13.898  INFO 10898 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:56:13.903  INFO 10898 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:56:14.350  WARN 10898 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:56:14.463  INFO 10898 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c133a96, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f1fb30c, org.springframework.security.web.context.SecurityContextPersistenceFilter@197fab01, org.springframework.security.web.authentication.logout.LogoutFilter@39a5d5fa, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2ed6be53, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7e81b021, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f3396b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b3d129c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb3f2ed, org.springframework.security.web.session.SessionManagementFilter@337707ba, org.springframework.security.web.access.ExceptionTranslationFilter@26364f3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f361a89]
2022-10-28 14:56:14.806  INFO 10898 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:56:14.844  INFO 10898 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:56:14.860  INFO 10898 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.22 seconds (JVM running for 5.182)
2022-10-28 14:56:15.553  INFO 10898 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 14:56:15.555  INFO 10898 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 14:56:15.561  INFO 10898 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 14:56:15.575  INFO 10898 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:56:15.627  INFO 10898 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:56:15.797 ERROR 10898 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:56:17.040  INFO 10898 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:56:17.046  INFO 10898 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:56:17.089 ERROR 10898 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:56:46.704  INFO 10898 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:56:46.714  INFO 10898 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:56:46.758 ERROR 10898 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:57:15.519  INFO 10898 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:57:15.523  INFO 10898 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:57:15.564 ERROR 10898 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:57:19.138  INFO 10898 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:57:19.141  INFO 10898 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:57:19.182 ERROR 10898 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 14:57:31.714  INFO 10898 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:57:31.719  INFO 10898 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:57:31.805 ERROR 10898 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 14:57:31.839  WARN 10898 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 14:58:19.539  INFO 10898 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:58:19.549  INFO 10898 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 14:58:19.553  INFO 10898 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 14:58:24.251  INFO 11129 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 11129 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 14:58:24.254 DEBUG 11129 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 14:58:24.258  INFO 11129 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 14:58:24.305  INFO 11129 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 14:58:24.305  INFO 11129 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 14:58:25.155  INFO 11129 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 14:58:25.224  INFO 11129 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 14:58:25.787  INFO 11129 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 14:58:25.792  INFO 11129 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 14:58:25.793  INFO 11129 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 14:58:25.848  INFO 11129 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 14:58:25.849  INFO 11129 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1543 ms
2022-10-28 14:58:25.996  INFO 11129 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 14:58:26.239  INFO 11129 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 14:58:26.358  INFO 11129 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 14:58:26.388  INFO 11129 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 14:58:26.458  INFO 11129 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 14:58:26.513  INFO 11129 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 14:58:26.976  INFO 11129 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 14:58:26.982  INFO 11129 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 14:58:27.482  WARN 11129 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 14:58:27.613  INFO 11129 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3831ce1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d572bf9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e87ee82, org.springframework.security.web.authentication.logout.LogoutFilter@5e8e3a10, com.example.refugeeshelter.filter.CustomAuthorizationFilter@48df722a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5dea123, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49489f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39e3bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ea1d16d, org.springframework.security.web.session.SessionManagementFilter@46cb72bc, org.springframework.security.web.access.ExceptionTranslationFilter@7ece8419, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@677f14f3]
2022-10-28 14:58:27.917  INFO 11129 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 14:58:27.978  INFO 11129 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 14:58:27.997  INFO 11129 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.125 seconds (JVM running for 4.891)
2022-10-28 14:59:58.434  INFO 11129 --- [http-nio-8081-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 14:59:58.437  INFO 11129 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 14:59:58.443  INFO 11129 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 14:59:58.457  INFO 11129 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 14:59:58.507  INFO 11129 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 14:59:58.678  INFO 11129 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : REquest null
2022-10-28 14:59:58.693 ERROR 11129 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 15:03:04.727  INFO 11129 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:03:04.740  INFO 11129 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:03:04.744  INFO 11129 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:03:09.950  INFO 11627 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 11627 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:03:09.951 DEBUG 11627 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:03:09.953  INFO 11627 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:03:10.009  INFO 11627 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:03:10.009  INFO 11627 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:03:11.108  INFO 11627 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:03:11.195  INFO 11627 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 15:03:11.888  INFO 11627 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:03:11.894  INFO 11627 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:03:11.894  INFO 11627 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:03:11.953  INFO 11627 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:03:11.953  INFO 11627 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1943 ms
2022-10-28 15:03:12.104  INFO 11627 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:03:12.355  INFO 11627 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:03:12.426  INFO 11627 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:03:12.456  INFO 11627 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:03:12.532  INFO 11627 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:03:12.659  INFO 11627 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:03:13.178  INFO 11627 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:03:13.195  INFO 11627 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:03:13.727  WARN 11627 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:03:13.892  INFO 11627 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ab7a2d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8ccf853, org.springframework.security.web.context.SecurityContextPersistenceFilter@350b7b4b, org.springframework.security.web.authentication.logout.LogoutFilter@38f5f31b, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3ee9da9c, com.example.refugeeshelter.filter.CustomAuthenticationFilter@749066b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43dfb144, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19614cab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33f6ebd7, org.springframework.security.web.session.SessionManagementFilter@24c15799, org.springframework.security.web.access.ExceptionTranslationFilter@28a8f2ad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61c0f409]
2022-10-28 15:03:14.305  INFO 11627 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:03:14.353  INFO 11627 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:03:14.366  INFO 11627 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.913 seconds (JVM running for 5.726)
2022-10-28 15:03:14.749  INFO 11627 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:03:14.751  INFO 11627 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:03:14.758  INFO 11627 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:03:14.775  INFO 11627 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:03:14.837  INFO 11627 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:03:15.071 ERROR 11627 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2022-10-28 15:07:10.782  INFO 11627 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:07:10.793  INFO 11627 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:07:10.798  INFO 11627 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:08:08.425  INFO 12156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 12156 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:08:08.425 DEBUG 12156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:08:08.428  INFO 12156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:08:08.482  INFO 12156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:08:08.482  INFO 12156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:08:09.510  INFO 12156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:08:09.582  INFO 12156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2022-10-28 15:08:10.169  INFO 12156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:08:10.175  INFO 12156 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:08:10.175  INFO 12156 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:08:10.243  INFO 12156 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:08:10.244  INFO 12156 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1761 ms
2022-10-28 15:08:10.386  INFO 12156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:08:10.642  INFO 12156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:08:10.712  INFO 12156 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:08:10.731  INFO 12156 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:08:10.798  INFO 12156 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:08:10.852  INFO 12156 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:08:11.342  INFO 12156 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:08:11.347  INFO 12156 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:08:11.775  WARN 12156 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:08:11.889  INFO 12156 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e299409, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@129490f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ef8c4e5, org.springframework.security.web.authentication.logout.LogoutFilter@4a286132, com.example.refugeeshelter.filter.CustomAuthorizationFilter@69f468ee, com.example.refugeeshelter.filter.CustomAuthenticationFilter@7ab7a2d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ad9c727, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@366074ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8ccf853, org.springframework.security.web.session.SessionManagementFilter@7870c2c4, org.springframework.security.web.access.ExceptionTranslationFilter@66ca0598, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c85ba82]
2022-10-28 15:08:12.252  INFO 12156 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:08:12.286  INFO 12156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:08:12.297  INFO 12156 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.315 seconds (JVM running for 5.237)
2022-10-28 15:08:15.676  INFO 12156 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:08:15.679  INFO 12156 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:08:15.687  INFO 12156 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2022-10-28 15:08:15.704  INFO 12156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:15.764  INFO 12156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:15.877 ERROR 12156 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:15.920  WARN 12156 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:16.745  INFO 12156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:16.753  INFO 12156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:16.773 ERROR 12156 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:16.777  WARN 12156 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:17.302  INFO 12156 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:17.312  INFO 12156 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:17.324 ERROR 12156 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:17.325  WARN 12156 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:17.729  INFO 12156 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:17.732  INFO 12156 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:17.736 ERROR 12156 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:17.739  WARN 12156 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:18.277  INFO 12156 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:18.281  INFO 12156 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:18.293 ERROR 12156 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:18.297  WARN 12156 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:18.715  INFO 12156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:18.719  INFO 12156 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:18.723 ERROR 12156 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:18.725  WARN 12156 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:19.194  INFO 12156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:19.198  INFO 12156 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:19.205 ERROR 12156 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:19.213  WARN 12156 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:08:19.799  INFO 12156 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:08:19.804  INFO 12156 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:08:19.815 ERROR 12156 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:08:19.817  WARN 12156 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:00.031  INFO 12156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:09:00.044  INFO 12156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:09:00.048  INFO 12156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:09:07.216  INFO 12264 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 12264 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:09:07.225 DEBUG 12264 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:09:07.227  INFO 12264 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:09:07.286  INFO 12264 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:09:07.286  INFO 12264 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:09:08.234  INFO 12264 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:09:08.304  INFO 12264 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 15:09:09.029  INFO 12264 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:09:09.035  INFO 12264 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:09:09.035  INFO 12264 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:09:09.117  INFO 12264 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:09:09.117  INFO 12264 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1830 ms
2022-10-28 15:09:09.231  INFO 12264 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:09:09.479  INFO 12264 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:09:09.550  INFO 12264 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:09:09.568  INFO 12264 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:09:09.628  INFO 12264 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:09:09.686  INFO 12264 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:09:10.223  INFO 12264 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:09:10.229  INFO 12264 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:09:10.694  WARN 12264 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:09:10.821  INFO 12264 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@556efb25, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66a372c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5cfd52ec, org.springframework.security.web.authentication.logout.LogoutFilter@795b9514, com.example.refugeeshelter.filter.CustomAuthorizationFilter@15448e73, com.example.refugeeshelter.filter.CustomAuthenticationFilter@f20301a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f1d9fd0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17c42d7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d354508, org.springframework.security.web.session.SessionManagementFilter@1c5c1ce4, org.springframework.security.web.access.ExceptionTranslationFilter@7a3fb5ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46031df7]
2022-10-28 15:09:11.263  INFO 12264 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:09:11.318  INFO 12264 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:09:11.335  INFO 12264 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.617 seconds (JVM running for 5.606)
2022-10-28 15:09:11.665  INFO 12264 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:09:11.666  INFO 12264 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:09:11.670  INFO 12264 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-10-28 15:09:11.681  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:11.836  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:11.961 ERROR 12264 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:12.003  WARN 12264 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:13.293  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:13.309  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:13.325 ERROR 12264 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:13.329  WARN 12264 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:13.935  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:13.939  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:13.947 ERROR 12264 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:13.950  WARN 12264 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:15.480  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:15.485  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:15.495 ERROR 12264 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:15.498  WARN 12264 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:16.835  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:16.837  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:16.846 ERROR 12264 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:16.848  WARN 12264 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:18.195  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:18.198  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:18.205 ERROR 12264 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:18.206  WARN 12264 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:18.716  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:18.718  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:18.728 ERROR 12264 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:18.733  WARN 12264 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:19.162  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:19.165  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:19.170 ERROR 12264 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:19.174  WARN 12264 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:19.681  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:19.685  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:19.694 ERROR 12264 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:19.697  WARN 12264 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:20.067  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:20.071  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:20.079 ERROR 12264 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:20.082  WARN 12264 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:20.541  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:20.547  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:20.552 ERROR 12264 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:20.560  WARN 12264 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:20.934  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:20.938  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:20.942 ERROR 12264 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:20.949  WARN 12264 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:21.415  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:21.418  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:21.423 ERROR 12264 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:21.425  WARN 12264 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:21.883  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:21.887  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:21.891 ERROR 12264 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:21.895  WARN 12264 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:22.281  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:22.284  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:22.289 ERROR 12264 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:22.292  WARN 12264 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:22.710  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:22.713  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:22.725 ERROR 12264 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = roomId field should not be null and should be integer
2022-10-28 15:09:22.727  WARN 12264 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.MissedRequestDataException]
2022-10-28 15:09:34.323  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:34.326  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:34.376  WARN 12264 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Long` from String "dfafads": not a valid `java.lang.Long` value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Long` from String "dfafads": not a valid `java.lang.Long` value<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 4, column: 14] (through reference chain: com.example.refugeeshelter.dto.request.ReservationRequest["roomId"])]
2022-10-28 15:09:41.053  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:41.060  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:44.885  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:44.893  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:44.939 ERROR 12264 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '3233'
2022-10-28 15:09:44.943  WARN 12264 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:09:49.180  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:49.182  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:49.235 ERROR 12264 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 15:09:49.237  WARN 12264 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:09:51.170  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:51.173  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:51.216 ERROR 12264 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 15:09:51.221  WARN 12264 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:09:52.386  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:52.389  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:58.602  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:58.606  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:09:59.741  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:09:59.745  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:03.658  INFO 12264 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:10:03.666  INFO 12264 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:10.786  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 15:10:10.788  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 15:10:17.933  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/19 method = DELETE
2022-10-28 15:10:17.944  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:17.978 ERROR 12264 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '19'
2022-10-28 15:10:17.984  WARN 12264 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:18.685  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 15:10:18.688  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:19.527  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/11 method = DELETE
2022-10-28 15:10:19.531  INFO 12264 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:20.177  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/12 method = DELETE
2022-10-28 15:10:20.178  INFO 12264 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:20.758  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/13 method = DELETE
2022-10-28 15:10:20.764  INFO 12264 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:21.352  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/14 method = DELETE
2022-10-28 15:10:21.355  INFO 12264 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:22.254  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/15 method = DELETE
2022-10-28 15:10:22.259  INFO 12264 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:22.277 ERROR 12264 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '15'
2022-10-28 15:10:22.281  WARN 12264 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:23.002  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/16 method = DELETE
2022-10-28 15:10:23.010  INFO 12264 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:23.032 ERROR 12264 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '16'
2022-10-28 15:10:23.035  WARN 12264 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:23.858  INFO 12264 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/12 method = DELETE
2022-10-28 15:10:23.864  INFO 12264 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:23.880 ERROR 12264 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '12'
2022-10-28 15:10:23.885  WARN 12264 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:24.511  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/11 method = DELETE
2022-10-28 15:10:24.517  INFO 12264 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:24.535 ERROR 12264 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '11'
2022-10-28 15:10:24.538  WARN 12264 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:25.801  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/10 method = DELETE
2022-10-28 15:10:25.806  INFO 12264 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:10:25.821 ERROR 12264 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '10'
2022-10-28 15:10:25.826  WARN 12264 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:10:30.954  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:10:30.957  INFO 12264 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:19:55.055  INFO 12264 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:19:55.067  INFO 12264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:19:55.072  INFO 12264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:20:00.366  INFO 13357 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13357 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:20:00.367 DEBUG 13357 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:20:00.370  INFO 13357 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:20:00.455  INFO 13357 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:20:00.456  INFO 13357 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:20:01.382  INFO 13357 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:20:01.451  INFO 13357 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 15:20:02.180  INFO 13357 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:20:02.189  INFO 13357 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:20:02.190  INFO 13357 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:20:02.270  INFO 13357 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:20:02.270  INFO 13357 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1814 ms
2022-10-28 15:20:02.418  INFO 13357 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:20:02.655  INFO 13357 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:20:02.730  INFO 13357 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:20:02.753  INFO 13357 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:20:02.829  INFO 13357 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:20:02.890  INFO 13357 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:20:03.421  INFO 13357 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:20:03.427  INFO 13357 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:20:03.862  WARN 13357 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:20:03.987  INFO 13357 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d03a84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dce2f25, org.springframework.security.web.context.SecurityContextPersistenceFilter@8c0f0c8, org.springframework.security.web.authentication.logout.LogoutFilter@770bec36, com.example.refugeeshelter.filter.CustomAuthorizationFilter@25673927, com.example.refugeeshelter.filter.CustomAuthenticationFilter@22143c8a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a02b705, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10eac5f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25173656, org.springframework.security.web.session.SessionManagementFilter@a69111d, org.springframework.security.web.access.ExceptionTranslationFilter@7909b1b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f20301a]
2022-10-28 15:20:04.370  INFO 13357 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:20:04.409  INFO 13357 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:20:04.423  INFO 13357 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.458 seconds (JVM running for 5.273)
2022-10-28 15:20:04.650  INFO 13357 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:20:04.659  INFO 13357 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:20:04.671  INFO 13357 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2022-10-28 15:20:04.697  INFO 13357 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 15:20:04.748  INFO 13357 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 15:20:14.151  INFO 13357 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:20:14.160  INFO 13357 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:20:19.773  INFO 13357 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 15:20:19.774  INFO 13357 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 15:20:28.266  INFO 13357 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:20:28.277  INFO 13357 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:20:31.872  INFO 13357 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:20:31.879  INFO 13357 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:20:49.255  INFO 13357 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:20:49.265  INFO 13357 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:20:49.267  INFO 13357 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:20:54.113  INFO 13453 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13453 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:20:54.115 DEBUG 13453 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:20:54.121  INFO 13453 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:20:54.177  INFO 13453 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:20:54.177  INFO 13453 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:20:55.121  INFO 13453 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:20:55.200  INFO 13453 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 4 JPA repository interfaces.
2022-10-28 15:20:55.783  INFO 13453 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:20:55.788  INFO 13453 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:20:55.789  INFO 13453 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:20:55.846  INFO 13453 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:20:55.846  INFO 13453 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1668 ms
2022-10-28 15:20:55.980  INFO 13453 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:20:56.215  INFO 13453 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:20:56.283  INFO 13453 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:20:56.303  INFO 13453 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:20:56.370  INFO 13453 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:20:56.425  INFO 13453 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:20:56.881  INFO 13453 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:20:56.887  INFO 13453 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:20:57.395  WARN 13453 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:20:57.519  INFO 13453 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8ccf853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee9da9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43dfb144, org.springframework.security.web.authentication.logout.LogoutFilter@5f904f3f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@749066b7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@33f6ebd7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39945e6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79fa3b06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c17939a, org.springframework.security.web.session.SessionManagementFilter@350b7b4b, org.springframework.security.web.access.ExceptionTranslationFilter@24c15799, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20501319]
2022-10-28 15:20:57.899  INFO 13453 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:20:57.933  INFO 13453 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:20:57.949  INFO 13453 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.312 seconds (JVM running for 5.114)
2022-10-28 15:21:00.308  INFO 13453 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:21:00.315  INFO 13453 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:21:00.319  INFO 13453 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:21:05.353  INFO 13476 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13476 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:21:05.354 DEBUG 13476 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:21:05.356  INFO 13476 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:21:05.405  INFO 13476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:21:05.405  INFO 13476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:21:06.246  INFO 13476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:21:06.318  INFO 13476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 15:21:06.889  INFO 13476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:21:06.895  INFO 13476 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:21:06.895  INFO 13476 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:21:06.953  INFO 13476 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:21:06.953  INFO 13476 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1547 ms
2022-10-28 15:21:07.076  INFO 13476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:21:07.344  INFO 13476 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:21:07.413  INFO 13476 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:21:07.431  INFO 13476 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:21:07.491  INFO 13476 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:21:07.548  INFO 13476 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:21:08.062  INFO 13476 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:21:08.068  INFO 13476 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:21:08.562  WARN 13476 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:21:08.687  INFO 13476 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c1ec683, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25254793, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e026c8f, org.springframework.security.web.authentication.logout.LogoutFilter@4845ab71, com.example.refugeeshelter.filter.CustomAuthorizationFilter@41c6362d, com.example.refugeeshelter.filter.CustomAuthenticationFilter@594a1a21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f46c52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@260c959d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@231af555, org.springframework.security.web.session.SessionManagementFilter@612c903e, org.springframework.security.web.access.ExceptionTranslationFilter@5aa1ff1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77d15f5f]
2022-10-28 15:21:09.050  INFO 13476 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:21:09.089  INFO 13476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:21:09.112  INFO 13476 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.154 seconds (JVM running for 5.038)
2022-10-28 15:21:09.296  INFO 13476 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:21:09.298  INFO 13476 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:21:09.304  INFO 13476 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 15:21:09.317  INFO 13476 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:21:09.396  INFO 13476 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:21:09.679  INFO 13476 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation = 3
2022-10-28 15:21:12.441  INFO 13476 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:21:12.445  INFO 13476 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:21:12.475  INFO 13476 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : Reservation = 4
2022-10-28 15:21:20.523  INFO 13476 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:21:20.526  INFO 13476 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:21:20.589 ERROR 13476 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 15:21:20.605  WARN 13476 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:21:42.236  INFO 13476 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:21:42.249  INFO 13476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:21:42.253  INFO 13476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:21:47.418  INFO 13551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13551 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:21:47.419 DEBUG 13551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:21:47.423  INFO 13551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:21:47.478  INFO 13551 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:21:47.478  INFO 13551 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:21:48.583  INFO 13551 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:21:48.666  INFO 13551 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2022-10-28 15:21:49.345  INFO 13551 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:21:49.351  INFO 13551 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:21:49.351  INFO 13551 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:21:49.415  INFO 13551 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:21:49.415  INFO 13551 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1936 ms
2022-10-28 15:21:49.543  INFO 13551 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:21:49.824  INFO 13551 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:21:49.898  INFO 13551 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:21:49.919  INFO 13551 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:21:49.983  INFO 13551 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:21:50.043  INFO 13551 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:21:50.598  INFO 13551 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:21:50.603  INFO 13551 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:21:51.077  WARN 13551 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:21:51.202  INFO 13551 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8ccf853, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee9da9c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d0c4ee3, org.springframework.security.web.authentication.logout.LogoutFilter@31dd34c6, com.example.refugeeshelter.filter.CustomAuthorizationFilter@749066b7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@33f6ebd7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@572ba6e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c138476, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c17939a, org.springframework.security.web.session.SessionManagementFilter@5ad9c727, org.springframework.security.web.access.ExceptionTranslationFilter@1ef8c4e5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20501319]
2022-10-28 15:21:51.594  INFO 13551 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:21:51.631  INFO 13551 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:21:51.647  INFO 13551 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.761 seconds (JVM running for 5.685)
2022-10-28 15:21:51.942  INFO 13551 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:21:51.944  INFO 13551 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:21:51.950  INFO 13551 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:21:51.964  INFO 13551 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:21:52.019  INFO 13551 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:21:52.266 ERROR 13551 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 15:21:52.291  WARN 13551 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:22:03.430  INFO 13551 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 15:22:03.432  INFO 13551 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 15:22:07.257  INFO 13551 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 15:22:07.261  INFO 13551 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 15:22:09.688  INFO 13551 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 15:22:09.701  INFO 13551 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 15:22:14.975  INFO 13551 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:22:14.983  INFO 13551 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:22:15.067  INFO 13551 --- [http-nio-8081-exec-6] c.e.r.service.ReservationsService        : Reservation = 0
2022-10-28 15:25:07.906  INFO 13551 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:25:07.920  INFO 13551 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:25:07.927  INFO 13551 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:25:12.591  INFO 13922 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13922 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:25:12.593 DEBUG 13922 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:25:12.595  INFO 13922 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:25:12.639  INFO 13922 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:25:12.639  INFO 13922 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:25:13.574  INFO 13922 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:25:13.677  INFO 13922 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 4 JPA repository interfaces.
2022-10-28 15:25:14.294  INFO 13922 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:25:14.299  INFO 13922 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:25:14.299  INFO 13922 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:25:14.372  INFO 13922 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:25:14.373  INFO 13922 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1734 ms
2022-10-28 15:25:14.505  INFO 13922 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:25:14.744  INFO 13922 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:25:14.804  INFO 13922 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:25:14.823  INFO 13922 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:25:14.896  INFO 13922 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:25:14.951  INFO 13922 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:25:15.415  INFO 13922 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:25:15.422  INFO 13922 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:25:15.851  WARN 13922 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:25:15.969  INFO 13922 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64c415c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e02990e, org.springframework.security.web.context.SecurityContextPersistenceFilter@6274d9f5, org.springframework.security.web.authentication.logout.LogoutFilter@11fb777b, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2d58e59b, com.example.refugeeshelter.filter.CustomAuthenticationFilter@4c4ce301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ece8419, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49489f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8e2d515, org.springframework.security.web.session.SessionManagementFilter@2f0c209c, org.springframework.security.web.access.ExceptionTranslationFilter@62816e55, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3000a8d3]
2022-10-28 15:25:16.365  INFO 13922 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:25:16.406  INFO 13922 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:25:16.418  INFO 13922 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.207 seconds (JVM running for 5.094)
2022-10-28 15:25:17.366  INFO 13922 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:25:17.370  INFO 13922 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:25:17.376  INFO 13922 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:25:17.389  INFO 13922 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:25:17.441  INFO 13922 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:25:17.691 ERROR 13922 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:25:23.887  INFO 13922 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:25:23.896  INFO 13922 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:25:23.961 ERROR 13922 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:25:34.677  INFO 13922 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:25:34.692  INFO 13922 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:25:34.698  INFO 13922 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:25:39.743  INFO 13967 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 13967 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:25:39.744 DEBUG 13967 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:25:39.746  INFO 13967 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:25:39.843  INFO 13967 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:25:39.844  INFO 13967 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:25:40.740  INFO 13967 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:25:40.839  INFO 13967 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 4 JPA repository interfaces.
2022-10-28 15:25:41.438  INFO 13967 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:25:41.445  INFO 13967 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:25:41.445  INFO 13967 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:25:41.521  INFO 13967 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:25:41.531  INFO 13967 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1686 ms
2022-10-28 15:25:41.625  INFO 13967 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:25:41.884  INFO 13967 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:25:41.953  INFO 13967 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:25:41.973  INFO 13967 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:25:42.039  INFO 13967 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:25:42.099  INFO 13967 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:25:42.649  INFO 13967 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:25:42.655  INFO 13967 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:25:43.143  WARN 13967 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:25:43.266  INFO 13967 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d3f142, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8976d20, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a3fb5ea, org.springframework.security.web.authentication.logout.LogoutFilter@10eac5f1, com.example.refugeeshelter.filter.CustomAuthorizationFilter@71304496, com.example.refugeeshelter.filter.CustomAuthenticationFilter@482a5a83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c5c1ce4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@345148c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556efb25, org.springframework.security.web.session.SessionManagementFilter@15412e5d, org.springframework.security.web.access.ExceptionTranslationFilter@7719172a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ec820a9]
2022-10-28 15:25:43.645  INFO 13967 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:25:43.688  INFO 13967 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:25:43.708  INFO 13967 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.407 seconds (JVM running for 5.358)
2022-10-28 15:25:44.270  INFO 13967 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:25:44.273  INFO 13967 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:25:44.278  INFO 13967 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 15:25:44.289  INFO 13967 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:25:44.334  INFO 13967 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:25:44.631 ERROR 13967 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:25:47.125  INFO 13967 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:25:47.130  INFO 13967 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:25:47.170 ERROR 13967 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:25:49.009  INFO 13967 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:25:49.010  INFO 13967 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:25:49.044 ERROR 13967 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:26:08.277  INFO 13967 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:08.280  INFO 13967 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:08.357 ERROR 13967 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 15:26:08.387  WARN 13967 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:26:11.428  INFO 13967 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:11.433  INFO 13967 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:11.492 ERROR 13967 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Handler dispatch failed; nested exception is java.lang.StackOverflowError
2022-10-28 15:26:18.282  INFO 13967 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:26:18.293  INFO 13967 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:26:18.297  INFO 13967 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:26:23.238  INFO 14045 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 14045 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:26:23.239 DEBUG 14045 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:26:23.242  INFO 14045 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:26:23.299  INFO 14045 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:26:23.300  INFO 14045 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:26:24.199  INFO 14045 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:26:24.313  INFO 14045 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 4 JPA repository interfaces.
2022-10-28 15:26:24.987  INFO 14045 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:26:24.994  INFO 14045 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:26:24.994  INFO 14045 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:26:25.071  INFO 14045 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:26:25.072  INFO 14045 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1772 ms
2022-10-28 15:26:25.214  INFO 14045 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:26:25.453  INFO 14045 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:26:25.524  INFO 14045 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:26:25.547  INFO 14045 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:26:25.633  INFO 14045 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:26:25.690  INFO 14045 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:26:26.292  INFO 14045 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:26:26.298  INFO 14045 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:26:26.807  WARN 14045 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:26:26.998  INFO 14045 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50e224ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@776ac8b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@b045160, org.springframework.security.web.authentication.logout.LogoutFilter@1197f291, com.example.refugeeshelter.filter.CustomAuthorizationFilter@465838c9, com.example.refugeeshelter.filter.CustomAuthenticationFilter@616e021b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@144ecac8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64af0ff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@206abfa8, org.springframework.security.web.session.SessionManagementFilter@4b4b4ab2, org.springframework.security.web.access.ExceptionTranslationFilter@1937346, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f671415]
2022-10-28 15:26:27.414  INFO 14045 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:26:27.455  INFO 14045 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:26:27.471  INFO 14045 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.649 seconds (JVM running for 5.435)
2022-10-28 15:26:27.870  INFO 14045 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:26:27.872  INFO 14045 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:26:27.878  INFO 14045 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:26:27.892  INFO 14045 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:27.952  INFO 14045 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:28.031  INFO 14045 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:28.033  INFO 14045 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:28.329  INFO 14045 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : Reservation = 5
2022-10-28 15:26:28.331  INFO 14045 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation = 5
2022-10-28 15:26:31.792  INFO 14045 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:31.807  INFO 14045 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:31.859  INFO 14045 --- [http-nio-8081-exec-5] c.e.r.service.ReservationsService        : Reservation = 1
2022-10-28 15:26:34.187  INFO 14045 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:34.191  INFO 14045 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:34.280 ERROR 14045 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '113'
2022-10-28 15:26:34.287  WARN 14045 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:26:37.221  INFO 14045 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:37.227  INFO 14045 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:37.273 ERROR 14045 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 15:26:37.275  WARN 14045 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:26:43.606  INFO 14045 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 15:26:43.609  INFO 14045 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 15:26:46.381  INFO 14045 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:46.390  INFO 14045 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:46.438 ERROR 14045 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '114'
2022-10-28 15:26:46.445  WARN 14045 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:26:47.834  INFO 14045 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:26:47.838  INFO 14045 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:26:47.889  INFO 14045 --- [http-nio-8081-exec-10] c.e.r.service.ReservationsService        : Reservation = 0
2022-10-28 15:27:55.649  INFO 14045 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:27:55.662  INFO 14045 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:27:55.665  INFO 14045 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:28:00.432  INFO 14219 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 14219 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:28:00.435 DEBUG 14219 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:28:00.437  INFO 14219 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:28:00.519  INFO 14219 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:28:00.522  INFO 14219 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:28:01.470  INFO 14219 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:28:01.542  INFO 14219 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2022-10-28 15:28:02.170  INFO 14219 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:28:02.194  INFO 14219 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:28:02.195  INFO 14219 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:28:02.285  INFO 14219 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:28:02.287  INFO 14219 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1764 ms
2022-10-28 15:28:02.430  INFO 14219 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:28:02.710  INFO 14219 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:28:02.786  INFO 14219 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:28:02.805  INFO 14219 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:28:02.870  INFO 14219 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:28:02.923  INFO 14219 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:28:03.381  INFO 14219 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:28:03.386  INFO 14219 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:28:03.833  WARN 14219 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:28:03.945  INFO 14219 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bdda2e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4915914f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3cb202e6, org.springframework.security.web.authentication.logout.LogoutFilter@11971957, com.example.refugeeshelter.filter.CustomAuthorizationFilter@6104836d, com.example.refugeeshelter.filter.CustomAuthenticationFilter@16773e02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fe6a027, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f36d0a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70db14c6, org.springframework.security.web.session.SessionManagementFilter@dfcec20, org.springframework.security.web.access.ExceptionTranslationFilter@4fba7ef0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@258f1833]
2022-10-28 15:28:04.204  INFO 14219 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:28:04.242  INFO 14219 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:28:04.271  INFO 14219 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.501 seconds (JVM running for 5.285)
2022-10-28 15:28:04.413  INFO 14219 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:28:04.414  INFO 14219 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:28:04.417  INFO 14219 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-10-28 15:28:04.429  INFO 14219 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:28:04.473  INFO 14219 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:28:04.937  INFO 14219 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:04.938  INFO 14219 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation = 1
2022-10-28 15:28:15.714  INFO 14219 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:28:15.726  INFO 14219 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:28:15.784  INFO 14219 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:15.785  INFO 14219 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:15.786  INFO 14219 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : Reservation = 2
2022-10-28 15:28:37.114  INFO 14219 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:28:37.119  INFO 14219 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:28:37.123  INFO 14219 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:28:41.613  INFO 14295 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 14295 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:28:41.614 DEBUG 14295 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:28:41.616  INFO 14295 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:28:41.670  INFO 14295 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:28:41.670  INFO 14295 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:28:42.498  INFO 14295 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:28:42.565  INFO 14295 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 15:28:43.166  INFO 14295 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:28:43.193  INFO 14295 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:28:43.193  INFO 14295 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:28:43.264  INFO 14295 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:28:43.265  INFO 14295 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1595 ms
2022-10-28 15:28:43.361  INFO 14295 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:28:43.585  INFO 14295 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:28:43.655  INFO 14295 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:28:43.674  INFO 14295 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:28:43.739  INFO 14295 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:28:43.795  INFO 14295 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:28:44.291  INFO 14295 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:28:44.296  INFO 14295 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:28:44.813  WARN 14295 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:28:44.932  INFO 14295 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3831ce1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d572bf9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e87ee82, org.springframework.security.web.authentication.logout.LogoutFilter@5e8e3a10, com.example.refugeeshelter.filter.CustomAuthorizationFilter@48df722a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5dea123, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49489f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39e3bfbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ea1d16d, org.springframework.security.web.session.SessionManagementFilter@46cb72bc, org.springframework.security.web.access.ExceptionTranslationFilter@7ece8419, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@677f14f3]
2022-10-28 15:28:45.219  INFO 14295 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:28:45.264  INFO 14295 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:28:45.293  INFO 14295 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.037 seconds (JVM running for 4.814)
2022-10-28 15:28:45.694  INFO 14295 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:28:45.694  INFO 14295 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:28:45.698  INFO 14295 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-10-28 15:28:45.707  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:28:45.750  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:28:46.152  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:46.154  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:46.154  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation date = 2022-03-13 00:00:00.0 2022-07-05 00:00:00.0
2022-10-28 15:28:46.154  INFO 14295 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : Reservation = 3
2022-10-28 15:41:34.463  INFO 14295 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:41:34.471  INFO 14295 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:41:34.475  INFO 14295 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:41:39.607  INFO 15688 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 15688 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:41:39.607 DEBUG 15688 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:41:39.609  INFO 15688 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:41:39.655  INFO 15688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:41:39.656  INFO 15688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:41:40.442  INFO 15688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:41:40.540  INFO 15688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.
2022-10-28 15:41:41.096  INFO 15688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:41:41.102  INFO 15688 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:41:41.102  INFO 15688 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:41:41.158  INFO 15688 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:41:41.159  INFO 15688 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms
2022-10-28 15:41:41.247  INFO 15688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:41:41.498  INFO 15688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:41:41.567  INFO 15688 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:41:41.585  INFO 15688 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:41:41.649  INFO 15688 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:41:41.706  INFO 15688 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:41:42.190  INFO 15688 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:41:42.195  INFO 15688 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:41:42.640  WARN 15688 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:41:42.765  INFO 15688 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ef96872, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f5235a0, org.springframework.security.web.context.SecurityContextPersistenceFilter@71e147a9, org.springframework.security.web.authentication.logout.LogoutFilter@16a885d, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3b6fd0c1, com.example.refugeeshelter.filter.CustomAuthenticationFilter@68817ada, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36bb4991, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f5af1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d2e3540, org.springframework.security.web.session.SessionManagementFilter@b5ec13c, org.springframework.security.web.access.ExceptionTranslationFilter@6501a1f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6aa76deb]
2022-10-28 15:41:43.066  INFO 15688 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:41:43.102  INFO 15688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:41:43.129  INFO 15688 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.929 seconds (JVM running for 4.737)
2022-10-28 15:41:47.348  INFO 15688 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:41:47.351  INFO 15688 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:41:47.357  INFO 15688 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:41:47.370  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:41:47.426  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:41:47.686 ERROR 15688 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:41:47.712  WARN 15688 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:41:58.831  INFO 15688 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:41:58.837  INFO 15688 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:04.725  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:04.733  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:08.323  INFO 15688 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:08.329  INFO 15688 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:08.401 ERROR 15688 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:08.403  WARN 15688 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:16.728  INFO 15688 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:16.730  INFO 15688 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:29.411  INFO 15688 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:29.416  INFO 15688 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:29.460 ERROR 15688 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:29.462  WARN 15688 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:30.644  INFO 15688 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:30.646  INFO 15688 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:30.689 ERROR 15688 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:30.696  WARN 15688 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:31.315  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:31.318  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:31.363 ERROR 15688 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:31.365  WARN 15688 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:31.761  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:31.765  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:31.808 ERROR 15688 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:31.811  WARN 15688 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:32.299  INFO 15688 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:32.301  INFO 15688 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:32.336 ERROR 15688 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:32.341  WARN 15688 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:32.723  INFO 15688 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:32.726  INFO 15688 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:32.768 ERROR 15688 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:32.770  WARN 15688 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:33.224  INFO 15688 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:33.227  INFO 15688 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:33.258 ERROR 15688 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:33.260  WARN 15688 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:33.693  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:33.697  INFO 15688 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:33.744 ERROR 15688 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:33.746  WARN 15688 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:34.087  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:34.089  INFO 15688 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:34.133 ERROR 15688 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:34.135  WARN 15688 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:34.536  INFO 15688 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:34.541  INFO 15688 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:34.577 ERROR 15688 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:34.579  WARN 15688 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:42:34.983  INFO 15688 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:42:34.985  INFO 15688 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:42:35.024 ERROR 15688 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:42:35.026  WARN 15688 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:14.842  INFO 15688 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:47:14.855  INFO 15688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:47:14.859  INFO 15688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:47:19.240  INFO 16248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 16248 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:47:19.241 DEBUG 16248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:47:19.243  INFO 16248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:47:19.295  INFO 16248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:47:19.295  INFO 16248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:47:20.129  INFO 16248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:47:20.195  INFO 16248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 15:47:20.751  INFO 16248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:47:20.757  INFO 16248 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:47:20.757  INFO 16248 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:47:20.823  INFO 16248 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:47:20.824  INFO 16248 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1529 ms
2022-10-28 15:47:20.947  INFO 16248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:47:21.184  INFO 16248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:47:21.251  INFO 16248 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:47:21.269  INFO 16248 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:47:21.336  INFO 16248 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:47:21.394  INFO 16248 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:47:21.843  INFO 16248 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:47:21.848  INFO 16248 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:47:22.274  WARN 16248 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:47:22.394  INFO 16248 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@87fabb3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51f0c252, org.springframework.security.web.context.SecurityContextPersistenceFilter@f0a29af, org.springframework.security.web.authentication.logout.LogoutFilter@488b4b80, com.example.refugeeshelter.filter.CustomAuthorizationFilter@59cbdc8e, com.example.refugeeshelter.filter.CustomAuthenticationFilter@4b20eea2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd3d148, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4231336c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ef7e646, org.springframework.security.web.session.SessionManagementFilter@5f0458ff, org.springframework.security.web.access.ExceptionTranslationFilter@462889c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75fabe1]
2022-10-28 15:47:22.677  INFO 16248 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:47:22.718  INFO 16248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:47:22.747  INFO 16248 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 3.883 seconds (JVM running for 4.628)
2022-10-28 15:47:34.509  INFO 16248 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:47:34.512  INFO 16248 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:47:34.518  INFO 16248 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:47:34.532  INFO 16248 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:34.589  INFO 16248 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:34.775 ERROR 16248 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:34.800  WARN 16248 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:35.813  INFO 16248 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:35.817  INFO 16248 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:35.871 ERROR 16248 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:35.877  WARN 16248 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:37.588  INFO 16248 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:37.590  INFO 16248 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:37.630 ERROR 16248 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:37.635  WARN 16248 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:38.047  INFO 16248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:38.058  INFO 16248 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:38.099 ERROR 16248 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:38.101  WARN 16248 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:38.480  INFO 16248 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:38.483  INFO 16248 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:38.535 ERROR 16248 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:38.537  WARN 16248 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:47:38.900  INFO 16248 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:47:38.903  INFO 16248 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:47:38.950 ERROR 16248 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:47:38.954  WARN 16248 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:51:45.234  INFO 16248 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:51:45.240  INFO 16248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:51:45.244  INFO 16248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:51:50.421  INFO 16751 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 16751 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:51:50.422 DEBUG 16751 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:51:50.424  INFO 16751 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:51:50.469  INFO 16751 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:51:50.470  INFO 16751 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:51:51.269  INFO 16751 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:51:51.370  INFO 16751 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 4 JPA repository interfaces.
2022-10-28 15:51:51.943  INFO 16751 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:51:51.949  INFO 16751 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:51:51.949  INFO 16751 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:51:52.002  INFO 16751 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:51:52.003  INFO 16751 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1532 ms
2022-10-28 15:51:52.088  INFO 16751 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:51:52.334  INFO 16751 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:51:52.401  INFO 16751 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:51:52.420  INFO 16751 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:51:52.481  INFO 16751 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:51:52.534  INFO 16751 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:51:52.993  INFO 16751 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:51:52.997  INFO 16751 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:51:53.586  WARN 16751 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:51:53.723  INFO 16751 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13eeb095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b89cbf0, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f52cfd, org.springframework.security.web.authentication.logout.LogoutFilter@6bdbc147, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5b2c00c8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3b1dc365, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bed1ee7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a2011, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d11b68b, org.springframework.security.web.session.SessionManagementFilter@1c342211, org.springframework.security.web.access.ExceptionTranslationFilter@15c2329, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c3bdca]
2022-10-28 15:51:54.065  INFO 16751 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:51:54.127  INFO 16751 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:51:54.150  INFO 16751 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.107 seconds (JVM running for 4.917)
2022-10-28 15:51:54.431  INFO 16751 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:51:54.433  INFO 16751 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:51:54.439  INFO 16751 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 15:51:54.453  INFO 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = PUT
2022-10-28 15:51:54.513  INFO 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:51:54.578  INFO 16751 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = PUT
2022-10-28 15:51:54.581  INFO 16751 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:51:54.653 ERROR 16751 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:51:54.653 ERROR 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:51:55.349  INFO 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = PUT
2022-10-28 15:51:55.359  INFO 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:51:55.376 ERROR 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:51:55.976  INFO 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = PUT
2022-10-28 15:51:55.983  INFO 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:51:55.993 ERROR 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:51:56.723  INFO 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = PUT
2022-10-28 15:51:56.725  INFO 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:51:56.735 ERROR 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:52:13.268  INFO 16751 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:52:13.271  INFO 16751 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:52:13.409 ERROR 16751 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:52:13.430  WARN 16751 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:52:34.885  INFO 16751 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:52:34.889  INFO 16751 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 15:52:50.459  INFO 16751 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:52:50.475  INFO 16751 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:52:50.493 ERROR 16751 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:54:30.984  INFO 16751 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = PUT
2022-10-28 15:54:30.990  INFO 16751 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:54:31.005 ERROR 16751 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:54:33.499  INFO 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:54:33.522  INFO 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:54:33.532 ERROR 16751 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:54:39.577  INFO 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:54:39.581  INFO 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:54:39.588 ERROR 16751 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:55:00.787  INFO 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:55:00.793  INFO 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:55:00.802 ERROR 16751 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:55:24.709  INFO 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:55:24.718  INFO 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:55:24.732 ERROR 16751 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:55:59.651  INFO 16751 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:55:59.660  INFO 16751 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 15:55:59.664  INFO 16751 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 15:56:04.978  INFO 17204 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 17204 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 15:56:04.979 DEBUG 17204 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 15:56:04.981  INFO 17204 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 15:56:05.028  INFO 17204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 15:56:05.029  INFO 17204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 15:56:06.063  INFO 17204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 15:56:06.210  INFO 17204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 4 JPA repository interfaces.
2022-10-28 15:56:06.857  INFO 17204 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 15:56:06.863  INFO 17204 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 15:56:06.863  INFO 17204 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 15:56:06.920  INFO 17204 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 15:56:06.920  INFO 17204 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1891 ms
2022-10-28 15:56:07.046  INFO 17204 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 15:56:07.279  INFO 17204 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 15:56:07.350  INFO 17204 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 15:56:07.369  INFO 17204 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 15:56:07.433  INFO 17204 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 15:56:07.498  INFO 17204 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 15:56:08.037  INFO 17204 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 15:56:08.041  INFO 17204 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 15:56:08.495  WARN 17204 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 15:56:08.616  INFO 17204 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@749066b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33f6ebd7, org.springframework.security.web.context.SecurityContextPersistenceFilter@39945e6a, org.springframework.security.web.authentication.logout.LogoutFilter@5571badb, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5c17939a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2cda9fbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@88ba6f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@137428b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b88f14c, org.springframework.security.web.session.SessionManagementFilter@43dfb144, org.springframework.security.web.access.ExceptionTranslationFilter@350b7b4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@486a911f]
2022-10-28 15:56:08.963  INFO 17204 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 15:56:09.003  INFO 17204 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 15:56:09.014  INFO 17204 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.411 seconds (JVM running for 5.329)
2022-10-28 15:56:15.426  INFO 17204 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 15:56:15.428  INFO 17204 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 15:56:15.434  INFO 17204 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 15:56:15.447  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:56:15.503  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 15:56:15.621 ERROR 17204 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""
2022-10-28 15:56:37.724  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/32 method = PUT
2022-10-28 15:56:37.732  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:56:37.752  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.service.ReservationsService        : HERE
2022-10-28 15:56:37.864 ERROR 17204 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 15:56:37.885  WARN 17204 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 15:56:54.182  INFO 17204 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:56:54.192  INFO 17204 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:56:54.363 ERROR 17204 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:56:54.365  WARN 17204 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:57:03.536  INFO 17204 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:57:03.541  INFO 17204 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:03.595 ERROR 17204 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '110'
2022-10-28 15:57:03.600  WARN 17204 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:57:06.896  INFO 17204 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:57:06.905  INFO 17204 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:06.956 ERROR 17204 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '114'
2022-10-28 15:57:06.959  WARN 17204 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:57:13.688  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/ method = POST
2022-10-28 15:57:13.690  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:20.381  INFO 17204 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 15:57:20.386  INFO 17204 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:30.354  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/114 method = PUT
2022-10-28 15:57:30.371  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:30.384  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.service.ReservationsService        : HERE
2022-10-28 15:57:30.395 ERROR 17204 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '114'
2022-10-28 15:57:30.403  WARN 17204 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 15:57:39.400  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/33 method = PUT
2022-10-28 15:57:39.404  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:39.415  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.service.ReservationsService        : HERE
2022-10-28 15:57:39.459 ERROR 17204 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:57:39.463  WARN 17204 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:57:48.129  INFO 17204 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/33 method = PUT
2022-10-28 15:57:48.131  INFO 17204 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:48.142  INFO 17204 --- [http-nio-8081-exec-2] c.e.r.service.ReservationsService        : HERE
2022-10-28 15:57:48.184 ERROR 17204 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 15:57:48.187  WARN 17204 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 15:57:58.195  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/33 method = PUT
2022-10-28 15:57:58.198  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 15:57:58.204  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.service.ReservationsService        : HERE
2022-10-28 15:57:58.241  INFO 17204 --- [http-nio-8081-exec-1] c.e.r.service.ReservationsService        : OK
2022-10-28 16:04:50.756  INFO 17204 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:04:50.768  INFO 17204 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:04:50.801  WARN 17204 --- [http-nio-8081-exec-5] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/users
2022-10-28 16:04:51.494  INFO 17204 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:04:51.498  INFO 17204 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:04:51.501  WARN 17204 --- [http-nio-8081-exec-6] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/users
2022-10-28 16:04:57.724  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:04:57.724  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:04:57.728  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:04:57.729  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:04:57.904  INFO 17204 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:05:04.740  INFO 17204 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:05:04.745  INFO 17204 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:05:04.757  INFO 17204 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:05:05.523  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:05:05.529  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:05:05.535  INFO 17204 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:05:44.096  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:05:44.104  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:05:44.136  INFO 17204 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:12:09.065  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:12:09.080  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:12:09.089  INFO 17204 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:12:13.049  INFO 17204 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:12:13.063  INFO 17204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:12:13.069  INFO 17204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:12:20.656  INFO 18942 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 18942 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:12:20.657 DEBUG 18942 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:12:20.660  INFO 18942 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:12:20.720  INFO 18942 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:12:20.720  INFO 18942 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:12:21.772  INFO 18942 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:12:21.853  INFO 18942 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 4 JPA repository interfaces.
2022-10-28 16:12:22.544  INFO 18942 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:12:22.549  INFO 18942 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:12:22.550  INFO 18942 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:12:22.622  INFO 18942 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:12:22.623  INFO 18942 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1902 ms
2022-10-28 16:12:22.774  INFO 18942 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:12:23.034  INFO 18942 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:12:23.107  INFO 18942 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:12:23.128  INFO 18942 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:12:23.202  INFO 18942 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:12:23.262  INFO 18942 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:12:23.842  INFO 18942 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:12:23.848  INFO 18942 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:12:24.319  WARN 18942 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:12:24.452  INFO 18942 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31c221, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@292ba4d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@746d4225, org.springframework.security.web.authentication.logout.LogoutFilter@7b34ed5f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@db78dd8, com.example.refugeeshelter.filter.CustomAuthenticationFilter@79d2a32b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4068a5fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52f93045, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777c46fa, org.springframework.security.web.session.SessionManagementFilter@68a41702, org.springframework.security.web.access.ExceptionTranslationFilter@77604cad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c6c21e4]
2022-10-28 16:12:24.837  INFO 18942 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:12:24.919  INFO 18942 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:12:24.949  INFO 18942 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.754 seconds (JVM running for 5.566)
2022-10-28 16:12:25.380  INFO 18942 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:12:25.382  INFO 18942 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:12:25.388  INFO 18942 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 16:12:25.403  INFO 18942 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:12:25.463  INFO 18942 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:12:25.548  INFO 18942 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:12:40.106  INFO 18942 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:12:40.114  INFO 18942 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:12:40.118  INFO 18942 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:12:44.978  INFO 18986 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 18986 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:12:44.979 DEBUG 18986 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:12:44.981  INFO 18986 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:12:45.029  INFO 18986 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:12:45.029  INFO 18986 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:12:46.099  INFO 18986 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:12:46.169  INFO 18986 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 16:12:46.995  INFO 18986 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:12:47.006  INFO 18986 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:12:47.007  INFO 18986 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:12:47.076  INFO 18986 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:12:47.077  INFO 18986 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2047 ms
2022-10-28 16:12:47.175  INFO 18986 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:12:47.423  INFO 18986 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:12:47.516  INFO 18986 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:12:47.540  INFO 18986 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:12:47.622  INFO 18986 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:12:47.683  INFO 18986 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:12:48.132  INFO 18986 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:12:48.137  INFO 18986 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:12:48.705  WARN 18986 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:12:48.855  INFO 18986 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1766c378, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e50798, org.springframework.security.web.context.SecurityContextPersistenceFilter@78956b0e, org.springframework.security.web.authentication.logout.LogoutFilter@3c3e8710, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3ed5ada5, com.example.refugeeshelter.filter.CustomAuthenticationFilter@4d221773, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c9e3fc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b652121, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c7e70ac, org.springframework.security.web.session.SessionManagementFilter@3e24196, org.springframework.security.web.access.ExceptionTranslationFilter@12fd4d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@473d933e]
2022-10-28 16:12:49.223  INFO 18986 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:12:49.265  INFO 18986 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:12:49.293  INFO 18986 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.703 seconds (JVM running for 5.465)
2022-10-28 16:12:49.811  INFO 18986 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:12:49.811  INFO 18986 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:12:49.814  INFO 18986 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-10-28 16:12:49.825  INFO 18986 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:12:49.863  INFO 18986 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:12:50.088  INFO 18986 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:13:01.983  INFO 18986 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:13:01.998  INFO 18986 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:13:02.008  INFO 18986 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:13:02.426  INFO 18986 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:13:02.429  INFO 18986 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:13:02.433  INFO 18986 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:13:02.902  INFO 18986 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:13:02.905  INFO 18986 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:13:02.910  INFO 18986 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:13:03.788  INFO 18986 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:13:03.790  INFO 18986 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:13:03.797  INFO 18986 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:13:04.287  INFO 18986 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:13:04.293  INFO 18986 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:13:04.296  INFO 18986 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:19:14.260  INFO 18986 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:19:14.270  INFO 18986 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:19:14.275  INFO 18986 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:19:19.682  INFO 19671 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 19671 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:19:19.683 DEBUG 19671 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:19:19.685  INFO 19671 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:19:19.742  INFO 19671 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:19:19.743  INFO 19671 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:19:20.823  INFO 19671 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:19:20.890  INFO 19671 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 16:19:21.555  INFO 19671 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:19:21.561  INFO 19671 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:19:21.561  INFO 19671 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:19:21.629  INFO 19671 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:19:21.629  INFO 19671 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms
2022-10-28 16:19:21.809  INFO 19671 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:19:22.050  INFO 19671 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:19:22.121  INFO 19671 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:19:22.142  INFO 19671 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:19:22.216  INFO 19671 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:19:22.275  INFO 19671 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:19:22.773  INFO 19671 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:19:22.779  INFO 19671 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:19:23.319  WARN 19671 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:19:23.457  INFO 19671 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71bdaf1d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b5efedd, org.springframework.security.web.context.SecurityContextPersistenceFilter@33551fc4, org.springframework.security.web.authentication.logout.LogoutFilter@60e8c77f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@6efd9d03, com.example.refugeeshelter.filter.CustomAuthenticationFilter@231b8097, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f0e2912, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@284f467c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f4216ae, org.springframework.security.web.session.SessionManagementFilter@2e577af9, org.springframework.security.web.access.ExceptionTranslationFilter@260c959d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c1ec683]
2022-10-28 16:19:23.838  INFO 19671 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:19:23.881  INFO 19671 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:19:23.903  INFO 19671 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.67 seconds (JVM running for 5.523)
2022-10-28 16:19:24.520  INFO 19671 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:19:24.524  INFO 19671 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:19:24.530  INFO 19671 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:19:24.544  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:19:24.605  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:24.694  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:19:25.794  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:19:25.805  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:25.816  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:19:29.822  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:29.825  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:29.891  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:30.616  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:30.628  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:30.639  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:31.155  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:31.158  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:31.165  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:31.566  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:31.569  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:31.574  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:32.088  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:32.090  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:32.095  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:32.585  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:32.588  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:32.593  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:32.997  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:33.000  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:33.004  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:33.382  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:33.390  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:33.396  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:33.861  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:19:33.865  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:33.871  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:19:36.217  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/roles/ method = POST
2022-10-28 16:19:36.220  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:19:36.231  WARN 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/roles/
2022-10-28 16:19:37.292  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/roles/ method = POST
2022-10-28 16:19:37.295  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:19:37.299  WARN 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/roles/
2022-10-28 16:19:55.475  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/roles/ method = POST
2022-10-28 16:19:55.484  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:19:55.497  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Saving role ROLE_USER to the database
2022-10-28 16:20:11.285  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:20:11.289  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:20:28.575  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:20:28.580  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:20:28.616  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Patch user 16
2022-10-28 16:20:28.618  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:20:28.695 ERROR 19671 --- [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy133.findByName(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.addRoleToUser(UserServiceImpl.java:118) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:82) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$4e1878f1.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:47) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:20:36.223  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:20:36.223  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:20:36.235  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Patch user 17
2022-10-28 16:20:36.235  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:20:36.306 ERROR 19671 --- [http-nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy133.findByName(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.addRoleToUser(UserServiceImpl.java:118) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:82) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$4e1878f1.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:47) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:21:18.332  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:18.339  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:18.358  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Patch user 18
2022-10-28 16:21:18.359  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:33.947  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:33.948  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:33.962  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Patch user 19
2022-10-28 16:21:33.963  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:34.344  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:34.344  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:34.353  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Patch user 20
2022-10-28 16:21:34.353  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:37.190  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:21:37.204  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:21:37.216  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:21:37.856  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:21:37.859  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:21:37.872  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:21:38.341  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:21:38.346  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:21:38.353  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:21:40.508  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:40.509  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:40.518  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Patch user 24
2022-10-28 16:21:40.520  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:40.878  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:40.880  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:40.889  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Patch user 25
2022-10-28 16:21:40.891  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:41.276  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:41.277  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:41.285  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Patch user 26
2022-10-28 16:21:41.285  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:41.668  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:41.669  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:41.683  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Patch user 27
2022-10-28 16:21:41.687  INFO 19671 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:42.128  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:42.129  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:42.136  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Patch user 28
2022-10-28 16:21:42.137  INFO 19671 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:42.476  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:42.477  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:42.485  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Patch user 29
2022-10-28 16:21:42.486  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:42.893  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:42.894  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:42.898  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Patch user 30
2022-10-28 16:21:42.899  INFO 19671 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:43.347  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:43.348  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:43.355  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Patch user 31
2022-10-28 16:21:43.357  INFO 19671 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:43.708  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:43.709  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:43.717  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Patch user 32
2022-10-28 16:21:43.719  INFO 19671 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:44.088  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:44.088  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:44.103  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Patch user 33
2022-10-28 16:21:44.106  INFO 19671 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:44.546  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:44.547  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:44.556  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Patch user 34
2022-10-28 16:21:44.557  INFO 19671 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:44.913  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:44.913  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:44.923  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Patch user 35
2022-10-28 16:21:44.923  INFO 19671 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:21:45.292  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:21:45.293  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:21:45.303  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Patch user 36
2022-10-28 16:21:45.304  INFO 19671 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:22:46.843  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/9 method = PATCH
2022-10-28 16:22:46.860  INFO 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:22:46.868  WARN 19671 --- [http-nio-8081-exec-2] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/users/9
2022-10-28 16:28:19.300  INFO 19671 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:28:19.313  INFO 19671 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:28:19.319  INFO 19671 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:28:25.034  INFO 20592 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 20592 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:28:25.035 DEBUG 20592 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:28:25.037  INFO 20592 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:28:25.103  INFO 20592 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:28:25.104  INFO 20592 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:28:26.152  INFO 20592 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:28:26.221  INFO 20592 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 4 JPA repository interfaces.
2022-10-28 16:28:26.822  INFO 20592 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:28:26.828  INFO 20592 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:28:26.828  INFO 20592 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:28:26.896  INFO 20592 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:28:26.897  INFO 20592 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1792 ms
2022-10-28 16:28:27.034  INFO 20592 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:28:27.281  INFO 20592 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:28:27.352  INFO 20592 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:28:27.376  INFO 20592 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:28:27.442  INFO 20592 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:28:27.504  INFO 20592 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:28:27.971  INFO 20592 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:28:27.976  INFO 20592 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:28:28.410  WARN 20592 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:28:28.521  INFO 20592 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2cda9fbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b88f14c, org.springframework.security.web.context.SecurityContextPersistenceFilter@88ba6f4, org.springframework.security.web.authentication.logout.LogoutFilter@50669095, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5f2401b9, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3f4fc284, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19614cab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@193d79d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47109dbc, org.springframework.security.web.session.SessionManagementFilter@39945e6a, org.springframework.security.web.access.ExceptionTranslationFilter@43dfb144, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ed2a93b]
2022-10-28 16:28:28.863  INFO 20592 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:28:28.910  INFO 20592 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:28:28.930  INFO 20592 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.334 seconds (JVM running for 5.162)
2022-10-28 16:28:29.591  INFO 20592 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:28:29.594  INFO 20592 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:28:29.599  INFO 20592 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 16:28:29.615  INFO 20592 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:28:29.681  INFO 20592 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:28:30.611  INFO 20592 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:28:30.621  INFO 20592 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:28:31.205  INFO 20592 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:28:31.210  INFO 20592 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:28:31.770  INFO 20592 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:28:31.773  INFO 20592 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:28:34.755  INFO 20592 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4 method = DELETE
2022-10-28 16:28:34.759  INFO 20592 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:28:34.903  WARN 20592 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:28:34.903 ERROR 20592 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(4) is still referenced from table "rooms".
2022-10-28 16:28:34.905  INFO 20592 --- [http-nio-8081-exec-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:28:34.919 ERROR 20592 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:28:35.945  INFO 20592 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = DELETE
2022-10-28 16:28:35.948  INFO 20592 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:28:36.052  WARN 20592 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:28:36.071 ERROR 20592 --- [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(5) is still referenced from table "rooms".
2022-10-28 16:28:36.073  INFO 20592 --- [http-nio-8081-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:28:36.079 ERROR 20592 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:28:48.580  INFO 20592 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = DELETE
2022-10-28 16:28:48.589  INFO 20592 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:28:48.673  WARN 20592 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:28:48.674 ERROR 20592 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(5) is still referenced from table "rooms".
2022-10-28 16:28:48.674  INFO 20592 --- [http-nio-8081-exec-8] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:28:48.679 ERROR 20592 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:29:00.042  INFO 20592 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = DELETE
2022-10-28 16:29:00.045  INFO 20592 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:00.126  WARN 20592 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:29:00.127 ERROR 20592 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(5) is still referenced from table "rooms".
2022-10-28 16:29:00.127  INFO 20592 --- [http-nio-8081-exec-9] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:29:00.132 ERROR 20592 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:29:00.798  INFO 20592 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6 method = DELETE
2022-10-28 16:29:00.799  INFO 20592 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:01.501  INFO 20592 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:01.504  INFO 20592 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:37.180  INFO 20592 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:29:37.191  INFO 20592 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:29:37.195  INFO 20592 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:29:43.612  INFO 20733 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 20733 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:29:43.613 DEBUG 20733 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:29:43.621  INFO 20733 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:29:43.678  INFO 20733 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:29:43.678  INFO 20733 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:29:44.804  INFO 20733 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:29:44.883  INFO 20733 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2022-10-28 16:29:45.598  INFO 20733 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:29:45.604  INFO 20733 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:29:45.604  INFO 20733 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:29:45.674  INFO 20733 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:29:45.675  INFO 20733 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1996 ms
2022-10-28 16:29:45.824  INFO 20733 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:29:46.077  INFO 20733 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:29:46.171  INFO 20733 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:29:46.195  INFO 20733 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:29:46.349  INFO 20733 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:29:46.426  INFO 20733 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:29:46.943  INFO 20733 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:29:46.948  INFO 20733 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:29:47.522  WARN 20733 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:29:47.662  INFO 20733 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e50798, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ed5ada5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d613908, org.springframework.security.web.authentication.logout.LogoutFilter@5a3ad15a, com.example.refugeeshelter.filter.CustomAuthorizationFilter@4d221773, com.example.refugeeshelter.filter.CustomAuthenticationFilter@6c7e70ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@441470b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@338fe427, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@468d737c, org.springframework.security.web.session.SessionManagementFilter@763fe27, org.springframework.security.web.access.ExceptionTranslationFilter@3fa15c08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2189144f]
2022-10-28 16:29:48.061  INFO 20733 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:29:48.102  INFO 20733 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:29:48.123  INFO 20733 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 5.115 seconds (JVM running for 5.974)
2022-10-28 16:29:48.592  INFO 20733 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:29:48.595  INFO 20733 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:29:48.601  INFO 20733 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:29:48.614  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:48.663  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:48.812 ERROR 20733 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:48.858  WARN 20733 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:49.112  INFO 20733 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:49.122  INFO 20733 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:49.141 ERROR 20733 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:49.144  WARN 20733 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:49.556  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:49.562  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:49.577 ERROR 20733 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:49.580  WARN 20733 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:49.994  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:49.996  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:50.010 ERROR 20733 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:50.015  WARN 20733 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:50.384  INFO 20733 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:50.388  INFO 20733 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:50.403 ERROR 20733 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:50.407  WARN 20733 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:50.816  INFO 20733 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:50.821  INFO 20733 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:50.840 ERROR 20733 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:50.842  WARN 20733 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:51.224  INFO 20733 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:51.227  INFO 20733 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:51.241 ERROR 20733 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:51.245  WARN 20733 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:52.962  INFO 20733 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = DELETE
2022-10-28 16:29:52.969  INFO 20733 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:53.150  WARN 20733 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:29:53.152 ERROR 20733 --- [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(5) is still referenced from table "rooms".
2022-10-28 16:29:53.154  INFO 20733 --- [http-nio-8081-exec-9] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:29:53.164 ERROR 20733 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:29:53.928  INFO 20733 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = DELETE
2022-10-28 16:29:53.935  INFO 20733 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:53.946  WARN 20733 --- [http-nio-8081-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported]
2022-10-28 16:29:55.554  INFO 20733 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7 method = DELETE
2022-10-28 16:29:55.558  INFO 20733 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:55.577 ERROR 20733 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '7'
2022-10-28 16:29:55.579  WARN 20733 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:56.450  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6 method = DELETE
2022-10-28 16:29:56.457  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:56.469 ERROR 20733 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '6'
2022-10-28 16:29:56.471  WARN 20733 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:29:57.239  INFO 20733 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = DELETE
2022-10-28 16:29:57.245  INFO 20733 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:29:57.359  WARN 20733 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2022-10-28 16:29:57.360 ERROR 20733 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: update or delete on table "users" violates foreign key constraint "rooms_owner_id_fkey" on table "rooms"
  : Key (id)=(5) is still referenced from table "rooms".
2022-10-28 16:29:57.360  INFO 20733 --- [http-nio-8081-exec-3] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2022-10-28 16:29:57.365 ERROR 20733 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [rooms_owner_id_fkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-10-28 16:30:11.781  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:30:11.783  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:11.859  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:30:12.191  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:30:12.194  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:12.199  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:30:16.821  INFO 20733 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/38 method = DELETE
2022-10-28 16:30:16.824  INFO 20733 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:17.486  INFO 20733 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/38 method = DELETE
2022-10-28 16:30:17.489  INFO 20733 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:17.509 ERROR 20733 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '38'
2022-10-28 16:30:17.511  WARN 20733 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:30:17.867  INFO 20733 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/38 method = DELETE
2022-10-28 16:30:17.870  INFO 20733 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:17.885 ERROR 20733 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '38'
2022-10-28 16:30:17.888  WARN 20733 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:30:18.975  INFO 20733 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/37 method = DELETE
2022-10-28 16:30:18.978  INFO 20733 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:30:19.775  INFO 20733 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/36 method = DELETE
2022-10-28 16:30:19.783  INFO 20733 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:31:47.838  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/19 method = PATCH
2022-10-28 16:31:47.841  INFO 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:31:47.852  WARN 20733 --- [http-nio-8081-exec-2] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/users/19
2022-10-28 16:31:49.131  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/10 method = PATCH
2022-10-28 16:31:49.137  INFO 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :null
2022-10-28 16:31:49.141  WARN 20733 --- [http-nio-8081-exec-4] c.e.r.filter.CustomForbiddenHandler      : User:  attempted to access the protected URL: /api/v1/users/10
2022-10-28 16:31:59.629  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/10 method = PATCH
2022-10-28 16:31:59.641  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:31:59.665  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Patch user 10
2022-10-28 16:31:59.680  INFO 20733 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:34:34.902  INFO 20733 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:34:34.912  INFO 20733 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:34:34.915  INFO 20733 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:34:40.569  INFO 21244 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 21244 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:34:40.585 DEBUG 21244 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:34:40.623  INFO 21244 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:34:40.732  INFO 21244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:34:40.738  INFO 21244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:34:41.822  INFO 21244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:34:41.892  INFO 21244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2022-10-28 16:34:42.458  INFO 21244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:34:42.463  INFO 21244 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:34:42.464  INFO 21244 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:34:42.531  INFO 21244 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:34:42.531  INFO 21244 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1792 ms
2022-10-28 16:34:42.661  INFO 21244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:34:42.928  INFO 21244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:34:42.994  INFO 21244 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:34:43.014  INFO 21244 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:34:43.082  INFO 21244 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:34:43.135  INFO 21244 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:34:43.591  INFO 21244 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:34:43.596  INFO 21244 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:34:44.028  WARN 21244 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:34:44.152  INFO 21244 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d58e59b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c4ce301, org.springframework.security.web.context.SecurityContextPersistenceFilter@30084a44, org.springframework.security.web.authentication.logout.LogoutFilter@5e987921, com.example.refugeeshelter.filter.CustomAuthorizationFilter@8e2d515, com.example.refugeeshelter.filter.CustomAuthenticationFilter@42e2e7ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b4b86e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a0bba2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28fca614, org.springframework.security.web.session.SessionManagementFilter@b6efd0b, org.springframework.security.web.access.ExceptionTranslationFilter@7424c14e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@408415bc]
2022-10-28 16:34:44.493  INFO 21244 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:34:44.530  INFO 21244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:34:44.544  INFO 21244 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.404 seconds (JVM running for 5.155)
2022-10-28 16:34:46.010  INFO 21244 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:34:46.013  INFO 21244 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:34:46.020  INFO 21244 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:34:46.033  INFO 21244 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:46.084  INFO 21244 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:46.998  INFO 21244 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:47.010  INFO 21244 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:47.460  INFO 21244 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:47.463  INFO 21244 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:47.820  INFO 21244 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:47.822  INFO 21244 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:48.252  INFO 21244 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:48.256  INFO 21244 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:48.645  INFO 21244 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:48.647  INFO 21244 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:48.966  INFO 21244 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:48.969  INFO 21244 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:49.318  INFO 21244 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:49.321  INFO 21244 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:51.738  INFO 21244 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:51.742  INFO 21244 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:34:52.039  INFO 21244 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/11 method = PATCH
2022-10-28 16:34:52.043  INFO 21244 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:36:34.749  INFO 21244 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:36:34.761  INFO 21244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:36:34.765  INFO 21244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:36:46.635  INFO 21461 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 21461 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:36:46.636 DEBUG 21461 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:36:46.640  INFO 21461 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:36:46.700  INFO 21461 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:36:46.700  INFO 21461 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:36:47.802  INFO 21461 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:36:47.896  INFO 21461 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 4 JPA repository interfaces.
2022-10-28 16:36:48.565  INFO 21461 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:36:48.572  INFO 21461 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:36:48.572  INFO 21461 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:36:48.633  INFO 21461 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:36:48.633  INFO 21461 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1932 ms
2022-10-28 16:36:48.774  INFO 21461 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:36:49.070  INFO 21461 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:36:49.189  INFO 21461 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:36:49.210  INFO 21461 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:36:49.294  INFO 21461 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:36:49.363  INFO 21461 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:36:49.852  INFO 21461 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:36:49.858  INFO 21461 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:36:50.356  WARN 21461 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:36:50.512  INFO 21461 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@230198c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47988ebc, org.springframework.security.web.context.SecurityContextPersistenceFilter@7eb2a4ab, org.springframework.security.web.authentication.logout.LogoutFilter@79918022, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5e41ad69, com.example.refugeeshelter.filter.CustomAuthenticationFilter@600f4f45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61a0ffda, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@285e2e84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f671415, org.springframework.security.web.session.SessionManagementFilter@f36d0a1, org.springframework.security.web.access.ExceptionTranslationFilter@6f7345b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bdda2e8]
2022-10-28 16:36:50.987  INFO 21461 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:36:51.026  INFO 21461 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:36:51.038  INFO 21461 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.923 seconds (JVM running for 5.922)
2022-10-28 16:36:51.456  INFO 21461 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:36:51.458  INFO 21461 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:36:51.463  INFO 21461 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 16:36:51.475  INFO 21461 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:36:51.572  INFO 21461 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:36:51.661  INFO 21461 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:36:52.727  INFO 21461 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:36:52.740  INFO 21461 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:36:52.750  INFO 21461 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:36:58.641  INFO 21461 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/ method = POST
2022-10-28 16:36:58.645  INFO 21461 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:36:58.729  INFO 21461 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Saving user max@gmail.com to the database
2022-10-28 16:37:01.328  INFO 21461 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5 method = PUT
2022-10-28 16:37:01.342  INFO 21461 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:37:04.773  INFO 21461 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/36 method = DELETE
2022-10-28 16:37:04.782  INFO 21461 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:37:04.812 ERROR 21461 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find user with id: '36'
2022-10-28 16:37:04.823  WARN 21461 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 16:37:10.154  INFO 21461 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/39 method = DELETE
2022-10-28 16:37:10.157  INFO 21461 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:37:26.095  INFO 21461 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:37:26.106 ERROR 21461 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:37:41.007  INFO 21461 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:37:41.016 ERROR 21461 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:38:09.081  INFO 21461 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:38:09.085  INFO 21461 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:38:09.796  INFO 21461 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:38:09.798  INFO 21461 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:38:10.352  INFO 21461 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:38:10.354  INFO 21461 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:38:13.094  INFO 21461 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:38:13.102 ERROR 21461 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:40:11.900  INFO 21461 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 16:40:11.902  INFO 21461 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:40:14.982  INFO 21461 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:40:14.987 ERROR 21461 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:40:15.463  INFO 21461 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:40:15.464 ERROR 21461 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:40:15.916  INFO 21461 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:40:15.918 ERROR 21461 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:40:22.966  INFO 21461 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:22.967  INFO 21461 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:40:25.584  INFO 21461 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:25.590  INFO 21461 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 16:40:27.264  INFO 21461 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:40:27.294  INFO 21461 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:40:27.303  INFO 21461 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:40:31.608  INFO 21860 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 21860 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:40:31.609 DEBUG 21860 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:40:31.611  INFO 21860 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:40:31.666  INFO 21860 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:40:31.666  INFO 21860 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:40:32.524  INFO 21860 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:40:32.590  INFO 21860 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 16:40:33.163  INFO 21860 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:40:33.169  INFO 21860 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:40:33.169  INFO 21860 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:40:33.226  INFO 21860 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:40:33.226  INFO 21860 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1559 ms
2022-10-28 16:40:33.382  INFO 21860 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:40:33.637  INFO 21860 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:40:33.757  INFO 21860 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:40:33.777  INFO 21860 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:40:33.857  INFO 21860 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:40:33.922  INFO 21860 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:40:34.474  INFO 21860 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:40:34.480  INFO 21860 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:40:34.930  WARN 21860 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:40:35.057  INFO 21860 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5645eb45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f4a27af, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a2011, org.springframework.security.web.authentication.logout.LogoutFilter@6c550be, com.example.refugeeshelter.filter.CustomAuthorizationFilter@66588ea5, com.example.refugeeshelter.filter.CustomAuthenticationFilter@65ecb508, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a4f5a2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26a95f54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c8a6533, org.springframework.security.web.session.SessionManagementFilter@33f8ff52, org.springframework.security.web.access.ExceptionTranslationFilter@42d397dd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cb886ee]
2022-10-28 16:40:35.405  INFO 21860 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:40:35.442  INFO 21860 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:40:35.459  INFO 21860 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.213 seconds (JVM running for 4.984)
2022-10-28 16:40:36.613  INFO 21860 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:40:36.616  INFO 21860 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:40:36.622  INFO 21860 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:40:36.638  INFO 21860 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:36.639  INFO 21860 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:40:36.884  INFO 21860 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:36.886  INFO 21860 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:40:37.553  INFO 21860 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:37.554  INFO 21860 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Access error 401
2022-10-28 16:40:39.334  INFO 21860 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:39.404  INFO 21860 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 16:40:39.710 ERROR 21860 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:40:39.747  WARN 21860 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:40:40.921  INFO 21860 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations method = POST
2022-10-28 16:40:40.935  INFO 21860 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 16:40:41.051 ERROR 21860 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:40:41.056  WARN 21860 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:40:58.092  INFO 21860 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:40:58.109 ERROR 21860 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:40:58.813  INFO 21860 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1 method = GET
2022-10-28 16:40:58.815 ERROR 21860 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The string '"typ":"JWT","alg":"HS256"}' doesn't have a valid JSON format.
2022-10-28 16:42:17.420  INFO 21860 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:42:17.422  INFO 21860 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:42:17.425  INFO 21860 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:42:17.426  INFO 21860 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:42:17.635  INFO 21860 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:45:11.394  INFO 21860 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:45:11.396  INFO 21860 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:45:12.226  INFO 21860 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:45:12.229  INFO 21860 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:45:13.004  INFO 21860 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:45:13.011  INFO 21860 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:07.177  INFO 21860 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:52:07.192  INFO 21860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:52:07.198  INFO 21860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:52:12.229  INFO 23022 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 23022 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:52:12.231 DEBUG 23022 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:52:12.233  INFO 23022 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:52:12.280  INFO 23022 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:52:12.280  INFO 23022 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:52:13.186  INFO 23022 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:52:13.255  INFO 23022 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 16:52:13.839  INFO 23022 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:52:13.845  INFO 23022 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:52:13.845  INFO 23022 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:52:13.902  INFO 23022 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:52:13.903  INFO 23022 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1623 ms
2022-10-28 16:52:14.032  INFO 23022 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:52:14.268  INFO 23022 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:52:14.338  INFO 23022 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:52:14.359  INFO 23022 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:52:14.424  INFO 23022 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:52:14.481  INFO 23022 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:52:14.946  INFO 23022 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:52:14.952  INFO 23022 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:52:15.413  WARN 23022 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:52:15.547  INFO 23022 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b8d0125, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1766c378, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d613908, org.springframework.security.web.authentication.logout.LogoutFilter@5a3ad15a, com.example.refugeeshelter.filter.CustomAuthorizationFilter@2e50798, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3ed5ada5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@441470b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@338fe427, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d221773, org.springframework.security.web.session.SessionManagementFilter@763fe27, org.springframework.security.web.access.ExceptionTranslationFilter@3fa15c08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6eefec56]
2022-10-28 16:52:15.840  INFO 23022 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:52:15.900  INFO 23022 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:52:15.928  INFO 23022 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.098 seconds (JVM running for 4.866)
2022-10-28 16:52:38.664  INFO 23022 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:52:38.667  INFO 23022 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:52:38.673  INFO 23022 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:52:38.684  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:52:38.685  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:54.719  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:52:54.720  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:54.772  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:52:56.352  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:52:56.354  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:56.372  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:52:56.915  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:52:56.916  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:56.931  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:52:59.168  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:52:59.169  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:52:59.175  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:53:08.669  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 16:53:08.690  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:53:08.708  WARN 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/1/rooms
2022-10-28 16:53:09.686  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 16:53:09.688  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:53:09.692  WARN 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/1/rooms
2022-10-28 16:53:24.452  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:53:24.456  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:53:24.465  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:53:25.291  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 16:53:25.302  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 16:53:25.316  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Fetching all users from database
2022-10-28 16:53:35.217  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:53:35.221  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:53:35.242  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:53:35.773  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:53:35.774  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:53:35.779  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:53:36.259  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/token/refresh method = GET
2022-10-28 16:53:36.259  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:53:36.268  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : Fetching user ivan from database
2022-10-28 16:55:26.466  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:26.468  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:26.470  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 16:55:26.472  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:26.674 ERROR 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:522) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:162) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$e3ac775a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 16:55:27.003  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:27.004  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:27.005  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 16:55:27.005  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:27.093 ERROR 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:162) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$e3ac775a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 16:55:27.555  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:27.557  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:27.559  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 16:55:27.561  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:27.668 ERROR 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:162) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$e3ac775a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 16:55:28.048  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:28.048  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:28.048  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 16:55:28.049  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:28.146 ERROR 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:162) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$e3ac775a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 16:55:28.561  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:28.561  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:28.562  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 16:55:28.562  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:28.695 ERROR 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:162) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$e3ac775a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 16:55:33.683  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:33.684  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:33.684  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:55:33.684  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:33.757  INFO 23022 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:55:34.391  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:34.391  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:34.393  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:55:34.393  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:34.497  INFO 23022 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:55:34.875  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:34.876  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:34.878  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:55:34.878  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:34.938  INFO 23022 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:55:35.425  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:35.427  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:35.427  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:55:35.428  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:35.510  INFO 23022 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:55:39.575  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:39.578  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:39.579  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 16:55:39.580  INFO 23022 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:39.592 ERROR 23022 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 16:55:40.586  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:40.588  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:40.591  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 16:55:40.593  INFO 23022 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:40.606 ERROR 23022 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 16:55:45.363  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:55:45.367  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:55:45.369  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:55:45.369  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:55:45.437  INFO 23022 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:56:11.285  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:56:11.286  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:56:11.401  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Patch user 40
2022-10-28 16:56:11.405  INFO 23022 --- [http-nio-8081-exec-8] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:56:11.918  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:56:11.921  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:56:11.943  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Patch user 41
2022-10-28 16:56:11.946  INFO 23022 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:56:12.534  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:56:12.538  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:56:12.558  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Patch user 42
2022-10-28 16:56:12.560  INFO 23022 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:58:21.128  INFO 23022 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:58:21.143  INFO 23022 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 16:58:21.147  INFO 23022 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 16:58:25.914  INFO 23646 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 23646 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 16:58:25.915 DEBUG 23646 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 16:58:25.918  INFO 23646 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 16:58:25.983  INFO 23646 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 16:58:25.984  INFO 23646 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 16:58:26.862  INFO 23646 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 16:58:26.923  INFO 23646 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2022-10-28 16:58:27.670  INFO 23646 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 16:58:27.676  INFO 23646 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 16:58:27.676  INFO 23646 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 16:58:27.739  INFO 23646 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 16:58:27.740  INFO 23646 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1755 ms
2022-10-28 16:58:27.866  INFO 23646 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 16:58:28.105  INFO 23646 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 16:58:28.167  INFO 23646 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 16:58:28.187  INFO 23646 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 16:58:28.255  INFO 23646 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 16:58:28.312  INFO 23646 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 16:58:28.828  INFO 23646 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 16:58:28.856  INFO 23646 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 16:58:29.333  WARN 23646 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 16:58:29.466  INFO 23646 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5526568d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8625ad5, org.springframework.security.web.context.SecurityContextPersistenceFilter@19dc47b2, org.springframework.security.web.authentication.logout.LogoutFilter@2ed158e8, com.example.refugeeshelter.filter.CustomAuthorizationFilter@1786b065, com.example.refugeeshelter.filter.CustomAuthenticationFilter@3a3d377a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@338fe427, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@737aa484, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d488c8e, org.springframework.security.web.session.SessionManagementFilter@53676cb6, org.springframework.security.web.access.ExceptionTranslationFilter@441470b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65f64a5f]
2022-10-28 16:58:29.882  INFO 23646 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 16:58:29.933  INFO 23646 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 16:58:29.948  INFO 23646 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.402 seconds (JVM running for 5.155)
2022-10-28 16:58:36.453  INFO 23646 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 16:58:36.455  INFO 23646 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 16:58:36.461  INFO 23646 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 16:58:36.475  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:36.476  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:58:36.847 ERROR 23646 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:58:55.599  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:55.603  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:58:55.700  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Patch user 43
2022-10-28 16:58:55.706  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:58:57.984  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:57.985  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:58:58.138 ERROR 23646 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:58:58.151  WARN 23646 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:58:59.025  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:59.026  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:58:59.155 ERROR 23646 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:58:59.159  WARN 23646 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:58:59.521  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:59.521  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:58:59.645 ERROR 23646 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:58:59.647  WARN 23646 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:58:59.979  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:58:59.979  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:00.099 ERROR 23646 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:00.103  WARN 23646 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:00.471  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:00.471  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:00.540 ERROR 23646 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:00.542  WARN 23646 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:00.977  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:00.984  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:01.047 ERROR 23646 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:01.051  WARN 23646 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:03.035  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:03.036  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:03.155 ERROR 23646 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:59:03.785  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:03.789  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:03.921 ERROR 23646 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:59:04.227  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:04.228  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:04.337 ERROR 23646 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:59:04.668  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:04.669  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:04.771 ERROR 23646 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:59:05.065  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:05.066  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:05.182 ERROR 23646 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$481481b7.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 16:59:07.766  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:07.771  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:07.908 ERROR 23646 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:07.911  WARN 23646 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:08.515  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:08.516  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:08.620 ERROR 23646 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:08.622  WARN 23646 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:08.909  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:08.910  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:09.017 ERROR 23646 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:09.020  WARN 23646 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:09.245  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:09.246  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:09.320 ERROR 23646 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:09.323  WARN 23646 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:09.630  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:09.631  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:09.705 ERROR 23646 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:09.707  WARN 23646 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:09.967  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:09.968  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:10.076 ERROR 23646 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:10.081  WARN 23646 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:10.294  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:10.294  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:10.383 ERROR 23646 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:10.386  WARN 23646 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:10.609  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:10.610  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:10.667 ERROR 23646 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:10.668  WARN 23646 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:10.976  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:10.976  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:11.064 ERROR 23646 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:11.068  WARN 23646 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:11.321  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:11.322  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:11.383 ERROR 23646 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:11.386  WARN 23646 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:11.648  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:11.649  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:11.706 ERROR 23646 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:11.709  WARN 23646 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:12.043  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:12.046  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:12.138 ERROR 23646 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:12.140  WARN 23646 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:12.336  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:12.336  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:12.405 ERROR 23646 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:12.431  WARN 23646 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:12.681  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:12.682  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:12.760 ERROR 23646 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:12.775  WARN 23646 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:13.047  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:13.048  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:13.128 ERROR 23646 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:13.133  WARN 23646 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:13.392  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:13.396  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:13.474 ERROR 23646 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:13.475  WARN 23646 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:13.749  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:13.751  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:13.822 ERROR 23646 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:13.823  WARN 23646 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:14.103  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:14.104  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:14.183 ERROR 23646 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:14.185  WARN 23646 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:14.454  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:14.454  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:14.521 ERROR 23646 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:14.523  WARN 23646 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:14.795  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:14.796  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:14.862 ERROR 23646 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:14.864  WARN 23646 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:18.029  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:18.029  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:18.061  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Patch user 44
2022-10-28 16:59:18.064  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:59:18.654  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:18.655  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:18.711 ERROR 23646 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:18.713  WARN 23646 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:19.050  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:19.050  INFO 23646 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:19.116 ERROR 23646 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:19.118  WARN 23646 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:19.471  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:19.473  INFO 23646 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:19.534 ERROR 23646 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:19.538  WARN 23646 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:19.790  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:19.790  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:19.843 ERROR 23646 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:19.845  WARN 23646 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:20.106  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:20.107  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:20.184 ERROR 23646 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:20.187  WARN 23646 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:20.550  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:20.551  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:20.602 ERROR 23646 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:20.603  WARN 23646 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:23.041  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:23.049  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:23.076  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Patch user 45
2022-10-28 16:59:23.077  INFO 23646 --- [http-nio-8081-exec-9] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 16:59:24.121  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 16:59:24.124  INFO 23646 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:24.221 ERROR 23646 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Error in date logic please check...
2022-10-28 16:59:24.227  WARN 23646 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.LogicException]
2022-10-28 16:59:37.911  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:59:37.915  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:37.919  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:59:37.924  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:59:38.077  INFO 23646 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 16:59:39.608  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:59:39.609  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:39.610  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan1, user
2022-10-28 16:59:39.611  INFO 23646 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan1, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:59:39.617 ERROR 23646 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 16:59:41.981  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 16:59:41.981  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 16:59:41.981  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 16:59:41.981  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 16:59:42.035  INFO 23646 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:01:22.055  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:01:22.056  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:01:22.056  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:01:22.057  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:01:22.119  INFO 23646 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:01:22.850  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:01:22.851  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:01:22.852  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:01:22.852  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:01:22.906  INFO 23646 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:01:24.953  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:01:24.954  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:01:24.954  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:01:24.954  INFO 23646 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:01:24.968 ERROR 23646 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:04:07.875  INFO 23646 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:04:07.892  INFO 23646 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:04:07.896  INFO 23646 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:04:13.736  INFO 24253 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 24253 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:04:13.737 DEBUG 24253 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:04:13.739  INFO 24253 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:04:13.781  INFO 24253 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:04:13.781  INFO 24253 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:04:15.058  INFO 24253 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:04:15.128  INFO 24253 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 4 JPA repository interfaces.
2022-10-28 17:04:15.701  INFO 24253 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:04:15.707  INFO 24253 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:04:15.707  INFO 24253 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:04:15.769  INFO 24253 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:04:15.770  INFO 24253 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1988 ms
2022-10-28 17:04:15.901  INFO 24253 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:04:16.147  INFO 24253 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:04:16.218  INFO 24253 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:04:16.236  INFO 24253 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:04:16.298  INFO 24253 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:04:16.358  INFO 24253 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:04:16.815  INFO 24253 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:04:16.820  INFO 24253 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:04:17.260  WARN 24253 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:04:17.386  INFO 24253 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@551dfc32, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f99961b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f0c209c, org.springframework.security.web.authentication.logout.LogoutFilter@3b52f7f7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@7b035ed7, com.example.refugeeshelter.filter.CustomAuthenticationFilter@64c415c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6274d9f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e87ee82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e02990e, org.springframework.security.web.session.SessionManagementFilter@62816e55, org.springframework.security.web.access.ExceptionTranslationFilter@51914c4a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@732d7631]
2022-10-28 17:04:17.735  INFO 24253 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:04:17.767  INFO 24253 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:04:17.779  INFO 24253 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.475 seconds (JVM running for 5.421)
2022-10-28 17:04:24.394  INFO 24253 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:04:24.395  INFO 24253 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:04:24.401  INFO 24253 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 17:04:24.411  INFO 24253 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:04:24.412  INFO 24253 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:04:24.414  INFO 24253 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:04:24.415  INFO 24253 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:04:24.710  INFO 24253 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:04:25.554  INFO 24253 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:04:25.555  INFO 24253 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:04:25.556  INFO 24253 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:04:25.556  INFO 24253 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:04:25.681  INFO 24253 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:04:28.514  INFO 24253 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:04:28.515  INFO 24253 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:04:28.515  INFO 24253 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivandd, user
2022-10-28 17:04:28.515  INFO 24253 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivandd, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:04:28.528 ERROR 24253 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:04:29.392  INFO 24253 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:04:29.392  INFO 24253 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:04:29.393  INFO 24253 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivandd, user
2022-10-28 17:04:29.393  INFO 24253 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivandd, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:04:29.399 ERROR 24253 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:04:57.850  INFO 24253 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:04:57.860  INFO 24253 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:04:57.864  INFO 24253 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:05:02.851  INFO 24336 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 24336 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:05:02.852 DEBUG 24336 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:05:02.854  INFO 24336 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:05:02.898  INFO 24336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:05:02.898  INFO 24336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:05:04.227  INFO 24336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:05:04.295  INFO 24336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2022-10-28 17:05:04.874  INFO 24336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:05:04.880  INFO 24336 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:05:04.880  INFO 24336 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:05:04.937  INFO 24336 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:05:04.938  INFO 24336 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2038 ms
2022-10-28 17:05:05.066  INFO 24336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:05:05.301  INFO 24336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:05:05.448  INFO 24336 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:05:05.469  INFO 24336 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:05:05.564  INFO 24336 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:05:05.622  INFO 24336 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:05:06.075  INFO 24336 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:05:06.080  INFO 24336 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:05:06.652  WARN 24336 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:05:06.817  INFO 24336 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ed2a93b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@722c2f97, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ef8c4e5, org.springframework.security.web.authentication.logout.LogoutFilter@4a286132, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3e299409, com.example.refugeeshelter.filter.CustomAuthenticationFilter@129490f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ad9c727, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@366074ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69f468ee, org.springframework.security.web.session.SessionManagementFilter@7870c2c4, org.springframework.security.web.access.ExceptionTranslationFilter@66ca0598, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ec334b6]
2022-10-28 17:05:07.246  INFO 24336 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:05:07.289  INFO 24336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:05:07.308  INFO 24336 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.855 seconds (JVM running for 5.703)
2022-10-28 17:05:07.871  INFO 24336 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:05:07.873  INFO 24336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:05:07.879  INFO 24336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 17:05:07.898  INFO 24336 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:05:07.899  INFO 24336 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:05:07.910  INFO 24336 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:05:07.911  INFO 24336 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:05:08.138 ERROR 24336 --- [http-nio-8081-exec-1] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:05:08.151 ERROR 24336 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:522) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$89441ee9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:05:08.816  INFO 24336 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:05:08.818  INFO 24336 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:05:08.820  INFO 24336 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:05:08.821  INFO 24336 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:05:08.832 ERROR 24336 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:05:08.847 ERROR 24336 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$89441ee9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:05:09.300  INFO 24336 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:05:09.300  INFO 24336 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:05:09.300  INFO 24336 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:05:09.301  INFO 24336 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:05:09.306 ERROR 24336 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:05:09.321 ERROR 24336 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$89441ee9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:05:09.750  INFO 24336 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:05:09.758  INFO 24336 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:05:09.761  INFO 24336 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:05:09.762  INFO 24336 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:05:09.772 ERROR 24336 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:05:09.781 ERROR 24336 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$89441ee9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:07:49.965  INFO 24336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:07:49.979  INFO 24336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:07:49.983  INFO 24336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:07:54.672  INFO 24639 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 24639 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:07:54.673 DEBUG 24639 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:07:54.674  INFO 24639 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:07:54.733  INFO 24639 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:07:54.733  INFO 24639 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:07:55.580  INFO 24639 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:07:55.645  INFO 24639 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2022-10-28 17:07:56.205  INFO 24639 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:07:56.210  INFO 24639 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:07:56.211  INFO 24639 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:07:56.271  INFO 24639 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:07:56.272  INFO 24639 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1538 ms
2022-10-28 17:07:56.406  INFO 24639 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:07:56.755  INFO 24639 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:07:56.838  INFO 24639 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:07:56.860  INFO 24639 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:07:56.923  INFO 24639 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:07:56.994  INFO 24639 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:07:57.533  INFO 24639 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:07:57.538  INFO 24639 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:07:58.140  WARN 24639 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:07:58.280  INFO 24639 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d6d7c44, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e3a2406, org.springframework.security.web.context.SecurityContextPersistenceFilter@3296b163, org.springframework.security.web.authentication.logout.LogoutFilter@3495b476, com.example.refugeeshelter.filter.CustomAuthorizationFilter@198c4006, com.example.refugeeshelter.filter.CustomAuthenticationFilter@5950b3cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b1c24ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1870aec1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f396bff, org.springframework.security.web.session.SessionManagementFilter@193d79d4, org.springframework.security.web.access.ExceptionTranslationFilter@137428b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33f6ebd7]
2022-10-28 17:07:58.701  INFO 24639 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:07:58.738  INFO 24639 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:07:58.763  INFO 24639 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.458 seconds (JVM running for 5.197)
2022-10-28 17:07:59.185  INFO 24639 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:07:59.187  INFO 24639 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:07:59.193  INFO 24639 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 17:07:59.203  INFO 24639 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:07:59.204  INFO 24639 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:07:59.206  INFO 24639 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:07:59.206  INFO 24639 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:07:59.405 ERROR 24639 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:07:59.417 ERROR 24639 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:522) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$6c57447e.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:07:59.420 ERROR 24639 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.unsuccessfulAuthentication(CustomAuthenticationFilter.java:78) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:241) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:08:00.314  INFO 24639 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:08:00.315  INFO 24639 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:08:00.316  INFO 24639 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:08:00.317  INFO 24639 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:08:00.325 ERROR 24639 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:08:00.335 ERROR 24639 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:167) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$6c57447e.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted

2022-10-28 17:08:00.343 ERROR 24639 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.unsuccessfulAuthentication(CustomAuthenticationFilter.java:78) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:241) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:08:25.537  INFO 24639 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:08:25.542  INFO 24639 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:08:25.545  INFO 24639 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:08:31.959  INFO 24707 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 24707 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:08:31.960 DEBUG 24707 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:08:31.964  INFO 24707 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:08:32.027  INFO 24707 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:08:32.027  INFO 24707 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:08:33.174  INFO 24707 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:08:33.266  INFO 24707 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 4 JPA repository interfaces.
2022-10-28 17:08:33.904  INFO 24707 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:08:33.910  INFO 24707 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:08:33.910  INFO 24707 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:08:33.969  INFO 24707 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:08:33.970  INFO 24707 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1942 ms
2022-10-28 17:08:34.120  INFO 24707 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:08:34.420  INFO 24707 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:08:34.493  INFO 24707 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:08:34.518  INFO 24707 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:08:34.596  INFO 24707 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:08:34.680  INFO 24707 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:08:35.188  INFO 24707 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:08:35.193  INFO 24707 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:08:35.679  WARN 24707 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:08:35.879  INFO 24707 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d58e59b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c4ce301, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b4b86e, org.springframework.security.web.authentication.logout.LogoutFilter@35afab52, com.example.refugeeshelter.filter.CustomAuthorizationFilter@8e2d515, com.example.refugeeshelter.filter.CustomAuthenticationFilter@42e2e7ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34e35a4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@83aa16b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28fca614, org.springframework.security.web.session.SessionManagementFilter@30084a44, org.springframework.security.web.access.ExceptionTranslationFilter@b6efd0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@408415bc]
2022-10-28 17:08:36.289  INFO 24707 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:08:36.323  INFO 24707 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:08:36.334  INFO 24707 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.917 seconds (JVM running for 5.846)
2022-10-28 17:08:36.691  INFO 24707 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:08:36.694  INFO 24707 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:08:36.700  INFO 24707 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 17:08:36.711  INFO 24707 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:08:36.712  INFO 24707 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:08:36.714  INFO 24707 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:08:36.714  INFO 24707 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:08:36.931 ERROR 24707 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:08:37.029 ERROR 24707 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.unsuccessfulAuthentication(CustomAuthenticationFilter.java:76) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:08:37.972  INFO 24707 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:08:37.974  INFO 24707 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:08:37.975  INFO 24707 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:08:37.977  INFO 24707 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:08:37.986 ERROR 24707 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:08:38.111 ERROR 24707 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.refugeeshelter.exceptions.UserNotFoundException: null
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.unsuccessfulAuthentication(CustomAuthenticationFilter.java:76) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:09:52.419  INFO 24707 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:09:52.431  INFO 24707 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:09:52.435  INFO 24707 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:09:57.460  INFO 24864 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 24864 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:09:57.461 DEBUG 24864 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:09:57.464  INFO 24864 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:09:57.521  INFO 24864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:09:57.522  INFO 24864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:09:58.420  INFO 24864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:09:58.486  INFO 24864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2022-10-28 17:09:59.087  INFO 24864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:09:59.094  INFO 24864 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:09:59.095  INFO 24864 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:09:59.159  INFO 24864 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:09:59.160  INFO 24864 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1638 ms
2022-10-28 17:09:59.298  INFO 24864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:09:59.538  INFO 24864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:09:59.604  INFO 24864 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:09:59.623  INFO 24864 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:09:59.694  INFO 24864 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:09:59.752  INFO 24864 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:10:00.212  INFO 24864 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:10:00.217  INFO 24864 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:10:00.673  WARN 24864 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:10:00.809  INFO 24864 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bce4111, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10856c91, org.springframework.security.web.context.SecurityContextPersistenceFilter@70563b9e, org.springframework.security.web.authentication.logout.LogoutFilter@6709b81f, com.example.refugeeshelter.filter.CustomAuthorizationFilter@4f978053, com.example.refugeeshelter.filter.CustomAuthenticationFilter@57542f9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24fb86dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@631276f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ebb3aae, org.springframework.security.web.session.SessionManagementFilter@620c5f59, org.springframework.security.web.access.ExceptionTranslationFilter@7dc8e91a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43bee18f]
2022-10-28 17:10:01.274  INFO 24864 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:10:01.314  INFO 24864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:10:01.334  INFO 24864 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.321 seconds (JVM running for 5.221)
2022-10-28 17:11:22.156  INFO 24864 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:11:22.168  INFO 24864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:11:22.172  INFO 24864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:11:27.037  INFO 25033 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 25033 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:11:27.038 DEBUG 25033 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:11:27.040  INFO 25033 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:11:27.099  INFO 25033 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:11:27.099  INFO 25033 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:11:28.285  INFO 25033 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:11:28.362  INFO 25033 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 4 JPA repository interfaces.
2022-10-28 17:11:29.186  INFO 25033 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:11:29.192  INFO 25033 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:11:29.193  INFO 25033 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:11:29.279  INFO 25033 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:11:29.279  INFO 25033 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2179 ms
2022-10-28 17:11:29.414  INFO 25033 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:11:29.682  INFO 25033 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:11:29.779  INFO 25033 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:11:29.813  INFO 25033 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:11:29.916  INFO 25033 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:11:29.982  INFO 25033 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:11:30.487  INFO 25033 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:11:30.492  INFO 25033 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:11:30.982  WARN 25033 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:11:31.148  INFO 25033 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@749066b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33f6ebd7, org.springframework.security.web.context.SecurityContextPersistenceFilter@366074ed, org.springframework.security.web.authentication.logout.LogoutFilter@d52dfb7, com.example.refugeeshelter.filter.CustomAuthorizationFilter@5c17939a, com.example.refugeeshelter.filter.CustomAuthenticationFilter@2cda9fbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29d259c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31b746ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b88f14c, org.springframework.security.web.session.SessionManagementFilter@572ba6e7, org.springframework.security.web.access.ExceptionTranslationFilter@6d0c4ee3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@486a911f]
2022-10-28 17:11:31.592  INFO 25033 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:11:31.637  INFO 25033 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:11:31.651  INFO 25033 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 5.111 seconds (JVM running for 5.925)
2022-10-28 17:11:32.100  INFO 25033 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:11:32.105  INFO 25033 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:11:32.110  INFO 25033 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-10-28 17:11:32.120  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:11:32.120  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:11:32.123  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:11:32.124  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:11:32.331 ERROR 25033 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:11:33.278  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:11:33.279  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:11:33.280  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:11:33.280  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:11:33.289 ERROR 25033 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:11:34.177  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:11:34.177  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:11:34.177  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:11:34.178  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:11:34.186 ERROR 25033 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:11:38.262  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:11:38.263  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:11:38.263  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:11:38.263  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:11:38.268 ERROR 25033 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:12:16.081  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = GET
2022-10-28 17:12:16.085  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:12:18.372  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 17:12:18.459 ERROR 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:20.759  INFO 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users method = GET
2022-10-28 17:12:20.764 ERROR 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:24.933  INFO 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:12:24.939 ERROR 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:26.395  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/3/rooms method = GET
2022-10-28 17:12:26.399 ERROR 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:26.914  INFO 25033 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/rooms method = GET
2022-10-28 17:12:26.917 ERROR 25033 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:27.485  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 17:12:27.487 ERROR 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:28.154  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6/rooms method = GET
2022-10-28 17:12:28.159 ERROR 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:12:38.839  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:12:38.839  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:12:38.841  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : user, user
2022-10-28 17:12:38.841  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:12:39.075 ERROR 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.3.jar:5.7.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:514) ~[spring-security-config-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:43) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) [classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) [spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:163) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$8777d4c5.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.7.3.jar:5.7.3]
	... 57 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	... 78 common frames omitted

2022-10-28 17:12:41.357  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:12:41.361  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:12:41.363  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivand, user
2022-10-28 17:12:41.364  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivand, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:12:41.378 ERROR 25033 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User not found in the database
2022-10-28 17:12:49.975  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:12:49.977  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:12:49.978  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:12:49.978  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:12:50.114  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:13:09.523  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = GET
2022-10-28 17:13:09.525  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:13:10.585  INFO 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = GET
2022-10-28 17:13:10.585  INFO 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:13:15.563  INFO 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6/rooms method = GET
2022-10-28 17:13:15.568 ERROR 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Error logging in: The Token has expired on 2022-10-28T14:02:59Z.
2022-10-28 17:13:20.328  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6/rooms method = GET
2022-10-28 17:13:20.335  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:20.350  WARN 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/6/rooms
2022-10-28 17:13:21.105  INFO 25033 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6/rooms method = GET
2022-10-28 17:13:21.109  INFO 25033 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:21.115  WARN 25033 --- [http-nio-8081-exec-1] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/6/rooms
2022-10-28 17:13:24.392  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:13:24.411  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:24.415  WARN 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/2/rooms
2022-10-28 17:13:25.162  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 17:13:25.168  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:25.170  WARN 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/1/rooms
2022-10-28 17:13:25.924  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/4/rooms method = GET
2022-10-28 17:13:25.929  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:25.931  WARN 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/4/rooms
2022-10-28 17:13:26.439  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/5/rooms method = GET
2022-10-28 17:13:26.446  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:26.448  WARN 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/5/rooms
2022-10-28 17:13:27.105  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/6/rooms method = GET
2022-10-28 17:13:27.110  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:27.111  WARN 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/6/rooms
2022-10-28 17:13:27.710  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/7/rooms method = GET
2022-10-28 17:13:27.712  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:27.713  WARN 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/7/rooms
2022-10-28 17:13:29.540  INFO 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/8/rooms method = GET
2022-10-28 17:13:29.557  INFO 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :3
2022-10-28 17:13:29.563  WARN 25033 --- [http-nio-8081-exec-8] c.e.r.filter.CustomForbiddenHandler      : User: 3 attempted to access the protected URL: /api/v1/users/8/rooms
2022-10-28 17:13:45.326  INFO 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 17:13:45.327  INFO 25033 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:13:45.541 ERROR 25033 --- [http-nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 11; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 11] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 11
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.3.jar:2.7.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.sun.proxy.$Proxy130.findByUsername(Unknown Source) ~[na:na]
	at com.example.refugeeshelter.service.UserServiceImpl.registerUser(UserServiceImpl.java:87) ~[classes/:na]
	at com.example.refugeeshelter.service.UserServiceImpl$$FastClassBySpringCGLIB$$372d30f4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.23.jar:5.3.23]
	at com.example.refugeeshelter.service.UserServiceImpl$$EnhancerBySpringCGLIB$$8777d4c5.registerUser(<generated>) ~[classes/:na]
	at com.example.refugeeshelter.controllers.UserController.registerUser(UserController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at com.example.refugeeshelter.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:13:54.412  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 17:13:54.412  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:13:54.472  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Patch user 46
2022-10-28 17:13:54.474  INFO 25033 --- [http-nio-8081-exec-10] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 17:14:05.469  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:05.471  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:05.475  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : Username is : user0, user0
2022-10-28 17:14:05.475  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user0, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:05.550  INFO 25033 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : User found in the database user0 user0
2022-10-28 17:14:05.559  WARN 25033 --- [http-nio-8081-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-10-28 17:14:09.962  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:09.962  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:09.965  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : user0, user0
2022-10-28 17:14:09.967  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user0, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:10.082  INFO 25033 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User found in the database user0 user0
2022-10-28 17:14:10.090  WARN 25033 --- [http-nio-8081-exec-3] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-10-28 17:14:16.164  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:16.166  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:16.167  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : Username is : ivan, user
2022-10-28 17:14:16.168  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=ivan, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:16.275  INFO 25033 --- [http-nio-8081-exec-4] c.e.r.service.UserServiceImpl            : User found in the database ivan $2a$10$FqAgCiDzX9W62MMJLV5zqeSSx6i1Tu0NmgVXxWoJ.GIcvgbWNL3LS
2022-10-28 17:14:19.194  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:19.195  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:19.196  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : Username is : user0, user0
2022-10-28 17:14:19.196  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user0, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:19.276  INFO 25033 --- [http-nio-8081-exec-5] c.e.r.service.UserServiceImpl            : User found in the database user0 user0
2022-10-28 17:14:19.284  WARN 25033 --- [http-nio-8081-exec-5] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-10-28 17:14:19.728  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:19.729  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:19.729  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : Username is : user0, user0
2022-10-28 17:14:19.729  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user0, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:19.860  INFO 25033 --- [http-nio-8081-exec-6] c.e.r.service.UserServiceImpl            : User found in the database user0 user0
2022-10-28 17:14:19.874  WARN 25033 --- [http-nio-8081-exec-6] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-10-28 17:14:20.334  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:14:20.334  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:14:20.335  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : Username is : user0, user0
2022-10-28 17:14:20.337  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user0, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:14:20.451  INFO 25033 --- [http-nio-8081-exec-7] c.e.r.service.UserServiceImpl            : User found in the database user0 user0
2022-10-28 17:14:20.456  WARN 25033 --- [http-nio-8081-exec-7] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-10-28 17:16:40.099  INFO 25033 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:16:40.113  INFO 25033 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 17:16:40.118  INFO 25033 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 17:16:44.856  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 25557 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 17:16:44.857 DEBUG 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 17:16:44.859  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 17:16:44.903  INFO 25557 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-10-28 17:16:44.904  INFO 25557 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-10-28 17:16:45.749  INFO 25557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 17:16:45.849  INFO 25557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 94 ms. Found 4 JPA repository interfaces.
2022-10-28 17:16:46.430  INFO 25557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 17:16:46.436  INFO 25557 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 17:16:46.436  INFO 25557 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 17:16:46.499  INFO 25557 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 17:16:46.499  INFO 25557 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1595 ms
2022-10-28 17:16:46.588  INFO 25557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-10-28 17:16:46.841  INFO 25557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-10-28 17:16:46.914  INFO 25557 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 17:16:46.949  INFO 25557 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final
2022-10-28 17:16:47.022  INFO 25557 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 17:16:47.082  INFO 25557 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 17:16:47.545  INFO 25557 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 17:16:47.550  INFO 25557 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 17:16:47.984  WARN 25557 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 17:16:48.117  INFO 25557 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42e2e7ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28fca614, org.springframework.security.web.context.SecurityContextPersistenceFilter@34e35a4b, org.springframework.security.web.authentication.logout.LogoutFilter@62e97d87, com.example.refugeeshelter.filter.CustomAuthorizationFilter@3831ce1, com.example.refugeeshelter.filter.CustomAuthenticationFilter@1d572bf9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@195756f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f6c5f54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48df722a, org.springframework.security.web.session.SessionManagementFilter@2b4b86e, org.springframework.security.web.access.ExceptionTranslationFilter@30084a44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b1e3e14]
2022-10-28 17:16:48.418  INFO 25557 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 17:16:48.482  INFO 25557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 17:16:48.528  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 4.051 seconds (JVM running for 4.829)
2022-10-28 17:16:49.903  INFO 25557 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 17:16:49.906  INFO 25557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-10-28 17:16:49.912  INFO 25557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-10-28 17:16:49.926  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/register method = POST
2022-10-28 17:16:49.927  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:16:50.272  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Patch user 47
2022-10-28 17:16:50.277  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.service.UserServiceImpl            : Role =ROLE_USER
2022-10-28 17:16:56.343  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/login method = POST
2022-10-28 17:16:56.346  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 17:16:56.350  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : Username is : user10, user10
2022-10-28 17:16:56.351  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthenticationFilter  : UsernamePasswordAuthenticationToken [Principal=user10, Credentials=[PROTECTED], Authenticated=false, Details=null, Granted Authorities=[]]
2022-10-28 17:16:56.546  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.service.UserServiceImpl            : User found in the database user10 $2a$10$BtvX8P0T/4fl2UN5IvUpyeHvaMLQ/psznwbGJoye9y5S0rf7cSwDy
2022-10-28 17:17:06.165  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/8/rooms method = GET
2022-10-28 17:17:06.227  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:07.030  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/8/rooms method = GET
2022-10-28 17:17:07.033  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:07.660  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/8/rooms method = GET
2022-10-28 17:17:07.664  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:08.369  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/8/rooms method = GET
2022-10-28 17:17:08.371  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:10.182  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/1/rooms method = GET
2022-10-28 17:17:10.185  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:10.901  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:17:10.904  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:17:11.504 ERROR 25557 --- [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:206) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]

2022-10-28 17:17:13.738  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:17:13.748  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:45:09.919  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:45:09.933  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:45:10.246  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/users/2/rooms method = GET
2022-10-28 17:45:10.254  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :47
2022-10-28 17:45:13.112  WARN 25557 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m53s395ms).
2022-10-28 17:46:22.593  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms method = GET
2022-10-28 17:46:22.594  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:01:57.554  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 18:01:57.566  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:01:57.640 ERROR 25557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 18:01:57.654  WARN 25557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:01:58.602  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 18:01:58.619  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:01:58.652 ERROR 25557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 18:01:58.656  WARN 25557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:01:59.426  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3 method = DELETE
2022-10-28 18:01:59.429  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:01:59.539 ERROR 25557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 18:01:59.542  WARN 25557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 18:02:02.292  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/114 method = DELETE
2022-10-28 18:02:02.295  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:02:02.396 ERROR 25557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 18:02:02.413  WARN 25557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 18:02:04.682  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/112 method = DELETE
2022-10-28 18:02:04.687  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:02:04.817 ERROR 25557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot delete room with id = 112, because this room was reserved
2022-10-28 18:02:04.819  WARN 25557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.RoomsDeleteLogicException]
2022-10-28 18:03:47.870  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/11 method = DELETE
2022-10-28 18:03:47.873  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:47.894 ERROR 25557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '11'
2022-10-28 18:03:47.899  WARN 25557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:48.789  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 18:03:48.793  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:48.818 ERROR 25557 --- [http-nio-8081-exec-9] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 18:03:48.821  WARN 25557 --- [http-nio-8081-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:49.468  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/13 method = DELETE
2022-10-28 18:03:49.472  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:49.494 ERROR 25557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '13'
2022-10-28 18:03:49.497  WARN 25557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:50.526  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/14 method = DELETE
2022-10-28 18:03:50.532  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:50.556 ERROR 25557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '14'
2022-10-28 18:03:50.559  WARN 25557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:51.058  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/15 method = DELETE
2022-10-28 18:03:51.061  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:51.079 ERROR 25557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '15'
2022-10-28 18:03:51.081  WARN 25557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:51.508  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/16 method = DELETE
2022-10-28 18:03:51.511  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:51.521 ERROR 25557 --- [http-nio-8081-exec-4] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '16'
2022-10-28 18:03:51.523  WARN 25557 --- [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:52.030  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/17 method = DELETE
2022-10-28 18:03:52.032  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:52.046 ERROR 25557 --- [http-nio-8081-exec-3] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '17'
2022-10-28 18:03:52.049  WARN 25557 --- [http-nio-8081-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:52.524  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/1 method = DELETE
2022-10-28 18:03:52.527  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:52.539 ERROR 25557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '1'
2022-10-28 18:03:52.543  WARN 25557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:53.020  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/19 method = DELETE
2022-10-28 18:03:53.025  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:53.035 ERROR 25557 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '19'
2022-10-28 18:03:53.037  WARN 25557 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:55.678  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/20 method = DELETE
2022-10-28 18:03:55.685  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:55.695 ERROR 25557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '20'
2022-10-28 18:03:55.699  WARN 25557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:03:56.227  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/21 method = DELETE
2022-10-28 18:03:56.231  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:56.893  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/22 method = DELETE
2022-10-28 18:03:56.896  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:58.351  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/23 method = DELETE
2022-10-28 18:03:58.357  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:58.999  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/24 method = DELETE
2022-10-28 18:03:59.017  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:59.863  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 18:03:59.866  INFO 25557 --- [http-nio-8081-exec-2] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:03:59.890 ERROR 25557 --- [http-nio-8081-exec-2] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 18:03:59.892  WARN 25557 --- [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:04:01.880  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/25 method = DELETE
2022-10-28 18:04:01.888  INFO 25557 --- [http-nio-8081-exec-4] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:04:02.693  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/26 method = DELETE
2022-10-28 18:04:02.696  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:23.810  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/26 method = DELETE
2022-10-28 18:05:23.815  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:23.832 ERROR 25557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '26'
2022-10-28 18:05:23.835  WARN 25557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:05:24.729  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/26 method = DELETE
2022-10-28 18:05:24.733  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:24.745 ERROR 25557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '26'
2022-10-28 18:05:24.749  WARN 25557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:05:27.260  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/27 method = DELETE
2022-10-28 18:05:27.263  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:27.831  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/2 method = DELETE
2022-10-28 18:05:27.834  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:27.845 ERROR 25557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '2'
2022-10-28 18:05:27.849  WARN 25557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:05:28.446  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/29 method = DELETE
2022-10-28 18:05:28.459  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :1
2022-10-28 18:05:28.549 ERROR 25557 --- [http-nio-8081-exec-1] c.e.r.e.RestControllerExceptionHandler   : Error with message = You have not authorities for this resource!
2022-10-28 18:05:28.552  WARN 25557 --- [http-nio-8081-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ForbiddenException]
2022-10-28 18:07:36.013  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 18:07:36.014  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:14:11.561  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 18:14:11.570  INFO 25557 --- [http-nio-8081-exec-6] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:14:11.622 ERROR 25557 --- [http-nio-8081-exec-6] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3'
2022-10-28 18:14:11.626  WARN 25557 --- [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:14:14.298  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/1 method = GET
2022-10-28 18:14:14.299  INFO 25557 --- [http-nio-8081-exec-8] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:14:14.319 ERROR 25557 --- [http-nio-8081-exec-8] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '1'
2022-10-28 18:14:14.337  WARN 25557 --- [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:14:14.880  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/ method = GET
2022-10-28 18:14:14.880  INFO 25557 --- [http-nio-8081-exec-9] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:14:15.450  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/3 method = GET
2022-10-28 18:14:15.450  INFO 25557 --- [http-nio-8081-exec-10] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:14:15.468 ERROR 25557 --- [http-nio-8081-exec-10] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '3'
2022-10-28 18:14:15.471  WARN 25557 --- [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:14:16.094  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/2 method = GET
2022-10-28 18:14:16.094  INFO 25557 --- [http-nio-8081-exec-1] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:15:40.629  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/33 method = PUT
2022-10-28 18:15:40.647  INFO 25557 --- [http-nio-8081-exec-3] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 18:16:05.030  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/reservations/333 method = PUT
2022-10-28 18:16:05.044  INFO 25557 --- [http-nio-8081-exec-5] c.e.r.filter.CustomAuthorizationFilter   : User id after authorization :5
2022-10-28 18:16:05.066 ERROR 25557 --- [http-nio-8081-exec-5] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find reservation with id: '333'
2022-10-28 18:16:05.068  WARN 25557 --- [http-nio-8081-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:16:39.984  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : servlet path = /api/v1/rooms/3333 method = GET
2022-10-28 18:16:39.992  INFO 25557 --- [http-nio-8081-exec-7] c.e.r.filter.CustomAuthorizationFilter   : Handle without parsing token...
2022-10-28 18:16:40.029 ERROR 25557 --- [http-nio-8081-exec-7] c.e.r.e.RestControllerExceptionHandler   : Error with message = Cannot find room with id: '3333'
2022-10-28 18:16:40.035  WARN 25557 --- [http-nio-8081-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.example.refugeeshelter.exceptions.ResourceNotFoundException]
2022-10-28 18:48:15.004  INFO 25557 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 49 class path changes (0 additions, 0 deletions, 49 modifications)
2022-10-28 18:48:15.024  INFO 25557 --- [Thread-6] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-10-28 18:48:15.026  INFO 25557 --- [Thread-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-28 18:48:15.048  INFO 25557 --- [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 18:48:15.064  INFO 25557 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-10-28 18:48:15.085  INFO 25557 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-10-28 18:48:15.506  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Starting RefugeeShelterApplication using Java 1.8.0_311 on MacBook-Air-Anton.local with PID 25557 (/Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter/target/classes started by akrik in /Users/akrik/Desktop/refugee_shelter/backend/RefugeeShelter)
2022-10-28 18:48:15.509 DEBUG 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Running with Spring Boot v2.7.4, Spring v5.3.23
2022-10-28 18:48:15.510  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : No active profile set, falling back to 1 default profile: "default"
2022-10-28 18:48:15.819  INFO 25557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 18:48:15.843  INFO 25557 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 4 JPA repository interfaces.
2022-10-28 18:48:16.019  INFO 25557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2022-10-28 18:48:16.021  INFO 25557 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-10-28 18:48:16.021  INFO 25557 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-28 18:48:16.033  INFO 25557 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-10-28 18:48:16.033  INFO 25557 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 513 ms
2022-10-28 18:48:16.086  INFO 25557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2022-10-28 18:48:16.141  INFO 25557 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2022-10-28 18:48:16.148  INFO 25557 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 18:48:16.154  INFO 25557 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-28 18:48:16.390  INFO 25557 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 18:48:16.390  INFO 25557 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 18:48:16.592  WARN 25557 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 18:48:16.646  INFO 25557 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c1201dc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ea3bf77, org.springframework.security.web.context.SecurityContextPersistenceFilter@f091a7a, org.springframework.security.web.authentication.logout.LogoutFilter@3eb4e085, com.example.refugeeshelter.filter.CustomAuthorizationFilter@338b3600, com.example.refugeeshelter.filter.CustomAuthenticationFilter@59b716d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ba4b731, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@786a7aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7587e0df, org.springframework.security.web.session.SessionManagementFilter@2df81c3, org.springframework.security.web.access.ExceptionTranslationFilter@35d139e6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c94c845]
2022-10-28 18:48:16.793  INFO 25557 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-10-28 18:48:16.811  INFO 25557 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2022-10-28 18:48:16.818  INFO 25557 --- [restartedMain] c.e.r.RefugeeShelterApplication          : Started RefugeeShelterApplication in 1.449 seconds (JVM running for 4807.175)
2022-10-28 18:48:16.828  INFO 25557 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2022-10-28 18:48:51.245  INFO 25557 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 18:48:51.254  INFO 25557 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2022-10-28 18:48:51.272  INFO 25557 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
